var kT=e=>{throw TypeError(e)};var vj=(e,t,n)=>t.has(e)||kT("Cannot "+n);var G=(e,t,n)=>(vj(e,t,"read from private field"),n?n.call(e):t.get(e)),qe=(e,t,n)=>t.has(e)?kT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Oe=(e,t,n,r)=>(vj(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),dt=(e,t,n)=>(vj(e,t,"access private method"),n);var ix=(e,t,n,r)=>({set _(a){Oe(e,t,a,n)},get _(){return G(e,t,r)}});function TG(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var K5={exports:{}},Z0={},G5={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=Symbol.for("react.element"),OG=Symbol.for("react.portal"),_G=Symbol.for("react.fragment"),RG=Symbol.for("react.strict_mode"),MG=Symbol.for("react.profiler"),IG=Symbol.for("react.provider"),DG=Symbol.for("react.context"),$G=Symbol.for("react.forward_ref"),LG=Symbol.for("react.suspense"),FG=Symbol.for("react.memo"),BG=Symbol.for("react.lazy"),TT=Symbol.iterator;function VG(e){return e===null||typeof e!="object"?null:(e=TT&&e[TT]||e["@@iterator"],typeof e=="function"?e:null)}var Y5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X5=Object.assign,Q5={};function Hf(e,t,n){this.props=e,this.context=t,this.refs=Q5,this.updater=n||Y5}Hf.prototype.isReactComponent={};Hf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z5(){}Z5.prototype=Hf.prototype;function cP(e,t,n){this.props=e,this.context=t,this.refs=Q5,this.updater=n||Y5}var uP=cP.prototype=new Z5;uP.constructor=cP;X5(uP,Hf.prototype);uP.isPureReactComponent=!0;var OT=Array.isArray,J5=Object.prototype.hasOwnProperty,dP={current:null},e3={key:!0,ref:!0,__self:!0,__source:!0};function t3(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)J5.call(t,r)&&!e3.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:jg,type:e,key:i,ref:o,props:a,_owner:dP.current}}function UG(e,t){return{$$typeof:jg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fP(e){return typeof e=="object"&&e!==null&&e.$$typeof===jg}function zG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _T=/\/+/g;function bj(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zG(""+e.key):t.toString(36)}function ry(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jg:case OG:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+bj(o,0):r,OT(a)?(n="",e!=null&&(n=e.replace(_T,"$&/")+"/"),ry(a,t,n,"",function(u){return u})):a!=null&&(fP(a)&&(a=UG(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(_T,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",OT(e))for(var l=0;l<e.length;l++){i=e[l];var c=r+bj(i,l);o+=ry(i,t,n,c,a)}else if(c=VG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=r+bj(i,l++),o+=ry(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function lx(e,t,n){if(e==null)return e;var r=[],a=0;return ry(e,r,"","",function(i){return t.call(n,i,a++)}),r}function WG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var os={current:null},sy={transition:null},qG={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:sy,ReactCurrentOwner:dP};function n3(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:lx,forEach:function(e,t,n){lx(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lx(e,function(){t++}),t},toArray:function(e){return lx(e,function(t){return t})||[]},only:function(e){if(!fP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};yt.Component=Hf;yt.Fragment=_G;yt.Profiler=MG;yt.PureComponent=cP;yt.StrictMode=RG;yt.Suspense=LG;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qG;yt.act=n3;yt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=X5({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=dP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)J5.call(t,c)&&!e3.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:jg,type:e.type,key:a,ref:i,props:r,_owner:o}};yt.createContext=function(e){return e={$$typeof:DG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:IG,_context:e},e.Consumer=e};yt.createElement=t3;yt.createFactory=function(e){var t=t3.bind(null,e);return t.type=e,t};yt.createRef=function(){return{current:null}};yt.forwardRef=function(e){return{$$typeof:$G,render:e}};yt.isValidElement=fP;yt.lazy=function(e){return{$$typeof:BG,_payload:{_status:-1,_result:e},_init:WG}};yt.memo=function(e,t){return{$$typeof:FG,type:e,compare:t===void 0?null:t}};yt.startTransition=function(e){var t=sy.transition;sy.transition={};try{e()}finally{sy.transition=t}};yt.unstable_act=n3;yt.useCallback=function(e,t){return os.current.useCallback(e,t)};yt.useContext=function(e){return os.current.useContext(e)};yt.useDebugValue=function(){};yt.useDeferredValue=function(e){return os.current.useDeferredValue(e)};yt.useEffect=function(e,t){return os.current.useEffect(e,t)};yt.useId=function(){return os.current.useId()};yt.useImperativeHandle=function(e,t,n){return os.current.useImperativeHandle(e,t,n)};yt.useInsertionEffect=function(e,t){return os.current.useInsertionEffect(e,t)};yt.useLayoutEffect=function(e,t){return os.current.useLayoutEffect(e,t)};yt.useMemo=function(e,t){return os.current.useMemo(e,t)};yt.useReducer=function(e,t,n){return os.current.useReducer(e,t,n)};yt.useRef=function(e){return os.current.useRef(e)};yt.useState=function(e){return os.current.useState(e)};yt.useSyncExternalStore=function(e,t,n){return os.current.useSyncExternalStore(e,t,n)};yt.useTransition=function(){return os.current.useTransition()};yt.version="18.3.1";G5.exports=yt;var y=G5.exports;const M=Mt(y),mP=TG({__proto__:null,default:M},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG=y,KG=Symbol.for("react.element"),GG=Symbol.for("react.fragment"),YG=Object.prototype.hasOwnProperty,XG=HG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QG={key:!0,ref:!0,__self:!0,__source:!0};function r3(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)YG.call(t,r)&&!QG.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:KG,type:e,key:i,ref:o,props:a,_owner:XG.current}}Z0.Fragment=GG;Z0.jsx=r3;Z0.jsxs=r3;K5.exports=Z0;var s=K5.exports,s3={exports:{}},Ks={},a3={exports:{}},i3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,_){var z=O.length;O.push(_);e:for(;0<z;){var ne=z-1>>>1,Y=O[ne];if(0<a(Y,_))O[ne]=_,O[z]=Y,z=ne;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var _=O[0],z=O.pop();if(z!==_){O[0]=z;e:for(var ne=0,Y=O.length,Q=Y>>>1;ne<Q;){var ie=2*(ne+1)-1,ae=O[ie],ge=ie+1,$=O[ge];if(0>a(ae,z))ge<Y&&0>a($,ae)?(O[ne]=$,O[ge]=z,ne=ge):(O[ne]=ae,O[ie]=z,ne=ie);else if(ge<Y&&0>a($,z))O[ne]=$,O[ge]=z,ne=ge;else break e}}return _}function a(O,_){var z=O.sortIndex-_.sortIndex;return z!==0?z:O.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var _=n(u);_!==null;){if(_.callback===null)r(u);else if(_.startTime<=O)r(u),_.sortIndex=_.expirationTime,t(c,_);else break;_=n(u)}}function N(O){if(p=!1,w(O),!g)if(n(c)!==null)g=!0,B(j);else{var _=n(u);_!==null&&V(N,_.startTime-O)}}function j(O,_){g=!1,p&&(p=!1,v(P),P=-1),h=!0;var z=m;try{for(w(_),f=n(c);f!==null&&(!(f.expirationTime>_)||O&&!E());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,m=f.priorityLevel;var Y=ne(f.expirationTime<=_);_=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),w(_)}else r(c);f=n(c)}if(f!==null)var Q=!0;else{var ie=n(u);ie!==null&&V(N,ie.startTime-_),Q=!1}return Q}finally{f=null,m=z,h=!1}}var S=!1,C=null,P=-1,A=5,T=-1;function E(){return!(e.unstable_now()-T<A)}function k(){if(C!==null){var O=e.unstable_now();T=O;var _=!0;try{_=C(!0,O)}finally{_?R():(S=!1,C=null)}}else S=!1}var R;if(typeof b=="function")R=function(){b(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=k,R=function(){D.postMessage(null)}}else R=function(){x(k,0)};function B(O){C=O,S||(S=!0,R())}function V(O,_){P=x(function(){O(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,B(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(m){case 1:case 2:case 3:var _=3;break;default:_=m}var z=m;m=_;try{return O()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,_){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=m;m=O;try{return _()}finally{m=z}},e.unstable_scheduleCallback=function(O,_,z){var ne=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ne+z:ne):z=ne,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,O={id:d++,callback:_,priorityLevel:O,startTime:z,expirationTime:Y,sortIndex:-1},z>ne?(O.sortIndex=z,t(u,O),n(c)===null&&O===n(u)&&(p?(v(P),P=-1):p=!0,V(N,z-ne))):(O.sortIndex=Y,t(c,O),g||h||(g=!0,B(j))),O},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(O){var _=m;return function(){var z=m;m=_;try{return O.apply(this,arguments)}finally{m=z}}}})(i3);a3.exports=i3;var ZG=a3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JG=y,Us=ZG;function Ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o3=new Set,qh={};function ku(e,t){Xd(e,t),Xd(e+"Capture",t)}function Xd(e,t){for(qh[e]=t,e=0;e<t.length;e++)o3.add(t[e])}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),o1=Object.prototype.hasOwnProperty,eY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RT={},MT={};function tY(e){return o1.call(MT,e)?!0:o1.call(RT,e)?!1:eY.test(e)?MT[e]=!0:(RT[e]=!0,!1)}function nY(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rY(e,t,n,r){if(t===null||typeof t>"u"||nY(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ls(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Tr[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Tr[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Tr[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Tr[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Tr[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Tr[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Tr[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Tr[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Tr[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var hP=/[\-:]([a-z])/g;function pP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hP,pP);Tr[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hP,pP);Tr[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hP,pP);Tr[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Tr[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});Tr.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Tr[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});function gP(e,t,n,r){var a=Tr.hasOwnProperty(t)?Tr[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rY(t,n,a,r)&&(n=null),r||a===null?tY(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Mo=JG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cx=Symbol.for("react.element"),Qu=Symbol.for("react.portal"),Zu=Symbol.for("react.fragment"),xP=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),c3=Symbol.for("react.context"),yP=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),u1=Symbol.for("react.suspense_list"),vP=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),u3=Symbol.for("react.offscreen"),IT=Symbol.iterator;function Mm(e){return e===null||typeof e!="object"?null:(e=IT&&e[IT]||e["@@iterator"],typeof e=="function"?e:null)}var En=Object.assign,wj;function oh(e){if(wj===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wj=t&&t[1]||""}return`
`+wj+e}var jj=!1;function Nj(e,t){if(!e||jj)return"";jj=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{jj=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?oh(e):""}function sY(e){switch(e.tag){case 5:return oh(e.type);case 16:return oh("Lazy");case 13:return oh("Suspense");case 19:return oh("SuspenseList");case 0:case 2:case 15:return e=Nj(e.type,!1),e;case 11:return e=Nj(e.type.render,!1),e;case 1:return e=Nj(e.type,!0),e;default:return""}}function d1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Zu:return"Fragment";case Qu:return"Portal";case l1:return"Profiler";case xP:return"StrictMode";case c1:return"Suspense";case u1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case c3:return(e.displayName||"Context")+".Consumer";case l3:return(e._context.displayName||"Context")+".Provider";case yP:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vP:return t=e.displayName||null,t!==null?t:d1(e.type)||"Memo";case Qo:t=e._payload,e=e._init;try{return d1(e(t))}catch{}}return null}function aY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d1(t);case 8:return t===xP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function d3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iY(e){var t=d3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ux(e){e._valueTracker||(e._valueTracker=iY(e))}function f3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=d3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ty(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function f1(e,t){var n=t.checked;return En({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function DT(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ll(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function m3(e,t){t=t.checked,t!=null&&gP(e,"checked",t,!1)}function m1(e,t){m3(e,t);var n=Ll(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h1(e,t.type,n):t.hasOwnProperty("defaultValue")&&h1(e,t.type,Ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $T(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function h1(e,t,n){(t!=="number"||Ty(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lh=Array.isArray;function Nd(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ll(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function p1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return En({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ne(92));if(lh(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ll(n)}}function h3(e,t){var n=Ll(t.value),r=Ll(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function FT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function p3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?p3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var dx,g3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(dx=dx||document.createElement("div"),dx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oY=["Webkit","ms","Moz","O"];Object.keys(yh).forEach(function(e){oY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yh[t]=yh[e]})});function x3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yh.hasOwnProperty(e)&&yh[e]?(""+t).trim():t+"px"}function y3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=x3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var lY=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x1(e,t){if(t){if(lY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ne(62))}}function y1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function bP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var b1=null,Sd=null,Cd=null;function BT(e){if(e=Cg(e)){if(typeof b1!="function")throw Error(Ne(280));var t=e.stateNode;t&&(t=rb(t),b1(e.stateNode,e.type,t))}}function v3(e){Sd?Cd?Cd.push(e):Cd=[e]:Sd=e}function b3(){if(Sd){var e=Sd,t=Cd;if(Cd=Sd=null,BT(e),t)for(e=0;e<t.length;e++)BT(t[e])}}function w3(e,t){return e(t)}function j3(){}var Sj=!1;function N3(e,t,n){if(Sj)return e(t,n);Sj=!0;try{return w3(e,t,n)}finally{Sj=!1,(Sd!==null||Cd!==null)&&(j3(),b3())}}function Kh(e,t){var n=e.stateNode;if(n===null)return null;var r=rb(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ne(231,t,typeof n));return n}var w1=!1;if(xo)try{var Im={};Object.defineProperty(Im,"passive",{get:function(){w1=!0}}),window.addEventListener("test",Im,Im),window.removeEventListener("test",Im,Im)}catch{w1=!1}function cY(e,t,n,r,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var vh=!1,Oy=null,_y=!1,j1=null,uY={onError:function(e){vh=!0,Oy=e}};function dY(e,t,n,r,a,i,o,l,c){vh=!1,Oy=null,cY.apply(uY,arguments)}function fY(e,t,n,r,a,i,o,l,c){if(dY.apply(this,arguments),vh){if(vh){var u=Oy;vh=!1,Oy=null}else throw Error(Ne(198));_y||(_y=!0,j1=u)}}function Tu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function S3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VT(e){if(Tu(e)!==e)throw Error(Ne(188))}function mY(e){var t=e.alternate;if(!t){if(t=Tu(e),t===null)throw Error(Ne(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return VT(a),e;if(i===r)return VT(a),t;i=i.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?e:t}function C3(e){return e=mY(e),e!==null?P3(e):null}function P3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P3(e);if(t!==null)return t;e=e.sibling}return null}var A3=Us.unstable_scheduleCallback,UT=Us.unstable_cancelCallback,hY=Us.unstable_shouldYield,pY=Us.unstable_requestPaint,Vn=Us.unstable_now,gY=Us.unstable_getCurrentPriorityLevel,wP=Us.unstable_ImmediatePriority,E3=Us.unstable_UserBlockingPriority,Ry=Us.unstable_NormalPriority,xY=Us.unstable_LowPriority,k3=Us.unstable_IdlePriority,J0=null,ji=null;function yY(e){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(J0,e,void 0,(e.current.flags&128)===128)}catch{}}var Ua=Math.clz32?Math.clz32:wY,vY=Math.log,bY=Math.LN2;function wY(e){return e>>>=0,e===0?32:31-(vY(e)/bY|0)|0}var fx=64,mx=4194304;function ch(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function My(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=ch(l):(i&=o,i!==0&&(r=ch(i)))}else o=n&~a,o!==0?r=ch(o):i!==0&&(r=ch(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ua(t),a=1<<n,r|=e[n],t&=~a;return r}function jY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NY(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ua(i),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=jY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function N1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T3(){var e=fx;return fx<<=1,!(fx&4194240)&&(fx=64),e}function Cj(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ng(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ua(t),e[t]=n}function SY(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ua(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function jP(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ua(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var qt=0;function O3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _3,NP,R3,M3,I3,S1=!1,hx=[],jl=null,Nl=null,Sl=null,Gh=new Map,Yh=new Map,rl=[],CY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zT(e,t){switch(e){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":Nl=null;break;case"mouseover":case"mouseout":Sl=null;break;case"pointerover":case"pointerout":Gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yh.delete(t.pointerId)}}function Dm(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Cg(t),t!==null&&NP(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function PY(e,t,n,r,a){switch(t){case"focusin":return jl=Dm(jl,e,t,n,r,a),!0;case"dragenter":return Nl=Dm(Nl,e,t,n,r,a),!0;case"mouseover":return Sl=Dm(Sl,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Gh.set(i,Dm(Gh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Yh.set(i,Dm(Yh.get(i)||null,e,t,n,r,a)),!0}return!1}function D3(e){var t=Ic(e.target);if(t!==null){var n=Tu(t);if(n!==null){if(t=n.tag,t===13){if(t=S3(n),t!==null){e.blockedOn=t,I3(e.priority,function(){R3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ay(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=C1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return t=Cg(n),t!==null&&NP(t),e.blockedOn=n,!1;t.shift()}return!0}function WT(e,t,n){ay(e)&&n.delete(t)}function AY(){S1=!1,jl!==null&&ay(jl)&&(jl=null),Nl!==null&&ay(Nl)&&(Nl=null),Sl!==null&&ay(Sl)&&(Sl=null),Gh.forEach(WT),Yh.forEach(WT)}function $m(e,t){e.blockedOn===t&&(e.blockedOn=null,S1||(S1=!0,Us.unstable_scheduleCallback(Us.unstable_NormalPriority,AY)))}function Xh(e){function t(a){return $m(a,e)}if(0<hx.length){$m(hx[0],e);for(var n=1;n<hx.length;n++){var r=hx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jl!==null&&$m(jl,e),Nl!==null&&$m(Nl,e),Sl!==null&&$m(Sl,e),Gh.forEach(t),Yh.forEach(t),n=0;n<rl.length;n++)r=rl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<rl.length&&(n=rl[0],n.blockedOn===null);)D3(n),n.blockedOn===null&&rl.shift()}var Pd=Mo.ReactCurrentBatchConfig,Iy=!0;function EY(e,t,n,r){var a=qt,i=Pd.transition;Pd.transition=null;try{qt=1,SP(e,t,n,r)}finally{qt=a,Pd.transition=i}}function kY(e,t,n,r){var a=qt,i=Pd.transition;Pd.transition=null;try{qt=4,SP(e,t,n,r)}finally{qt=a,Pd.transition=i}}function SP(e,t,n,r){if(Iy){var a=C1(e,t,n,r);if(a===null)Ij(e,t,r,Dy,n),zT(e,r);else if(PY(a,e,t,n,r))r.stopPropagation();else if(zT(e,r),t&4&&-1<CY.indexOf(e)){for(;a!==null;){var i=Cg(a);if(i!==null&&_3(i),i=C1(e,t,n,r),i===null&&Ij(e,t,r,Dy,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Ij(e,t,r,null,n)}}var Dy=null;function C1(e,t,n,r){if(Dy=null,e=bP(r),e=Ic(e),e!==null)if(t=Tu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=S3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dy=e,null}function $3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gY()){case wP:return 1;case E3:return 4;case Ry:case xY:return 16;case k3:return 536870912;default:return 16}default:return 16}}var xl=null,CP=null,iy=null;function L3(){if(iy)return iy;var e,t=CP,n=t.length,r,a="value"in xl?xl.value:xl.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return iy=a.slice(e,1<r?1-r:void 0)}function oy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function px(){return!0}function qT(){return!1}function Gs(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?px:qT,this.isPropagationStopped=qT,this}return En(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=px)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=px)},persist:function(){},isPersistent:px}),t}var Kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PP=Gs(Kf),Sg=En({},Kf,{view:0,detail:0}),TY=Gs(Sg),Pj,Aj,Lm,eb=En({},Sg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:AP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lm&&(Lm&&e.type==="mousemove"?(Pj=e.screenX-Lm.screenX,Aj=e.screenY-Lm.screenY):Aj=Pj=0,Lm=e),Pj)},movementY:function(e){return"movementY"in e?e.movementY:Aj}}),HT=Gs(eb),OY=En({},eb,{dataTransfer:0}),_Y=Gs(OY),RY=En({},Sg,{relatedTarget:0}),Ej=Gs(RY),MY=En({},Kf,{animationName:0,elapsedTime:0,pseudoElement:0}),IY=Gs(MY),DY=En({},Kf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$Y=Gs(DY),LY=En({},Kf,{data:0}),KT=Gs(LY),FY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VY[e])?!!t[e]:!1}function AP(){return UY}var zY=En({},Sg,{key:function(e){if(e.key){var t=FY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:AP,charCode:function(e){return e.type==="keypress"?oy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),WY=Gs(zY),qY=En({},eb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GT=Gs(qY),HY=En({},Sg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:AP}),KY=Gs(HY),GY=En({},Kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),YY=Gs(GY),XY=En({},eb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QY=Gs(XY),ZY=[9,13,27,32],EP=xo&&"CompositionEvent"in window,bh=null;xo&&"documentMode"in document&&(bh=document.documentMode);var JY=xo&&"TextEvent"in window&&!bh,F3=xo&&(!EP||bh&&8<bh&&11>=bh),YT=" ",XT=!1;function B3(e,t){switch(e){case"keyup":return ZY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ju=!1;function eX(e,t){switch(e){case"compositionend":return V3(t);case"keypress":return t.which!==32?null:(XT=!0,YT);case"textInput":return e=t.data,e===YT&&XT?null:e;default:return null}}function tX(e,t){if(Ju)return e==="compositionend"||!EP&&B3(e,t)?(e=L3(),iy=CP=xl=null,Ju=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return F3&&t.locale!=="ko"?null:t.data;default:return null}}var nX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nX[e.type]:t==="textarea"}function U3(e,t,n,r){v3(r),t=$y(t,"onChange"),0<t.length&&(n=new PP("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wh=null,Qh=null;function rX(e){J3(e,0)}function tb(e){var t=nd(e);if(f3(t))return e}function sX(e,t){if(e==="change")return t}var z3=!1;if(xo){var kj;if(xo){var Tj="oninput"in document;if(!Tj){var ZT=document.createElement("div");ZT.setAttribute("oninput","return;"),Tj=typeof ZT.oninput=="function"}kj=Tj}else kj=!1;z3=kj&&(!document.documentMode||9<document.documentMode)}function JT(){wh&&(wh.detachEvent("onpropertychange",W3),Qh=wh=null)}function W3(e){if(e.propertyName==="value"&&tb(Qh)){var t=[];U3(t,Qh,e,bP(e)),N3(rX,t)}}function aX(e,t,n){e==="focusin"?(JT(),wh=t,Qh=n,wh.attachEvent("onpropertychange",W3)):e==="focusout"&&JT()}function iX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tb(Qh)}function oX(e,t){if(e==="click")return tb(t)}function lX(e,t){if(e==="input"||e==="change")return tb(t)}function cX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ya=typeof Object.is=="function"?Object.is:cX;function Zh(e,t){if(Ya(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!o1.call(t,a)||!Ya(e[a],t[a]))return!1}return!0}function eO(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tO(e,t){var n=eO(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eO(n)}}function q3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function H3(){for(var e=window,t=Ty();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ty(e.document)}return t}function kP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uX(e){var t=H3(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&q3(n.ownerDocument.documentElement,n)){if(r!==null&&kP(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=tO(n,i);var o=tO(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dX=xo&&"documentMode"in document&&11>=document.documentMode,ed=null,P1=null,jh=null,A1=!1;function nO(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;A1||ed==null||ed!==Ty(r)||(r=ed,"selectionStart"in r&&kP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jh&&Zh(jh,r)||(jh=r,r=$y(P1,"onSelect"),0<r.length&&(t=new PP("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ed)))}function gx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var td={animationend:gx("Animation","AnimationEnd"),animationiteration:gx("Animation","AnimationIteration"),animationstart:gx("Animation","AnimationStart"),transitionend:gx("Transition","TransitionEnd")},Oj={},K3={};xo&&(K3=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function nb(e){if(Oj[e])return Oj[e];if(!td[e])return e;var t=td[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in K3)return Oj[e]=t[n];return e}var G3=nb("animationend"),Y3=nb("animationiteration"),X3=nb("animationstart"),Q3=nb("transitionend"),Z3=new Map,rO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(e,t){Z3.set(e,t),ku(t,[e])}for(var _j=0;_j<rO.length;_j++){var Rj=rO[_j],fX=Rj.toLowerCase(),mX=Rj[0].toUpperCase()+Rj.slice(1);tc(fX,"on"+mX)}tc(G3,"onAnimationEnd");tc(Y3,"onAnimationIteration");tc(X3,"onAnimationStart");tc("dblclick","onDoubleClick");tc("focusin","onFocus");tc("focusout","onBlur");tc(Q3,"onTransitionEnd");Xd("onMouseEnter",["mouseout","mouseover"]);Xd("onMouseLeave",["mouseout","mouseover"]);Xd("onPointerEnter",["pointerout","pointerover"]);Xd("onPointerLeave",["pointerout","pointerover"]);ku("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ku("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ku("onBeforeInput",["compositionend","keypress","textInput","paste"]);ku("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ku("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ku("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hX=new Set("cancel close invalid load scroll toggle".split(" ").concat(uh));function sO(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fY(r,t,void 0,e),e.currentTarget=null}function J3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;sO(a,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;sO(a,l,u),i=c}}}if(_y)throw e=j1,_y=!1,j1=null,e}function un(e,t){var n=t[_1];n===void 0&&(n=t[_1]=new Set);var r=e+"__bubble";n.has(r)||(eL(t,e,2,!1),n.add(r))}function Mj(e,t,n){var r=0;t&&(r|=4),eL(n,e,r,t)}var xx="_reactListening"+Math.random().toString(36).slice(2);function Jh(e){if(!e[xx]){e[xx]=!0,o3.forEach(function(n){n!=="selectionchange"&&(hX.has(n)||Mj(n,!1,e),Mj(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xx]||(t[xx]=!0,Mj("selectionchange",!1,t))}}function eL(e,t,n,r){switch($3(t)){case 1:var a=EY;break;case 4:a=kY;break;default:a=SP}n=a.bind(null,t,n,e),a=void 0,!w1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Ij(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Ic(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}N3(function(){var u=i,d=bP(n),f=[];e:{var m=Z3.get(e);if(m!==void 0){var h=PP,g=e;switch(e){case"keypress":if(oy(n)===0)break e;case"keydown":case"keyup":h=WY;break;case"focusin":g="focus",h=Ej;break;case"focusout":g="blur",h=Ej;break;case"beforeblur":case"afterblur":h=Ej;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=HT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_Y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=KY;break;case G3:case Y3:case X3:h=IY;break;case Q3:h=YY;break;case"scroll":h=TY;break;case"wheel":h=QY;break;case"copy":case"cut":case"paste":h=$Y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=GT}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?m!==null?m+"Capture":null:m;p=[];for(var b=u,w;b!==null;){w=b;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=Kh(b,v),N!=null&&p.push(ep(b,N,w)))),x)break;b=b.return}0<p.length&&(m=new h(m,g,null,n,d),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==v1&&(g=n.relatedTarget||n.fromElement)&&(Ic(g)||g[yo]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ic(g):null,g!==null&&(x=Tu(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(p=HT,N="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=GT,N="onPointerLeave",v="onPointerEnter",b="pointer"),x=h==null?m:nd(h),w=g==null?m:nd(g),m=new p(N,b+"leave",h,n,d),m.target=x,m.relatedTarget=w,N=null,Ic(d)===u&&(p=new p(v,b+"enter",g,n,d),p.target=w,p.relatedTarget=x,N=p),x=N,h&&g)t:{for(p=h,v=g,b=0,w=p;w;w=Bu(w))b++;for(w=0,N=v;N;N=Bu(N))w++;for(;0<b-w;)p=Bu(p),b--;for(;0<w-b;)v=Bu(v),w--;for(;b--;){if(p===v||v!==null&&p===v.alternate)break t;p=Bu(p),v=Bu(v)}p=null}else p=null;h!==null&&aO(f,m,h,p,!1),g!==null&&x!==null&&aO(f,x,g,p,!0)}}e:{if(m=u?nd(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var j=sX;else if(QT(m))if(z3)j=lX;else{j=iX;var S=aX}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=oX);if(j&&(j=j(e,u))){U3(f,j,n,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&h1(m,"number",m.value)}switch(S=u?nd(u):window,e){case"focusin":(QT(S)||S.contentEditable==="true")&&(ed=S,P1=u,jh=null);break;case"focusout":jh=P1=ed=null;break;case"mousedown":A1=!0;break;case"contextmenu":case"mouseup":case"dragend":A1=!1,nO(f,n,d);break;case"selectionchange":if(dX)break;case"keydown":case"keyup":nO(f,n,d)}var C;if(EP)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Ju?B3(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(F3&&n.locale!=="ko"&&(Ju||P!=="onCompositionStart"?P==="onCompositionEnd"&&Ju&&(C=L3()):(xl=d,CP="value"in xl?xl.value:xl.textContent,Ju=!0)),S=$y(u,P),0<S.length&&(P=new KT(P,e,null,n,d),f.push({event:P,listeners:S}),C?P.data=C:(C=V3(n),C!==null&&(P.data=C)))),(C=JY?eX(e,n):tX(e,n))&&(u=$y(u,"onBeforeInput"),0<u.length&&(d=new KT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}J3(f,t)})}function ep(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $y(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Kh(e,n),i!=null&&r.unshift(ep(e,i,a)),i=Kh(e,t),i!=null&&r.push(ep(e,i,a))),e=e.return}return r}function Bu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function aO(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=Kh(n,i),c!=null&&o.unshift(ep(n,c,l))):a||(c=Kh(n,i),c!=null&&o.push(ep(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var pX=/\r\n?/g,gX=/\u0000|\uFFFD/g;function iO(e){return(typeof e=="string"?e:""+e).replace(pX,`
`).replace(gX,"")}function yx(e,t,n){if(t=iO(t),iO(e)!==t&&n)throw Error(Ne(425))}function Ly(){}var E1=null,k1=null;function T1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,xX=typeof clearTimeout=="function"?clearTimeout:void 0,oO=typeof Promise=="function"?Promise:void 0,yX=typeof queueMicrotask=="function"?queueMicrotask:typeof oO<"u"?function(e){return oO.resolve(null).then(e).catch(vX)}:O1;function vX(e){setTimeout(function(){throw e})}function Dj(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Xh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Xh(t)}function Cl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gf=Math.random().toString(36).slice(2),xi="__reactFiber$"+Gf,tp="__reactProps$"+Gf,yo="__reactContainer$"+Gf,_1="__reactEvents$"+Gf,bX="__reactListeners$"+Gf,wX="__reactHandles$"+Gf;function Ic(e){var t=e[xi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yo]||n[xi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lO(e);e!==null;){if(n=e[xi])return n;e=lO(e)}return t}e=n,n=e.parentNode}return null}function Cg(e){return e=e[xi]||e[yo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ne(33))}function rb(e){return e[tp]||null}var R1=[],rd=-1;function nc(e){return{current:e}}function hn(e){0>rd||(e.current=R1[rd],R1[rd]=null,rd--)}function on(e,t){rd++,R1[rd]=e.current,e.current=t}var Fl={},qr=nc(Fl),ws=nc(!1),uu=Fl;function Qd(e,t){var n=e.type.contextTypes;if(!n)return Fl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function js(e){return e=e.childContextTypes,e!=null}function Fy(){hn(ws),hn(qr)}function cO(e,t,n){if(qr.current!==Fl)throw Error(Ne(168));on(qr,t),on(ws,n)}function tL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ne(108,aY(e)||"Unknown",a));return En({},n,r)}function By(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fl,uu=qr.current,on(qr,e),on(ws,ws.current),!0}function uO(e,t,n){var r=e.stateNode;if(!r)throw Error(Ne(169));n?(e=tL(e,t,uu),r.__reactInternalMemoizedMergedChildContext=e,hn(ws),hn(qr),on(qr,e)):hn(ws),on(ws,n)}var Xi=null,sb=!1,$j=!1;function nL(e){Xi===null?Xi=[e]:Xi.push(e)}function jX(e){sb=!0,nL(e)}function rc(){if(!$j&&Xi!==null){$j=!0;var e=0,t=qt;try{var n=Xi;for(qt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xi=null,sb=!1}catch(a){throw Xi!==null&&(Xi=Xi.slice(e+1)),A3(wP,rc),a}finally{qt=t,$j=!1}}return null}var sd=[],ad=0,Vy=null,Uy=0,ia=[],oa=0,du=null,no=1,ro="";function Pc(e,t){sd[ad++]=Uy,sd[ad++]=Vy,Vy=e,Uy=t}function rL(e,t,n){ia[oa++]=no,ia[oa++]=ro,ia[oa++]=du,du=e;var r=no;e=ro;var a=32-Ua(r)-1;r&=~(1<<a),n+=1;var i=32-Ua(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,no=1<<32-Ua(t)+a|n<<a|r,ro=i+e}else no=1<<i|n<<a|r,ro=e}function TP(e){e.return!==null&&(Pc(e,1),rL(e,1,0))}function OP(e){for(;e===Vy;)Vy=sd[--ad],sd[ad]=null,Uy=sd[--ad],sd[ad]=null;for(;e===du;)du=ia[--oa],ia[oa]=null,ro=ia[--oa],ia[oa]=null,no=ia[--oa],ia[oa]=null}var Ls=null,Ds=null,gn=!1,La=null;function sL(e,t){var n=ua(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dO(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ls=e,Ds=Cl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ls=e,Ds=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=du!==null?{id:no,overflow:ro}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ua(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ls=e,Ds=null,!0):!1;default:return!1}}function M1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function I1(e){if(gn){var t=Ds;if(t){var n=t;if(!dO(e,t)){if(M1(e))throw Error(Ne(418));t=Cl(n.nextSibling);var r=Ls;t&&dO(e,t)?sL(r,n):(e.flags=e.flags&-4097|2,gn=!1,Ls=e)}}else{if(M1(e))throw Error(Ne(418));e.flags=e.flags&-4097|2,gn=!1,Ls=e}}}function fO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ls=e}function vx(e){if(e!==Ls)return!1;if(!gn)return fO(e),gn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!T1(e.type,e.memoizedProps)),t&&(t=Ds)){if(M1(e))throw aL(),Error(Ne(418));for(;t;)sL(e,t),t=Cl(t.nextSibling)}if(fO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ds=Cl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ds=null}}else Ds=Ls?Cl(e.stateNode.nextSibling):null;return!0}function aL(){for(var e=Ds;e;)e=Cl(e.nextSibling)}function Zd(){Ds=Ls=null,gn=!1}function _P(e){La===null?La=[e]:La.push(e)}var NX=Mo.ReactCurrentBatchConfig;function Fm(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,e))}return e}function bx(e,t){throw e=Object.prototype.toString.call(t),Error(Ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mO(e){var t=e._init;return t(e._payload)}function iL(e){function t(v,b){if(e){var w=v.deletions;w===null?(v.deletions=[b],v.flags|=16):w.push(b)}}function n(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function r(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=kl(v,b),v.index=0,v.sibling=null,v}function i(v,b,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<b?(v.flags|=2,b):w):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,w,N){return b===null||b.tag!==6?(b=Wj(w,v.mode,N),b.return=v,b):(b=a(b,w),b.return=v,b)}function c(v,b,w,N){var j=w.type;return j===Zu?d(v,b,w.props.children,N,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qo&&mO(j)===b.type)?(N=a(b,w.props),N.ref=Fm(v,b,w),N.return=v,N):(N=hy(w.type,w.key,w.props,null,v.mode,N),N.ref=Fm(v,b,w),N.return=v,N)}function u(v,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=qj(w,v.mode,N),b.return=v,b):(b=a(b,w.children||[]),b.return=v,b)}function d(v,b,w,N,j){return b===null||b.tag!==7?(b=nu(w,v.mode,N,j),b.return=v,b):(b=a(b,w),b.return=v,b)}function f(v,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Wj(""+b,v.mode,w),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cx:return w=hy(b.type,b.key,b.props,null,v.mode,w),w.ref=Fm(v,null,b),w.return=v,w;case Qu:return b=qj(b,v.mode,w),b.return=v,b;case Qo:var N=b._init;return f(v,N(b._payload),w)}if(lh(b)||Mm(b))return b=nu(b,v.mode,w,null),b.return=v,b;bx(v,b)}return null}function m(v,b,w,N){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(v,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cx:return w.key===j?c(v,b,w,N):null;case Qu:return w.key===j?u(v,b,w,N):null;case Qo:return j=w._init,m(v,b,j(w._payload),N)}if(lh(w)||Mm(w))return j!==null?null:d(v,b,w,N,null);bx(v,w)}return null}function h(v,b,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,l(b,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cx:return v=v.get(N.key===null?w:N.key)||null,c(b,v,N,j);case Qu:return v=v.get(N.key===null?w:N.key)||null,u(b,v,N,j);case Qo:var S=N._init;return h(v,b,w,S(N._payload),j)}if(lh(N)||Mm(N))return v=v.get(w)||null,d(b,v,N,j,null);bx(b,N)}return null}function g(v,b,w,N){for(var j=null,S=null,C=b,P=b=0,A=null;C!==null&&P<w.length;P++){C.index>P?(A=C,C=null):A=C.sibling;var T=m(v,C,w[P],N);if(T===null){C===null&&(C=A);break}e&&C&&T.alternate===null&&t(v,C),b=i(T,b,P),S===null?j=T:S.sibling=T,S=T,C=A}if(P===w.length)return n(v,C),gn&&Pc(v,P),j;if(C===null){for(;P<w.length;P++)C=f(v,w[P],N),C!==null&&(b=i(C,b,P),S===null?j=C:S.sibling=C,S=C);return gn&&Pc(v,P),j}for(C=r(v,C);P<w.length;P++)A=h(C,v,P,w[P],N),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),b=i(A,b,P),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(E){return t(v,E)}),gn&&Pc(v,P),j}function p(v,b,w,N){var j=Mm(w);if(typeof j!="function")throw Error(Ne(150));if(w=j.call(w),w==null)throw Error(Ne(151));for(var S=j=null,C=b,P=b=0,A=null,T=w.next();C!==null&&!T.done;P++,T=w.next()){C.index>P?(A=C,C=null):A=C.sibling;var E=m(v,C,T.value,N);if(E===null){C===null&&(C=A);break}e&&C&&E.alternate===null&&t(v,C),b=i(E,b,P),S===null?j=E:S.sibling=E,S=E,C=A}if(T.done)return n(v,C),gn&&Pc(v,P),j;if(C===null){for(;!T.done;P++,T=w.next())T=f(v,T.value,N),T!==null&&(b=i(T,b,P),S===null?j=T:S.sibling=T,S=T);return gn&&Pc(v,P),j}for(C=r(v,C);!T.done;P++,T=w.next())T=h(C,v,P,T.value,N),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?P:T.key),b=i(T,b,P),S===null?j=T:S.sibling=T,S=T);return e&&C.forEach(function(k){return t(v,k)}),gn&&Pc(v,P),j}function x(v,b,w,N){if(typeof w=="object"&&w!==null&&w.type===Zu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case cx:e:{for(var j=w.key,S=b;S!==null;){if(S.key===j){if(j=w.type,j===Zu){if(S.tag===7){n(v,S.sibling),b=a(S,w.props.children),b.return=v,v=b;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qo&&mO(j)===S.type){n(v,S.sibling),b=a(S,w.props),b.ref=Fm(v,S,w),b.return=v,v=b;break e}n(v,S);break}else t(v,S);S=S.sibling}w.type===Zu?(b=nu(w.props.children,v.mode,N,w.key),b.return=v,v=b):(N=hy(w.type,w.key,w.props,null,v.mode,N),N.ref=Fm(v,b,w),N.return=v,v=N)}return o(v);case Qu:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(v,b.sibling),b=a(b,w.children||[]),b.return=v,v=b;break e}else{n(v,b);break}else t(v,b);b=b.sibling}b=qj(w,v.mode,N),b.return=v,v=b}return o(v);case Qo:return S=w._init,x(v,b,S(w._payload),N)}if(lh(w))return g(v,b,w,N);if(Mm(w))return p(v,b,w,N);bx(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(v,b.sibling),b=a(b,w),b.return=v,v=b):(n(v,b),b=Wj(w,v.mode,N),b.return=v,v=b),o(v)):n(v,b)}return x}var Jd=iL(!0),oL=iL(!1),zy=nc(null),Wy=null,id=null,RP=null;function MP(){RP=id=Wy=null}function IP(e){var t=zy.current;hn(zy),e._currentValue=t}function D1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ad(e,t){Wy=e,RP=id=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ys=!0),e.firstContext=null)}function va(e){var t=e._currentValue;if(RP!==e)if(e={context:e,memoizedValue:t,next:null},id===null){if(Wy===null)throw Error(Ne(308));id=e,Wy.dependencies={lanes:0,firstContext:e}}else id=id.next=e;return t}var Dc=null;function DP(e){Dc===null?Dc=[e]:Dc.push(e)}function lL(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,DP(t)):(n.next=a.next,a.next=n),t.interleaved=n,vo(e,r)}function vo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Zo=!1;function $P(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,kt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,vo(e,n)}return a=r.interleaved,a===null?(t.next=t,DP(r)):(t.next=a.next,a.next=t),r.interleaved=t,vo(e,n)}function ly(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jP(e,n)}}function hO(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qy(e,t,n,r){var a=e.updateQueue;Zo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,h=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(m=t,h=n,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(h,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,m=typeof g=="function"?g.call(h,f,m):g,m==null)break e;f=En({},f,m);break e;case 2:Zo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);mu|=o,e.lanes=o,e.memoizedState=f}}function pO(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ne(191,a));a.call(r)}}}var Pg={},Ni=nc(Pg),np=nc(Pg),rp=nc(Pg);function $c(e){if(e===Pg)throw Error(Ne(174));return e}function LP(e,t){switch(on(rp,t),on(np,e),on(Ni,Pg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:g1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=g1(t,e)}hn(Ni),on(Ni,t)}function ef(){hn(Ni),hn(np),hn(rp)}function uL(e){$c(rp.current);var t=$c(Ni.current),n=g1(t,e.type);t!==n&&(on(np,e),on(Ni,n))}function FP(e){np.current===e&&(hn(Ni),hn(np))}var Sn=nc(0);function Hy(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lj=[];function BP(){for(var e=0;e<Lj.length;e++)Lj[e]._workInProgressVersionPrimary=null;Lj.length=0}var cy=Mo.ReactCurrentDispatcher,Fj=Mo.ReactCurrentBatchConfig,fu=0,An=null,rr=null,xr=null,Ky=!1,Nh=!1,sp=0,SX=0;function Dr(){throw Error(Ne(321))}function VP(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ya(e[n],t[n]))return!1;return!0}function UP(e,t,n,r,a,i){if(fu=i,An=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cy.current=e===null||e.memoizedState===null?EX:kX,e=n(r,a),Nh){i=0;do{if(Nh=!1,sp=0,25<=i)throw Error(Ne(301));i+=1,xr=rr=null,t.updateQueue=null,cy.current=TX,e=n(r,a)}while(Nh)}if(cy.current=Gy,t=rr!==null&&rr.next!==null,fu=0,xr=rr=An=null,Ky=!1,t)throw Error(Ne(300));return e}function zP(){var e=sp!==0;return sp=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?An.memoizedState=xr=e:xr=xr.next=e,xr}function ba(){if(rr===null){var e=An.alternate;e=e!==null?e.memoizedState:null}else e=rr.next;var t=xr===null?An.memoizedState:xr.next;if(t!==null)xr=t,rr=e;else{if(e===null)throw Error(Ne(310));rr=e,e={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},xr===null?An.memoizedState=xr=e:xr=xr.next=e}return xr}function ap(e,t){return typeof t=="function"?t(e):t}function Bj(e){var t=ba(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=rr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((fu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,An.lanes|=d,mu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Ya(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,An.lanes|=i,mu|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vj(e){var t=ba(),n=t.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Ya(i,t.memoizedState)||(ys=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function dL(){}function fL(e,t){var n=An,r=ba(),a=t(),i=!Ya(r.memoizedState,a);if(i&&(r.memoizedState=a,ys=!0),r=r.queue,WP(pL.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||xr!==null&&xr.memoizedState.tag&1){if(n.flags|=2048,ip(9,hL.bind(null,n,r,a,t),void 0,null),br===null)throw Error(Ne(349));fu&30||mL(n,t,a)}return a}function mL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=An.updateQueue,t===null?(t={lastEffect:null,stores:null},An.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hL(e,t,n,r){t.value=n,t.getSnapshot=r,gL(t)&&xL(e)}function pL(e,t,n){return n(function(){gL(t)&&xL(e)})}function gL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ya(e,n)}catch{return!0}}function xL(e){var t=vo(e,1);t!==null&&za(t,e,1,-1)}function gO(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:e},t.queue=e,e=e.dispatch=AX.bind(null,An,e),[t.memoizedState,e]}function ip(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=An.updateQueue,t===null?(t={lastEffect:null,stores:null},An.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function yL(){return ba().memoizedState}function uy(e,t,n,r){var a=mi();An.flags|=e,a.memoizedState=ip(1|t,n,void 0,r===void 0?null:r)}function ab(e,t,n,r){var a=ba();r=r===void 0?null:r;var i=void 0;if(rr!==null){var o=rr.memoizedState;if(i=o.destroy,r!==null&&VP(r,o.deps)){a.memoizedState=ip(t,n,i,r);return}}An.flags|=e,a.memoizedState=ip(1|t,n,i,r)}function xO(e,t){return uy(8390656,8,e,t)}function WP(e,t){return ab(2048,8,e,t)}function vL(e,t){return ab(4,2,e,t)}function bL(e,t){return ab(4,4,e,t)}function wL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jL(e,t,n){return n=n!=null?n.concat([e]):null,ab(4,4,wL.bind(null,t,e),n)}function qP(){}function NL(e,t){var n=ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VP(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SL(e,t){var n=ba();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&VP(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function CL(e,t,n){return fu&21?(Ya(n,t)||(n=T3(),An.lanes|=n,mu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function CX(e,t){var n=qt;qt=n!==0&&4>n?n:4,e(!0);var r=Fj.transition;Fj.transition={};try{e(!1),t()}finally{qt=n,Fj.transition=r}}function PL(){return ba().memoizedState}function PX(e,t,n){var r=El(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AL(e))EL(t,n);else if(n=lL(e,t,n,r),n!==null){var a=as();za(n,e,r,a),kL(n,t,r)}}function AX(e,t,n){var r=El(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AL(e))EL(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(a.hasEagerState=!0,a.eagerState=l,Ya(l,o)){var c=t.interleaved;c===null?(a.next=a,DP(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=lL(e,t,a,r),n!==null&&(a=as(),za(n,e,r,a),kL(n,t,r))}}function AL(e){var t=e.alternate;return e===An||t!==null&&t===An}function EL(e,t){Nh=Ky=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,jP(e,n)}}var Gy={readContext:va,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},EX={readContext:va,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:va,useEffect:xO,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,uy(4194308,4,wL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return uy(4194308,4,e,t)},useInsertionEffect:function(e,t){return uy(4,2,e,t)},useMemo:function(e,t){var n=mi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PX.bind(null,An,e),[r.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:gO,useDebugValue:qP,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=gO(!1),t=e[0];return e=CX.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=An,a=mi();if(gn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=t(),br===null)throw Error(Ne(349));fu&30||mL(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,xO(pL.bind(null,r,i,e),[e]),r.flags|=2048,ip(9,hL.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=mi(),t=br.identifierPrefix;if(gn){var n=ro,r=no;n=(r&~(1<<32-Ua(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=SX++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kX={readContext:va,useCallback:NL,useContext:va,useEffect:WP,useImperativeHandle:jL,useInsertionEffect:vL,useLayoutEffect:bL,useMemo:SL,useReducer:Bj,useRef:yL,useState:function(){return Bj(ap)},useDebugValue:qP,useDeferredValue:function(e){var t=ba();return CL(t,rr.memoizedState,e)},useTransition:function(){var e=Bj(ap)[0],t=ba().memoizedState;return[e,t]},useMutableSource:dL,useSyncExternalStore:fL,useId:PL,unstable_isNewReconciler:!1},TX={readContext:va,useCallback:NL,useContext:va,useEffect:WP,useImperativeHandle:jL,useInsertionEffect:vL,useLayoutEffect:bL,useMemo:SL,useReducer:Vj,useRef:yL,useState:function(){return Vj(ap)},useDebugValue:qP,useDeferredValue:function(e){var t=ba();return rr===null?t.memoizedState=e:CL(t,rr.memoizedState,e)},useTransition:function(){var e=Vj(ap)[0],t=ba().memoizedState;return[e,t]},useMutableSource:dL,useSyncExternalStore:fL,useId:PL,unstable_isNewReconciler:!1};function _a(e,t){if(e&&e.defaultProps){t=En({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:En({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ib={isMounted:function(e){return(e=e._reactInternals)?Tu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=as(),a=El(e),i=co(r,a);i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,a),t!==null&&(za(t,e,a,r),ly(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=as(),a=El(e),i=co(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Pl(e,i,a),t!==null&&(za(t,e,a,r),ly(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=as(),r=El(e),a=co(n,r);a.tag=2,t!=null&&(a.callback=t),t=Pl(e,a,r),t!==null&&(za(t,e,r,n),ly(t,e,r))}};function yO(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Zh(n,r)||!Zh(a,i):!0}function TL(e,t,n){var r=!1,a=Fl,i=t.contextType;return typeof i=="object"&&i!==null?i=va(i):(a=js(t)?uu:qr.current,r=t.contextTypes,i=(r=r!=null)?Qd(e,a):Fl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ib,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vO(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ib.enqueueReplaceState(t,t.state,null)}function L1(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$P(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=va(i):(i=js(t)?uu:qr.current,a.context=Qd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($1(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ib.enqueueReplaceState(a,a.state,null),qy(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function tf(e,t){try{var n="",r=t;do n+=sY(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Uj(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function F1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var OX=typeof WeakMap=="function"?WeakMap:Map;function OL(e,t,n){n=co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xy||(Xy=!0,Y1=r),F1(e,t)},n}function _L(e,t,n){n=co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){F1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){F1(e,t),typeof r!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function bO(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new OX;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=qX.bind(null,e,t,n),t.then(e,e))}function wO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jO(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=co(-1,1),t.tag=2,Pl(n,t,1))),n.lanes|=1),e)}var _X=Mo.ReactCurrentOwner,ys=!1;function Qr(e,t,n,r){t.child=e===null?oL(t,null,n,r):Jd(t,e.child,n,r)}function NO(e,t,n,r,a){n=n.render;var i=t.ref;return Ad(t,a),r=UP(e,t,n,r,i,a),n=zP(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(gn&&n&&TP(t),t.flags|=1,Qr(e,t,r,a),t.child)}function SO(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!JP(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,RL(e,t,i,r,a)):(e=hy(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zh,n(o,r)&&e.ref===t.ref)return bo(e,t,a)}return t.flags|=1,e=kl(i,r),e.ref=t.ref,e.return=t,t.child=e}function RL(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Zh(i,r)&&e.ref===t.ref)if(ys=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(ys=!0);else return t.lanes=e.lanes,bo(e,t,a)}return B1(e,t,n,r,a)}function ML(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(ld,Os),Os|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,on(ld,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,on(ld,Os),Os|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,on(ld,Os),Os|=r;return Qr(e,t,a,n),t.child}function IL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function B1(e,t,n,r,a){var i=js(n)?uu:qr.current;return i=Qd(t,i),Ad(t,a),n=UP(e,t,n,r,i,a),r=zP(),e!==null&&!ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bo(e,t,a)):(gn&&r&&TP(t),t.flags|=1,Qr(e,t,n,a),t.child)}function CO(e,t,n,r,a){if(js(n)){var i=!0;By(t)}else i=!1;if(Ad(t,a),t.stateNode===null)dy(e,t),TL(t,n,r),L1(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=va(u):(u=js(n)?uu:qr.current,u=Qd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&vO(t,o,r,u),Zo=!1;var m=t.memoizedState;o.state=m,qy(t,r,o,a),c=t.memoizedState,l!==r||m!==c||ws.current||Zo?(typeof d=="function"&&($1(t,n,d,r),c=t.memoizedState),(l=Zo||yO(t,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cL(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:_a(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=va(c):(c=js(n)?uu:qr.current,c=Qd(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&vO(t,o,r,c),Zo=!1,m=t.memoizedState,o.state=m,qy(t,r,o,a);var g=t.memoizedState;l!==f||m!==g||ws.current||Zo?(typeof h=="function"&&($1(t,n,h,r),g=t.memoizedState),(u=Zo||yO(t,n,u,r,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return V1(e,t,n,r,i,a)}function V1(e,t,n,r,a,i){IL(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&uO(t,n,!1),bo(e,t,i);r=t.stateNode,_X.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Jd(t,e.child,null,i),t.child=Jd(t,null,l,i)):Qr(e,t,l,i),t.memoizedState=r.state,a&&uO(t,n,!0),t.child}function DL(e){var t=e.stateNode;t.pendingContext?cO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cO(e,t.context,!1),LP(e,t.containerInfo)}function PO(e,t,n,r,a){return Zd(),_P(a),t.flags|=256,Qr(e,t,n,r),t.child}var U1={dehydrated:null,treeContext:null,retryLane:0};function z1(e){return{baseLanes:e,cachePool:null,transitions:null}}function $L(e,t,n){var r=t.pendingProps,a=Sn.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),on(Sn,a&1),e===null)return I1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cb(o,r,0,null),e=nu(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=z1(n),t.memoizedState=U1,e):HP(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return RX(e,t,o,r,l,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=kl(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=kl(l,i):(i=nu(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?z1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=U1,r}return i=e.child,e=i.sibling,r=kl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function HP(e,t){return t=cb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wx(e,t,n,r){return r!==null&&_P(r),Jd(t,e.child,null,n),e=HP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function RX(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Uj(Error(Ne(422))),wx(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=cb({mode:"visible",children:r.children},a,0,null),i=nu(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Jd(t,e.child,null,o),t.child.memoizedState=z1(o),t.memoizedState=U1,i);if(!(t.mode&1))return wx(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(Ne(419)),r=Uj(i,r,void 0),wx(e,t,o,r)}if(l=(o&e.childLanes)!==0,ys||l){if(r=br,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,vo(e,a),za(r,e,a,-1))}return ZP(),r=Uj(Error(Ne(421))),wx(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=HX.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ds=Cl(a.nextSibling),Ls=t,gn=!0,La=null,e!==null&&(ia[oa++]=no,ia[oa++]=ro,ia[oa++]=du,no=e.id,ro=e.overflow,du=t),t=HP(t,r.children),t.flags|=4096,t)}function AO(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),D1(e.return,t,n)}function zj(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function LL(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Qr(e,t,r.children,n),r=Sn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AO(e,n,t);else if(e.tag===19)AO(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(on(Sn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Hy(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zj(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Hy(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zj(t,!0,n,null,i);break;case"together":zj(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function dy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ne(153));if(t.child!==null){for(e=t.child,n=kl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function MX(e,t,n){switch(t.tag){case 3:DL(t),Zd();break;case 5:uL(t);break;case 1:js(t.type)&&By(t);break;case 4:LP(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;on(zy,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(on(Sn,Sn.current&1),t.flags|=128,null):n&t.child.childLanes?$L(e,t,n):(on(Sn,Sn.current&1),e=bo(e,t,n),e!==null?e.sibling:null);on(Sn,Sn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return LL(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),on(Sn,Sn.current),r)break;return null;case 22:case 23:return t.lanes=0,ML(e,t,n)}return bo(e,t,n)}var FL,W1,BL,VL;FL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};W1=function(){};BL=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,$c(Ni.current);var i=null;switch(n){case"input":a=f1(e,a),r=f1(e,r),i=[];break;case"select":a=En({},a,{value:void 0}),r=En({},r,{value:void 0}),i=[];break;case"textarea":a=p1(e,a),r=p1(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ly)}x1(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&un("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};VL=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bm(e,t){if(!gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function IX(e,t,n){var r=t.pendingProps;switch(OP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return js(t.type)&&Fy(),$r(t),null;case 3:return r=t.stateNode,ef(),hn(ws),hn(qr),BP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,La!==null&&(Z1(La),La=null))),W1(e,t),$r(t),null;case 5:FP(t);var a=$c(rp.current);if(n=t.type,e!==null&&t.stateNode!=null)BL(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ne(166));return $r(t),null}if(e=$c(Ni.current),vx(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xi]=t,r[tp]=i,e=(t.mode&1)!==0,n){case"dialog":un("cancel",r),un("close",r);break;case"iframe":case"object":case"embed":un("load",r);break;case"video":case"audio":for(a=0;a<uh.length;a++)un(uh[a],r);break;case"source":un("error",r);break;case"img":case"image":case"link":un("error",r),un("load",r);break;case"details":un("toggle",r);break;case"input":DT(r,i),un("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},un("invalid",r);break;case"textarea":LT(r,i),un("invalid",r)}x1(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&yx(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yx(r.textContent,l,e),a=["children",""+l]):qh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&un("scroll",r)}switch(n){case"input":ux(r),$T(r,i,!0);break;case"textarea":ux(r),FT(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ly)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=p3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xi]=t,e[tp]=r,FL(e,t,!1,!1),t.stateNode=e;e:{switch(o=y1(n,r),n){case"dialog":un("cancel",e),un("close",e),a=r;break;case"iframe":case"object":case"embed":un("load",e),a=r;break;case"video":case"audio":for(a=0;a<uh.length;a++)un(uh[a],e);a=r;break;case"source":un("error",e),a=r;break;case"img":case"image":case"link":un("error",e),un("load",e),a=r;break;case"details":un("toggle",e),a=r;break;case"input":DT(e,r),a=f1(e,r),un("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=En({},r,{value:void 0}),un("invalid",e);break;case"textarea":LT(e,r),a=p1(e,r),un("invalid",e);break;default:a=r}x1(n,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?y3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&g3(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Hh(e,c):typeof c=="number"&&Hh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&un("scroll",e):c!=null&&gP(e,i,c,o))}switch(n){case"input":ux(e),$T(e,r,!1);break;case"textarea":ux(e),FT(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ll(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Nd(e,!!r.multiple,i,!1):r.defaultValue!=null&&Nd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ly)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)VL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ne(166));if(n=$c(rp.current),$c(Ni.current),vx(t)){if(r=t.stateNode,n=t.memoizedProps,r[xi]=t,(i=r.nodeValue!==n)&&(e=Ls,e!==null))switch(e.tag){case 3:yx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yx(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xi]=t,t.stateNode=r}return $r(t),null;case 13:if(hn(Sn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gn&&Ds!==null&&t.mode&1&&!(t.flags&128))aL(),Zd(),t.flags|=98560,i=!1;else if(i=vx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ne(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ne(317));i[xi]=t}else Zd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),i=!1}else La!==null&&(Z1(La),La=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Sn.current&1?or===0&&(or=3):ZP())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return ef(),W1(e,t),e===null&&Jh(t.stateNode.containerInfo),$r(t),null;case 10:return IP(t.type._context),$r(t),null;case 17:return js(t.type)&&Fy(),$r(t),null;case 19:if(hn(Sn),i=t.memoizedState,i===null)return $r(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Bm(i,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hy(e),o!==null){for(t.flags|=128,Bm(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return on(Sn,Sn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Vn()>nf&&(t.flags|=128,r=!0,Bm(i,!1),t.lanes=4194304)}else{if(!r)if(e=Hy(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gn)return $r(t),null}else 2*Vn()-i.renderingStartTime>nf&&n!==1073741824&&(t.flags|=128,r=!0,Bm(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vn(),t.sibling=null,n=Sn.current,on(Sn,r?n&1|2:n&1),t):($r(t),null);case 22:case 23:return QP(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Os&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(Ne(156,t.tag))}function DX(e,t){switch(OP(t),t.tag){case 1:return js(t.type)&&Fy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ef(),hn(ws),hn(qr),BP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return FP(t),null;case 13:if(hn(Sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ne(340));Zd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return hn(Sn),null;case 4:return ef(),null;case 10:return IP(t.type._context),null;case 22:case 23:return QP(),null;case 24:return null;default:return null}}var jx=!1,Br=!1,$X=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function od(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mn(e,t,r)}else n.current=null}function q1(e,t,n){try{n()}catch(r){Mn(e,t,r)}}var EO=!1;function LX(e,t){if(E1=Iy,e=H3(),kP(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===a&&(l=o),m===i&&++d===r&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(k1={focusedElem:e,selectionRange:n},Iy=!1,Ie=t;Ie!==null;)if(t=Ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ie=e;else for(;Ie!==null;){t=Ie;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:_a(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(N){Mn(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ie=e;break}Ie=t.return}return g=EO,EO=!1,g}function Sh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&q1(t,n,i)}a=a.next}while(a!==r)}}function ob(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function H1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UL(e){var t=e.alternate;t!==null&&(e.alternate=null,UL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xi],delete t[tp],delete t[_1],delete t[bX],delete t[wX])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zL(e){return e.tag===5||e.tag===3||e.tag===4}function kO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function K1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ly));else if(r!==4&&(e=e.child,e!==null))for(K1(e,t,n),e=e.sibling;e!==null;)K1(e,t,n),e=e.sibling}function G1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(G1(e,t,n),e=e.sibling;e!==null;)G1(e,t,n),e=e.sibling}var Sr=null,Ia=!1;function zo(e,t,n){for(n=n.child;n!==null;)WL(e,t,n),n=n.sibling}function WL(e,t,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(J0,n)}catch{}switch(n.tag){case 5:Br||od(n,t);case 6:var r=Sr,a=Ia;Sr=null,zo(e,t,n),Sr=r,Ia=a,Sr!==null&&(Ia?(e=Sr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Sr.removeChild(n.stateNode));break;case 18:Sr!==null&&(Ia?(e=Sr,n=n.stateNode,e.nodeType===8?Dj(e.parentNode,n):e.nodeType===1&&Dj(e,n),Xh(e)):Dj(Sr,n.stateNode));break;case 4:r=Sr,a=Ia,Sr=n.stateNode.containerInfo,Ia=!0,zo(e,t,n),Sr=r,Ia=a;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&q1(n,t,o),a=a.next}while(a!==r)}zo(e,t,n);break;case 1:if(!Br&&(od(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Mn(n,t,l)}zo(e,t,n);break;case 21:zo(e,t,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,zo(e,t,n),Br=r):zo(e,t,n);break;default:zo(e,t,n)}}function TO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $X),t.forEach(function(r){var a=KX.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Pa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Sr=l.stateNode,Ia=!1;break e;case 3:Sr=l.stateNode.containerInfo,Ia=!0;break e;case 4:Sr=l.stateNode.containerInfo,Ia=!0;break e}l=l.return}if(Sr===null)throw Error(Ne(160));WL(i,o,a),Sr=null,Ia=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Mn(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qL(t,e),t=t.sibling}function qL(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pa(t,e),di(e),r&4){try{Sh(3,e,e.return),ob(3,e)}catch(p){Mn(e,e.return,p)}try{Sh(5,e,e.return)}catch(p){Mn(e,e.return,p)}}break;case 1:Pa(t,e),di(e),r&512&&n!==null&&od(n,n.return);break;case 5:if(Pa(t,e),di(e),r&512&&n!==null&&od(n,n.return),e.flags&32){var a=e.stateNode;try{Hh(a,"")}catch(p){Mn(e,e.return,p)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&m3(a,i),y1(l,o);var u=y1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?y3(a,f):d==="dangerouslySetInnerHTML"?g3(a,f):d==="children"?Hh(a,f):gP(a,d,f,u)}switch(l){case"input":m1(a,i);break;case"textarea":h3(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Nd(a,!!i.multiple,h,!1):m!==!!i.multiple&&(i.defaultValue!=null?Nd(a,!!i.multiple,i.defaultValue,!0):Nd(a,!!i.multiple,i.multiple?[]:"",!1))}a[tp]=i}catch(p){Mn(e,e.return,p)}}break;case 6:if(Pa(t,e),di(e),r&4){if(e.stateNode===null)throw Error(Ne(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Mn(e,e.return,p)}}break;case 3:if(Pa(t,e),di(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(t.containerInfo)}catch(p){Mn(e,e.return,p)}break;case 4:Pa(t,e),di(e);break;case 13:Pa(t,e),di(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(YP=Vn())),r&4&&TO(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Br=(u=Br)||d,Pa(t,e),Br=u):Pa(t,e),di(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ie=e,d=e.child;d!==null;){for(f=Ie=d;Ie!==null;){switch(m=Ie,h=m.child,m.tag){case 0:case 11:case 14:case 15:Sh(4,m,m.return);break;case 1:od(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Mn(r,n,p)}}break;case 5:od(m,m.return);break;case 22:if(m.memoizedState!==null){_O(f);continue}}h!==null?(h.return=m,Ie=h):_O(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=x3("display",o))}catch(p){Mn(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Mn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Pa(t,e),di(e),r&4&&TO(e);break;case 21:break;default:Pa(t,e),di(e)}}function di(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zL(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Hh(a,""),r.flags&=-33);var i=kO(e);G1(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=kO(e);K1(e,l,o);break;default:throw Error(Ne(161))}}catch(c){Mn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FX(e,t,n){Ie=e,HL(e)}function HL(e,t,n){for(var r=(e.mode&1)!==0;Ie!==null;){var a=Ie,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||jx;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Br;l=jx;var u=Br;if(jx=o,(Br=c)&&!u)for(Ie=a;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?RO(a):c!==null?(c.return=o,Ie=c):RO(a);for(;i!==null;)Ie=i,HL(i),i=i.sibling;Ie=a,jx=l,Br=u}OO(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ie=i):OO(e)}}function OO(e){for(;Ie!==null;){var t=Ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Br||ob(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Br)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:_a(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&pO(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pO(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Br||t.flags&512&&H1(t)}catch(m){Mn(t,t.return,m)}}if(t===e){Ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function _O(e){for(;Ie!==null;){var t=Ie;if(t===e){Ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Ie=n;break}Ie=t.return}}function RO(e){for(;Ie!==null;){var t=Ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ob(4,t)}catch(c){Mn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Mn(t,a,c)}}var i=t.return;try{H1(t)}catch(c){Mn(t,i,c)}break;case 5:var o=t.return;try{H1(t)}catch(c){Mn(t,o,c)}}}catch(c){Mn(t,t.return,c)}if(t===e){Ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ie=l;break}Ie=t.return}}var BX=Math.ceil,Yy=Mo.ReactCurrentDispatcher,KP=Mo.ReactCurrentOwner,pa=Mo.ReactCurrentBatchConfig,kt=0,br=null,Xn=null,Ar=0,Os=0,ld=nc(0),or=0,op=null,mu=0,lb=0,GP=0,Ch=null,gs=null,YP=0,nf=1/0,Gi=null,Xy=!1,Y1=null,Al=null,Nx=!1,yl=null,Qy=0,Ph=0,X1=null,fy=-1,my=0;function as(){return kt&6?Vn():fy!==-1?fy:fy=Vn()}function El(e){return e.mode&1?kt&2&&Ar!==0?Ar&-Ar:NX.transition!==null?(my===0&&(my=T3()),my):(e=qt,e!==0||(e=window.event,e=e===void 0?16:$3(e.type)),e):1}function za(e,t,n,r){if(50<Ph)throw Ph=0,X1=null,Error(Ne(185));Ng(e,n,r),(!(kt&2)||e!==br)&&(e===br&&(!(kt&2)&&(lb|=n),or===4&&sl(e,Ar)),Ns(e,r),n===1&&kt===0&&!(t.mode&1)&&(nf=Vn()+500,sb&&rc()))}function Ns(e,t){var n=e.callbackNode;NY(e,t);var r=My(e,e===br?Ar:0);if(r===0)n!==null&&UT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&UT(n),t===1)e.tag===0?jX(MO.bind(null,e)):nL(MO.bind(null,e)),yX(function(){!(kt&6)&&rc()}),n=null;else{switch(O3(r)){case 1:n=wP;break;case 4:n=E3;break;case 16:n=Ry;break;case 536870912:n=k3;break;default:n=Ry}n=eF(n,KL.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KL(e,t){if(fy=-1,my=0,kt&6)throw Error(Ne(327));var n=e.callbackNode;if(Ed()&&e.callbackNode!==n)return null;var r=My(e,e===br?Ar:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zy(e,r);else{t=r;var a=kt;kt|=2;var i=YL();(br!==e||Ar!==t)&&(Gi=null,nf=Vn()+500,tu(e,t));do try{zX();break}catch(l){GL(e,l)}while(!0);MP(),Yy.current=i,kt=a,Xn!==null?t=0:(br=null,Ar=0,t=or)}if(t!==0){if(t===2&&(a=N1(e),a!==0&&(r=a,t=Q1(e,a))),t===1)throw n=op,tu(e,0),sl(e,r),Ns(e,Vn()),n;if(t===6)sl(e,r);else{if(a=e.current.alternate,!(r&30)&&!VX(a)&&(t=Zy(e,r),t===2&&(i=N1(e),i!==0&&(r=i,t=Q1(e,i))),t===1))throw n=op,tu(e,0),sl(e,r),Ns(e,Vn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ne(345));case 2:Ac(e,gs,Gi);break;case 3:if(sl(e,r),(r&130023424)===r&&(t=YP+500-Vn(),10<t)){if(My(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){as(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=O1(Ac.bind(null,e,gs,Gi),t);break}Ac(e,gs,Gi);break;case 4:if(sl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-Ua(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=Vn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BX(r/1960))-r,10<r){e.timeoutHandle=O1(Ac.bind(null,e,gs,Gi),r);break}Ac(e,gs,Gi);break;case 5:Ac(e,gs,Gi);break;default:throw Error(Ne(329))}}}return Ns(e,Vn()),e.callbackNode===n?KL.bind(null,e):null}function Q1(e,t){var n=Ch;return e.current.memoizedState.isDehydrated&&(tu(e,t).flags|=256),e=Zy(e,t),e!==2&&(t=gs,gs=n,t!==null&&Z1(t)),e}function Z1(e){gs===null?gs=e:gs.push.apply(gs,e)}function VX(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Ya(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sl(e,t){for(t&=~GP,t&=~lb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ua(t),r=1<<n;e[n]=-1,t&=~r}}function MO(e){if(kt&6)throw Error(Ne(327));Ed();var t=My(e,0);if(!(t&1))return Ns(e,Vn()),null;var n=Zy(e,t);if(e.tag!==0&&n===2){var r=N1(e);r!==0&&(t=r,n=Q1(e,r))}if(n===1)throw n=op,tu(e,0),sl(e,t),Ns(e,Vn()),n;if(n===6)throw Error(Ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,gs,Gi),Ns(e,Vn()),null}function XP(e,t){var n=kt;kt|=1;try{return e(t)}finally{kt=n,kt===0&&(nf=Vn()+500,sb&&rc())}}function hu(e){yl!==null&&yl.tag===0&&!(kt&6)&&Ed();var t=kt;kt|=1;var n=pa.transition,r=qt;try{if(pa.transition=null,qt=1,e)return e()}finally{qt=r,pa.transition=n,kt=t,!(kt&6)&&rc()}}function QP(){Os=ld.current,hn(ld)}function tu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xX(n)),Xn!==null)for(n=Xn.return;n!==null;){var r=n;switch(OP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fy();break;case 3:ef(),hn(ws),hn(qr),BP();break;case 5:FP(r);break;case 4:ef();break;case 13:hn(Sn);break;case 19:hn(Sn);break;case 10:IP(r.type._context);break;case 22:case 23:QP()}n=n.return}if(br=e,Xn=e=kl(e.current,null),Ar=Os=t,or=0,op=null,GP=lb=mu=0,gs=Ch=null,Dc!==null){for(t=0;t<Dc.length;t++)if(n=Dc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Dc=null}return e}function GL(e,t){do{var n=Xn;try{if(MP(),cy.current=Gy,Ky){for(var r=An.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ky=!1}if(fu=0,xr=rr=An=null,Nh=!1,sp=0,KP.current=null,n===null||n.return===null){or=1,op=t,Xn=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ar,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=wO(o);if(h!==null){h.flags&=-257,jO(h,o,l,i,t),h.mode&1&&bO(i,u,t),t=h,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){bO(i,u,t),ZP();break e}c=Error(Ne(426))}}else if(gn&&l.mode&1){var x=wO(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),jO(x,o,l,i,t),_P(tf(c,l));break e}}i=c=tf(c,l),or!==4&&(or=2),Ch===null?Ch=[i]:Ch.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=OL(i,c,t);hO(i,v);break e;case 1:l=c;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Al===null||!Al.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=_L(i,l,t);hO(i,N);break e}}i=i.return}while(i!==null)}QL(n)}catch(j){t=j,Xn===n&&n!==null&&(Xn=n=n.return);continue}break}while(!0)}function YL(){var e=Yy.current;return Yy.current=Gy,e===null?Gy:e}function ZP(){(or===0||or===3||or===2)&&(or=4),br===null||!(mu&268435455)&&!(lb&268435455)||sl(br,Ar)}function Zy(e,t){var n=kt;kt|=2;var r=YL();(br!==e||Ar!==t)&&(Gi=null,tu(e,t));do try{UX();break}catch(a){GL(e,a)}while(!0);if(MP(),kt=n,Yy.current=r,Xn!==null)throw Error(Ne(261));return br=null,Ar=0,or}function UX(){for(;Xn!==null;)XL(Xn)}function zX(){for(;Xn!==null&&!hY();)XL(Xn)}function XL(e){var t=JL(e.alternate,e,Os);e.memoizedProps=e.pendingProps,t===null?QL(e):Xn=t,KP.current=null}function QL(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=DX(n,t),n!==null){n.flags&=32767,Xn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Xn=null;return}}else if(n=IX(n,t,Os),n!==null){Xn=n;return}if(t=t.sibling,t!==null){Xn=t;return}Xn=t=e}while(t!==null);or===0&&(or=5)}function Ac(e,t,n){var r=qt,a=pa.transition;try{pa.transition=null,qt=1,WX(e,t,n,r)}finally{pa.transition=a,qt=r}return null}function WX(e,t,n,r){do Ed();while(yl!==null);if(kt&6)throw Error(Ne(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ne(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(SY(e,i),e===br&&(Xn=br=null,Ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nx||(Nx=!0,eF(Ry,function(){return Ed(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pa.transition,pa.transition=null;var o=qt;qt=1;var l=kt;kt|=4,KP.current=null,LX(e,n),qL(n,e),uX(k1),Iy=!!E1,k1=E1=null,e.current=n,FX(n),pY(),kt=l,qt=o,pa.transition=i}else e.current=n;if(Nx&&(Nx=!1,yl=e,Qy=a),i=e.pendingLanes,i===0&&(Al=null),yY(n.stateNode),Ns(e,Vn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Xy)throw Xy=!1,e=Y1,Y1=null,e;return Qy&1&&e.tag!==0&&Ed(),i=e.pendingLanes,i&1?e===X1?Ph++:(Ph=0,X1=e):Ph=0,rc(),null}function Ed(){if(yl!==null){var e=O3(Qy),t=pa.transition,n=qt;try{if(pa.transition=null,qt=16>e?16:e,yl===null)var r=!1;else{if(e=yl,yl=null,Qy=0,kt&6)throw Error(Ne(331));var a=kt;for(kt|=4,Ie=e.current;Ie!==null;){var i=Ie,o=i.child;if(Ie.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:Sh(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ie=f;else for(;Ie!==null;){d=Ie;var m=d.sibling,h=d.return;if(UL(d),d===u){Ie=null;break}if(m!==null){m.return=h,Ie=m;break}Ie=h}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Ie=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ie=o;else e:for(;Ie!==null;){if(i=Ie,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Ie=v;break e}Ie=i.return}}var b=e.current;for(Ie=b;Ie!==null;){o=Ie;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ie=w;else e:for(o=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ob(9,l)}}catch(j){Mn(l,l.return,j)}if(l===o){Ie=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ie=N;break e}Ie=l.return}}if(kt=a,rc(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(J0,e)}catch{}r=!0}return r}finally{qt=n,pa.transition=t}}return!1}function IO(e,t,n){t=tf(n,t),t=OL(e,t,1),e=Pl(e,t,1),t=as(),e!==null&&(Ng(e,1,t),Ns(e,t))}function Mn(e,t,n){if(e.tag===3)IO(e,e,n);else for(;t!==null;){if(t.tag===3){IO(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Al===null||!Al.has(r))){e=tf(n,e),e=_L(t,e,1),t=Pl(t,e,1),e=as(),t!==null&&(Ng(t,1,e),Ns(t,e));break}}t=t.return}}function qX(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=as(),e.pingedLanes|=e.suspendedLanes&n,br===e&&(Ar&n)===n&&(or===4||or===3&&(Ar&130023424)===Ar&&500>Vn()-YP?tu(e,0):GP|=n),Ns(e,t)}function ZL(e,t){t===0&&(e.mode&1?(t=mx,mx<<=1,!(mx&130023424)&&(mx=4194304)):t=1);var n=as();e=vo(e,t),e!==null&&(Ng(e,t,n),Ns(e,n))}function HX(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZL(e,n)}function KX(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(t),ZL(e,n)}var JL;JL=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ws.current)ys=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ys=!1,MX(e,t,n);ys=!!(e.flags&131072)}else ys=!1,gn&&t.flags&1048576&&rL(t,Uy,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;dy(e,t),e=t.pendingProps;var a=Qd(t,qr.current);Ad(t,n),a=UP(null,t,r,e,a,n);var i=zP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,js(r)?(i=!0,By(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$P(t),a.updater=ib,t.stateNode=a,a._reactInternals=t,L1(t,r,e,n),t=V1(null,t,r,!0,i,n)):(t.tag=0,gn&&i&&TP(t),Qr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(dy(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=YX(r),e=_a(r,e),a){case 0:t=B1(null,t,r,e,n);break e;case 1:t=CO(null,t,r,e,n);break e;case 11:t=NO(null,t,r,e,n);break e;case 14:t=SO(null,t,r,_a(r.type,e),n);break e}throw Error(Ne(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_a(r,a),B1(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_a(r,a),CO(e,t,r,a,n);case 3:e:{if(DL(t),e===null)throw Error(Ne(387));r=t.pendingProps,i=t.memoizedState,a=i.element,cL(e,t),qy(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=tf(Error(Ne(423)),t),t=PO(e,t,r,n,a);break e}else if(r!==a){a=tf(Error(Ne(424)),t),t=PO(e,t,r,n,a);break e}else for(Ds=Cl(t.stateNode.containerInfo.firstChild),Ls=t,gn=!0,La=null,n=oL(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zd(),r===a){t=bo(e,t,n);break e}Qr(e,t,r,n)}t=t.child}return t;case 5:return uL(t),e===null&&I1(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,T1(r,a)?o=null:i!==null&&T1(r,i)&&(t.flags|=32),IL(e,t),Qr(e,t,o,n),t.child;case 6:return e===null&&I1(t),null;case 13:return $L(e,t,n);case 4:return LP(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Jd(t,null,r,n):Qr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_a(r,a),NO(e,t,r,a,n);case 7:return Qr(e,t,t.pendingProps,n),t.child;case 8:return Qr(e,t,t.pendingProps.children,n),t.child;case 12:return Qr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,on(zy,r._currentValue),r._currentValue=o,i!==null)if(Ya(i.value,o)){if(i.children===a.children&&!ws.current){t=bo(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=co(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),D1(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Ne(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),D1(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ad(t,n),a=va(a),r=r(a),t.flags|=1,Qr(e,t,r,n),t.child;case 14:return r=t.type,a=_a(r,t.pendingProps),a=_a(r.type,a),SO(e,t,r,a,n);case 15:return RL(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:_a(r,a),dy(e,t),t.tag=1,js(r)?(e=!0,By(t)):e=!1,Ad(t,n),TL(t,r,a),L1(t,r,a,n),V1(null,t,r,!0,e,n);case 19:return LL(e,t,n);case 22:return ML(e,t,n)}throw Error(Ne(156,t.tag))};function eF(e,t){return A3(e,t)}function GX(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ua(e,t,n,r){return new GX(e,t,n,r)}function JP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YX(e){if(typeof e=="function")return JP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yP)return 11;if(e===vP)return 14}return 2}function kl(e,t){var n=e.alternate;return n===null?(n=ua(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hy(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")JP(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Zu:return nu(n.children,a,i,t);case xP:o=8,a|=8;break;case l1:return e=ua(12,n,t,a|2),e.elementType=l1,e.lanes=i,e;case c1:return e=ua(13,n,t,a),e.elementType=c1,e.lanes=i,e;case u1:return e=ua(19,n,t,a),e.elementType=u1,e.lanes=i,e;case u3:return cb(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case l3:o=10;break e;case c3:o=9;break e;case yP:o=11;break e;case vP:o=14;break e;case Qo:o=16,r=null;break e}throw Error(Ne(130,e==null?e:typeof e,""))}return t=ua(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function nu(e,t,n,r){return e=ua(7,e,r,t),e.lanes=n,e}function cb(e,t,n,r){return e=ua(22,e,r,t),e.elementType=u3,e.lanes=n,e.stateNode={isHidden:!1},e}function Wj(e,t,n){return e=ua(6,e,null,t),e.lanes=n,e}function qj(e,t,n){return t=ua(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XX(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cj(0),this.expirationTimes=Cj(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cj(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function eA(e,t,n,r,a,i,o,l,c){return e=new XX(e,t,n,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ua(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$P(i),e}function QX(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tF(e){if(!e)return Fl;e=e._reactInternals;e:{if(Tu(e)!==e||e.tag!==1)throw Error(Ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(js(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ne(171))}if(e.tag===1){var n=e.type;if(js(n))return tL(e,n,t)}return t}function nF(e,t,n,r,a,i,o,l,c){return e=eA(n,r,!0,e,a,i,o,l,c),e.context=tF(null),n=e.current,r=as(),a=El(n),i=co(r,a),i.callback=t??null,Pl(n,i,a),e.current.lanes=a,Ng(e,a,r),Ns(e,r),e}function ub(e,t,n,r){var a=t.current,i=as(),o=El(a);return n=tF(n),t.context===null?t.context=n:t.pendingContext=n,t=co(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pl(a,t,o),e!==null&&(za(e,a,o,i),ly(e,a,o)),o}function Jy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function DO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tA(e,t){DO(e,t),(e=e.alternate)&&DO(e,t)}function ZX(){return null}var rF=typeof reportError=="function"?reportError:function(e){console.error(e)};function nA(e){this._internalRoot=e}db.prototype.render=nA.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ne(409));ub(e,t,null,null)};db.prototype.unmount=nA.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hu(function(){ub(null,e,null,null)}),t[yo]=null}};function db(e){this._internalRoot=e}db.prototype.unstable_scheduleHydration=function(e){if(e){var t=M3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<rl.length&&t!==0&&t<rl[n].priority;n++);rl.splice(n,0,e),n===0&&D3(e)}};function rA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $O(){}function JX(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Jy(o);i.call(u)}}var o=nF(t,r,e,0,null,!1,!1,"",$O);return e._reactRootContainer=o,e[yo]=o.current,Jh(e.nodeType===8?e.parentNode:e),hu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Jy(c);l.call(u)}}var c=eA(e,0,!1,null,null,!1,!1,"",$O);return e._reactRootContainer=c,e[yo]=c.current,Jh(e.nodeType===8?e.parentNode:e),hu(function(){ub(t,c,n,r)}),c}function mb(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=Jy(o);l.call(c)}}ub(t,o,e,a)}else o=JX(n,t,e,a,r);return Jy(o)}_3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ch(t.pendingLanes);n!==0&&(jP(t,n|1),Ns(t,Vn()),!(kt&6)&&(nf=Vn()+500,rc()))}break;case 13:hu(function(){var r=vo(e,1);if(r!==null){var a=as();za(r,e,1,a)}}),tA(e,1)}};NP=function(e){if(e.tag===13){var t=vo(e,134217728);if(t!==null){var n=as();za(t,e,134217728,n)}tA(e,134217728)}};R3=function(e){if(e.tag===13){var t=El(e),n=vo(e,t);if(n!==null){var r=as();za(n,e,t,r)}tA(e,t)}};M3=function(){return qt};I3=function(e,t){var n=qt;try{return qt=e,t()}finally{qt=n}};b1=function(e,t,n){switch(t){case"input":if(m1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=rb(r);if(!a)throw Error(Ne(90));f3(r),m1(r,a)}}}break;case"textarea":h3(e,n);break;case"select":t=n.value,t!=null&&Nd(e,!!n.multiple,t,!1)}};w3=XP;j3=hu;var eQ={usingClientEntryPoint:!1,Events:[Cg,nd,rb,v3,b3,XP]},Vm={findFiberByHostInstance:Ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tQ={bundleType:Vm.bundleType,version:Vm.version,rendererPackageName:Vm.rendererPackageName,rendererConfig:Vm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=C3(e),e===null?null:e.stateNode},findFiberByHostInstance:Vm.findFiberByHostInstance||ZX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sx.isDisabled&&Sx.supportsFiber)try{J0=Sx.inject(tQ),ji=Sx}catch{}}Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eQ;Ks.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rA(t))throw Error(Ne(200));return QX(e,t,null,n)};Ks.createRoot=function(e,t){if(!rA(e))throw Error(Ne(299));var n=!1,r="",a=rF;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=eA(e,1,!1,null,null,n,!1,r,a),e[yo]=t.current,Jh(e.nodeType===8?e.parentNode:e),new nA(t)};Ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ne(188)):(e=Object.keys(e).join(","),Error(Ne(268,e)));return e=C3(t),e=e===null?null:e.stateNode,e};Ks.flushSync=function(e){return hu(e)};Ks.hydrate=function(e,t,n){if(!fb(t))throw Error(Ne(200));return mb(null,e,t,!0,n)};Ks.hydrateRoot=function(e,t,n){if(!rA(e))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=rF;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nF(t,null,e,1,n??null,a,!1,i,o),e[yo]=t.current,Jh(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new db(t)};Ks.render=function(e,t,n){if(!fb(t))throw Error(Ne(200));return mb(null,e,t,!1,n)};Ks.unmountComponentAtNode=function(e){if(!fb(e))throw Error(Ne(40));return e._reactRootContainer?(hu(function(){mb(null,null,e,!1,function(){e._reactRootContainer=null,e[yo]=null})}),!0):!1};Ks.unstable_batchedUpdates=XP;Ks.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fb(n))throw Error(Ne(200));if(e==null||e._reactInternals===void 0)throw Error(Ne(38));return mb(e,t,n,!1,r)};Ks.version="18.3.1-next-f1338f8080-20240426";function sF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sF)}catch(e){console.error(e)}}sF(),s3.exports=Ks;var da=s3.exports;const aF=Mt(da);var iF,LO=da;iF=LO.createRoot,LO.hydrateRoot;const nQ=1,rQ=1e6;let Hj=0;function sQ(){return Hj=(Hj+1)%Number.MAX_SAFE_INTEGER,Hj.toString()}const Kj=new Map,FO=e=>{if(Kj.has(e))return;const t=setTimeout(()=>{Kj.delete(e),Ah({type:"REMOVE_TOAST",toastId:e})},rQ);Kj.set(e,t)},aQ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,nQ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?FO(n):e.toasts.forEach(r=>{FO(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},py=[];let gy={toasts:[]};function Ah(e){gy=aQ(gy,e),py.forEach(t=>{t(gy)})}function Ae({...e}){const t=sQ(),n=a=>Ah({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Ah({type:"DISMISS_TOAST",toastId:t});return Ah({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Ys(){const[e,t]=y.useState(gy);return y.useEffect(()=>(py.push(t),()=>{const n=py.indexOf(t);n>-1&&py.splice(n,1)}),[e]),{...e,toast:Ae,dismiss:n=>Ah({type:"DISMISS_TOAST",toastId:n})}}function be(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function BO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function hb(...e){return t=>{let n=!1;const r=e.map(a=>{const i=BO(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():BO(e[a],null)}}}}function Ke(...e){return y.useCallback(hb(...e),e)}function iQ(e,t){const n=y.createContext(t),r=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(i){const o=y.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,a]}function Zn(e,t=[]){let n=[];function r(i,o){const l=y.createContext(o),c=n.length;n=[...n,o];const u=f=>{var v;const{scope:m,children:h,...g}=f,p=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:x,children:h})};u.displayName=i+"Provider";function d(f,m){var p;const h=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,g=y.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=n.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,oQ(a,...t)]}function oQ(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function pu(e){const t=lQ(e),n=y.forwardRef((r,a)=>{const{children:i,...o}=r,l=y.Children.toArray(i),c=l.find(cQ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return n.displayName=`${e}.Slot`,n}var oF=pu("Slot");function lQ(e){const t=y.forwardRef((n,r)=>{const{children:a,...i}=n;if(y.isValidElement(a)){const o=dQ(a),l=uQ(i,a.props);return a.type!==y.Fragment&&(l.ref=r?hb(r,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lF=Symbol("radix.slottable");function cF(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=lF,t}function cQ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lF}function uQ(e,t){const n={...t};for(const r in t){const a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...e,...n}}function dQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ag(e){const t=e+"CollectionProvider",[n,r]=Zn(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:v}=p,b=M.useRef(null),w=M.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:w,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=pu(l),u=M.forwardRef((p,x)=>{const{scope:v,children:b}=p,w=i(l,v),N=Ke(x,w.collectionRef);return s.jsx(c,{ref:N,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=pu(d),h=M.forwardRef((p,x)=>{const{scope:v,children:b,...w}=p,N=M.useRef(null),j=Ke(x,N),S=i(d,v);return M.useEffect(()=>(S.itemMap.set(N,{ref:N,...w}),()=>void S.itemMap.delete(N))),s.jsx(m,{[f]:"",ref:j,children:b})});h.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,C)=>w.indexOf(S.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,r]}var fQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=fQ.reduce((e,t)=>{const n=pu(`Primitive.${t}`),r=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sA(e,t){e&&da.flushSync(()=>e.dispatchEvent(t))}function Dn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function mQ(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hQ="DismissableLayer",J1="dismissableLayer.update",pQ="dismissableLayer.pointerDownOutside",gQ="dismissableLayer.focusOutside",VO,uF=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Yf=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(uF),[d,f]=y.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=y.useState({}),g=Ke(t,C=>f(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),b=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=v,j=yQ(C=>{const P=C.target,A=[...u.branches].some(T=>T.contains(P));!N||A||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},m),S=vQ(C=>{const P=C.target;[...u.branches].some(T=>T.contains(P))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},m);return mQ(C=>{b===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),y.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(VO=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),UO(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=VO)}},[d,m,n,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),UO())},[d,u]),y.useEffect(()=>{const C=()=>h({});return document.addEventListener(J1,C),()=>document.removeEventListener(J1,C)},[]),s.jsx(Te.div,{...c,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:be(e.onFocusCapture,S.onFocusCapture),onBlurCapture:be(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:be(e.onPointerDownCapture,j.onPointerDownCapture)})});Yf.displayName=hQ;var xQ="DismissableLayerBranch",dF=y.forwardRef((e,t)=>{const n=y.useContext(uF),r=y.useRef(null),a=Ke(t,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),s.jsx(Te.div,{...e,ref:a})});dF.displayName=xQ;function yQ(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){fF(pQ,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function vQ(e,t=globalThis==null?void 0:globalThis.document){const n=Dn(e),r=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!r.current&&fF(gQ,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UO(){const e=new CustomEvent(J1);document.dispatchEvent(e)}function fF(e,t,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?sA(a,i):a.dispatchEvent(i)}var bQ=Yf,wQ=dF,$n=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},jQ="Portal",Eg=y.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,i]=y.useState(!1);$n(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?aF.createPortal(s.jsx(Te.div,{...r,ref:t}),o):null});Eg.displayName=jQ;function NQ(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var wr=e=>{const{present:t,children:n}=e,r=SQ(t),a=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=Ke(r.ref,CQ(a));return typeof n=="function"||r.isPresent?y.cloneElement(a,{ref:i}):null};wr.displayName="Presence";function SQ(e){const[t,n]=y.useState(),r=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=NQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Cx(r.current);i.current=l==="mounted"?u:"none"},[l]),$n(()=>{const u=r.current,d=a.current;if(d!==e){const m=i.current,h=Cx(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$n(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const p=Cx(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&p&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=h=>{h.target===t&&(i.current=Cx(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Cx(e){return(e==null?void 0:e.animationName)||"none"}function CQ(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PQ=mP[" useInsertionEffect ".trim().toString()]||$n;function zs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,i,o]=AQ({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=y.useCallback(d=>{var f;if(l){const m=EQ(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else i(d)},[l,e,i,o]);return[c,u]}function AQ({defaultProp:e,onChange:t}){const[n,r]=y.useState(e),a=y.useRef(n),i=y.useRef(t);return PQ(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function EQ(e){return typeof e=="function"}var mF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),kQ="VisuallyHidden",pb=y.forwardRef((e,t)=>s.jsx(Te.span,{...e,ref:t,style:{...mF,...e.style}}));pb.displayName=kQ;var TQ=pb,aA="ToastProvider",[iA,OQ,_Q]=Ag("Toast"),[hF,m9e]=Zn("Toast",[_Q]),[RQ,gb]=hF(aA),pF=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),m=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${aA}\`. Expected non-empty \`string\`.`),s.jsx(iA.Provider,{scope:t,children:s.jsx(RQ,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(h=>h+1),[]),onToastRemove:y.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};pF.displayName=aA;var gF="ToastViewport",MQ=["F8"],eS="toast.viewportPause",tS="toast.viewportResume",xF=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=MQ,label:a="Notifications ({hotkey})",...i}=e,o=gb(gF,n),l=OQ(n),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),m=Ke(t,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const x=v=>{var w;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),y.useEffect(()=>{const x=c.current,v=f.current;if(g&&x&&v){const b=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(eS);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(tS);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!x.contains(S.relatedTarget)&&w()},j=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",b),x.addEventListener("focusout",N),x.addEventListener("pointermove",b),x.addEventListener("pointerleave",j),window.addEventListener("blur",b),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",b),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",b),x.removeEventListener("pointerleave",j),window.removeEventListener("blur",b),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:x})=>{const b=l().map(w=>{const N=w.ref.current,j=[N,...KQ(N)];return x==="forwards"?j:j.reverse()});return(x==="forwards"?b.reverse():b).flat()},[l]);return y.useEffect(()=>{const x=f.current;if(x){const v=b=>{var j,S,C;const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const P=document.activeElement,A=b.shiftKey;if(b.target===x&&A){(j=u.current)==null||j.focus();return}const k=p({tabbingDirection:A?"backwards":"forwards"}),R=k.findIndex(I=>I===P);Gj(k.slice(R+1))?b.preventDefault():A?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),s.jsxs(wQ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(nS,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});Gj(x)}}),s.jsx(iA.Slot,{scope:n,children:s.jsx(Te.ol,{tabIndex:-1,...i,ref:m})}),g&&s.jsx(nS,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});Gj(x)}})]})});xF.displayName=gF;var yF="ToastFocusProxy",nS=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,i=gb(yF,n);return s.jsx(pb,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});nS.displayName=yF;var kg="Toast",IQ="toast.swipeStart",DQ="toast.swipeMove",$Q="toast.swipeCancel",LQ="toast.swipeEnd",vF=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=zs({prop:r,defaultProp:a??!0,onChange:i,caller:kg});return s.jsx(wr,{present:n||l,children:s.jsx(VQ,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Dn(e.onPause),onResume:Dn(e.onResume),onSwipeStart:be(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:be(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:be(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:be(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});vF.displayName=kg;var[FQ,BQ]=hF(kg,{onClose(){}}),VQ=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...g}=e,p=gb(kg,n),[x,v]=y.useState(null),b=Ke(t,I=>v(I)),w=y.useRef(null),N=y.useRef(null),j=a||p.duration,S=y.useRef(0),C=y.useRef(j),P=y.useRef(0),{onToastAdd:A,onToastRemove:T}=p,E=Dn(()=>{var D;(x==null?void 0:x.contains(document.activeElement))&&((D=p.viewport)==null||D.focus()),o()}),k=y.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(E,I))},[E]);y.useEffect(()=>{const I=p.viewport;if(I){const D=()=>{k(C.current),u==null||u()},B=()=>{const V=new Date().getTime()-S.current;C.current=C.current-V,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(eS,B),I.addEventListener(tS,D),()=>{I.removeEventListener(eS,B),I.removeEventListener(tS,D)}}},[p.viewport,j,c,u,k]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&k(j)},[i,j,p.isClosePausedRef,k]),y.useEffect(()=>(A(),()=>T()),[A,T]);const R=y.useMemo(()=>x?PF(x):null,[x]);return p.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(UQ,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:R}),s.jsx(FQ,{scope:n,onClose:E,children:da.createPortal(s.jsx(iA.ItemSlot,{scope:n,children:s.jsx(bQ,{asChild:!0,onEscapeKeyDown:be(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||E(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Te.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:be(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,E()))}),onPointerDown:be(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:be(e.onPointerMove,I=>{if(!w.current)return;const D=I.clientX-w.current.x,B=I.clientY-w.current.y,V=!!N.current,O=["left","right"].includes(p.swipeDirection),_=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=O?_(0,D):0,ne=O?0:_(0,B),Y=I.pointerType==="touch"?10:2,Q={x:z,y:ne},ie={originalEvent:I,delta:Q};V?(N.current=Q,Px(DQ,f,ie,{discrete:!1})):zO(Q,p.swipeDirection,Y)?(N.current=Q,Px(IQ,d,ie,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(D)>Y||Math.abs(B)>Y)&&(w.current=null)}),onPointerUp:be(e.onPointerUp,I=>{const D=N.current,B=I.target;if(B.hasPointerCapture(I.pointerId)&&B.releasePointerCapture(I.pointerId),N.current=null,w.current=null,D){const V=I.currentTarget,O={originalEvent:I,delta:D};zO(D,p.swipeDirection,p.swipeThreshold)?Px(LQ,h,O,{discrete:!0}):Px($Q,m,O,{discrete:!0}),V.addEventListener("click",_=>_.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),UQ=e=>{const{__scopeToast:t,children:n,...r}=e,a=gb(kg,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return qQ(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Eg,{asChild:!0,children:s.jsx(pb,{...r,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},zQ="ToastTitle",bF=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Te.div,{...r,ref:t})});bF.displayName=zQ;var WQ="ToastDescription",wF=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Te.div,{...r,ref:t})});wF.displayName=WQ;var jF="ToastAction",NF=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(CF,{altText:n,asChild:!0,children:s.jsx(oA,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${jF}\`. Expected non-empty \`string\`.`),null)});NF.displayName=jF;var SF="ToastClose",oA=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=BQ(SF,n);return s.jsx(CF,{asChild:!0,children:s.jsx(Te.button,{type:"button",...r,ref:t,onClick:be(e.onClick,a.onClose)})})});oA.displayName=SF;var CF=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function PF(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),HQ(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...PF(r))}}),t}function Px(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?sA(a,i):a.dispatchEvent(i)}var zO=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),i=r>a;return t==="left"||t==="right"?i&&r>n:!i&&a>n};function qQ(e=()=>{}){const t=Dn(e);$n(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function HQ(e){return e.nodeType===e.ELEMENT_NODE}function KQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Gj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var GQ=pF,AF=xF,EF=vF,kF=bF,TF=wF,OF=NF,_F=oA;function RF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=RF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=RF(e))&&(r&&(r+=" "),r+=t);return r}const WO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,qO=rt,Xf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return qO(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const m=WO(d)||WO(f);return a[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,m]:u},[]);return qO(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MF=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...XQ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:MF("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=(e,t)=>{const n=y.forwardRef(({className:r,...a},i)=>y.createElement(QQ,{ref:i,iconNode:t,className:MF(`lucide-${YQ(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ve("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=ve("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=ve("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ve("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=ve("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=ve("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ve("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ve("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=ve("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=ve("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=ve("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=ve("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=ve("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=ve("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=ve("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=ve("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=ve("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ve("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ve("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=ve("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ve("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ve("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=ve("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=ve("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ve("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ve("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=ve("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=ve("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=ve("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=ve("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=ve("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=ve("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=ve("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=ve("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=ve("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=ve("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=ve("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ve("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ve("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=ve("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=ve("MessageSquareWarning",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v2",key:"stiyo7"}],["path",{d:"M12 13h.01",key:"y0uutt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=ve("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ve("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=ve("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=ve("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=ve("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=ve("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=ve("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=ve("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=ve("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=ve("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ve("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=ve("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=ve("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ve("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=ve("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=ve("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=ve("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=ve("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ve("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),fA="-",CZ=e=>{const t=AZ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(fA);return l[0]===""&&l.length!==1&&l.shift(),qF(l,t)||PZ(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},qF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?qF(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(fA);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},ZO=/^\[(.+)\]$/,PZ=e=>{if(ZO.test(e)){const t=ZO.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AZ=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return kZ(Object.entries(e.classGroups),n).forEach(([i,o])=>{oS(o,r,i,t)}),r},oS=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:JO(t,a);i.classGroupId=n;return}if(typeof a=="function"){if(EZ(a)){oS(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{oS(o,JO(t,i),n,r)})})},JO=(e,t)=>{let n=e;return t.split(fA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},EZ=e=>e.isThemeGetter,kZ=(e,t)=>t?e.map(([n,r])=>{const a=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[n,a]}):e,TZ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},HF="!",OZ=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===a&&(r||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(HF),g=h?m.substring(1):m,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:o}):o},_Z=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},RZ=e=>({cache:TZ(e.cacheSize),parseClassName:OZ(e),...CZ(e)}),MZ=/\s+/,IZ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(MZ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let g=!!h,p=r(g?m.substring(0,h):m);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=r(m),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=_Z(d).join(":"),v=f?x+HF:x,b=v+p;if(i.includes(b))continue;i.push(b);const w=a(p,g);for(let N=0;N<w.length;++N){const j=w[N];i.push(v+j)}l=u+(l.length>0?" "+l:l)}return l};function DZ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=KF(t))&&(r&&(r+=" "),r+=n);return r}const KF=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=KF(e[r]))&&(n&&(n+=" "),n+=t);return n};function $Z(e,...t){let n,r,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=RZ(u),r=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=IZ(c,n);return a(c,d),d}return function(){return i(DZ.apply(null,arguments))}}const cn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},GF=/^\[(?:([a-z-]+):)?(.+)\]$/i,LZ=/^\d+\/\d+$/,FZ=new Set(["px","full","screen"]),BZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wi=e=>kd(e)||FZ.has(e)||LZ.test(e),Wo=e=>Qf(e,"length",ZZ),kd=e=>!!e&&!Number.isNaN(Number(e)),Yj=e=>Qf(e,"number",kd),Um=e=>!!e&&Number.isInteger(Number(e)),qZ=e=>e.endsWith("%")&&kd(e.slice(0,-1)),ct=e=>GF.test(e),qo=e=>BZ.test(e),HZ=new Set(["length","size","percentage"]),KZ=e=>Qf(e,HZ,YF),GZ=e=>Qf(e,"position",YF),YZ=new Set(["image","url"]),XZ=e=>Qf(e,YZ,eJ),QZ=e=>Qf(e,"",JZ),zm=()=>!0,Qf=(e,t,n)=>{const r=GF.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},ZZ=e=>VZ.test(e)&&!UZ.test(e),YF=()=>!1,JZ=e=>zZ.test(e),eJ=e=>WZ.test(e),tJ=()=>{const e=cn("colors"),t=cn("spacing"),n=cn("blur"),r=cn("brightness"),a=cn("borderColor"),i=cn("borderRadius"),o=cn("borderSpacing"),l=cn("borderWidth"),c=cn("contrast"),u=cn("grayscale"),d=cn("hueRotate"),f=cn("invert"),m=cn("gap"),h=cn("gradientColorStops"),g=cn("gradientColorStopPositions"),p=cn("inset"),x=cn("margin"),v=cn("opacity"),b=cn("padding"),w=cn("saturate"),N=cn("scale"),j=cn("sepia"),S=cn("skew"),C=cn("space"),P=cn("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",ct,t],k=()=>[ct,t],R=()=>["",Wi,Wo],I=()=>["auto",kd,ct],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],_=()=>["","0",ct],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[kd,ct];return{cacheSize:500,separator:":",theme:{colors:[zm],spacing:[Wi,Wo],blur:["none","",qo,ct],brightness:ne(),borderColor:[e],borderRadius:["none","","full",qo,ct],borderSpacing:k(),borderWidth:R(),contrast:ne(),grayscale:_(),hueRotate:ne(),invert:_(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[qZ,Wo],inset:E(),margin:E(),opacity:ne(),padding:k(),saturate:ne(),scale:ne(),sepia:_(),skew:ne(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),ct]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Um,ct]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Um,ct]}],"grid-cols":[{"grid-cols":[zm]}],"col-start-end":[{col:["auto",{span:["full",Um,ct]},ct]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[zm]}],"row-start-end":[{row:["auto",{span:[Um,ct]},ct]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,Wo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yj]}],"font-family":[{font:[zm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",kd,Yj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wi,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wi,Wo]}],"underline-offset":[{"underline-offset":["auto",Wi,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),GZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XZ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:B()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Wi,ct]}],"outline-w":[{outline:[Wi,Wo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Wi,Wo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qo,QZ]}],"shadow-color":[{shadow:[zm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qo,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Um,ct]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Wi,Wo,Yj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nJ=$Z(tJ);function se(...e){return nJ(rt(e))}const rJ=GQ,XF=y.forwardRef(({className:e,...t},n)=>s.jsx(AF,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));XF.displayName=AF.displayName;const sJ=Xf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),QF=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(EF,{ref:r,className:se(sJ({variant:t}),e),...n}));QF.displayName=EF.displayName;const ZF=y.forwardRef(({className:e,...t},n)=>s.jsx(OF,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZF.displayName=OF.displayName;const JF=y.forwardRef(({className:e,...t},n)=>s.jsx(_F,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(kr,{className:"h-4 w-4"})}));JF.displayName=_F.displayName;const e6=y.forwardRef(({className:e,...t},n)=>s.jsx(kF,{ref:n,className:se("text-sm font-semibold",e),...t}));e6.displayName=kF.displayName;const t6=y.forwardRef(({className:e,...t},n)=>s.jsx(TF,{ref:n,className:se("text-sm opacity-90",e),...t}));t6.displayName=TF.displayName;function aJ(){const{toasts:e}=Ys();return s.jsxs(rJ,{children:[e.map(function({id:t,title:n,description:r,action:a,...i}){return s.jsxs(QF,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(e6,{children:n}),r&&s.jsx(t6,{children:r})]}),a,s.jsx(JF,{})]},t)}),s.jsx(XF,{})]})}var av=["light","dark"],mA="(prefers-color-scheme: dark)",iJ=typeof window>"u",hA=y.createContext(void 0),oJ={setTheme:e=>{},themes:[]},lJ=()=>{var e;return(e=y.useContext(hA))!=null?e:oJ},cJ=e=>y.useContext(hA)?e.children:y.createElement(dJ,{...e}),uJ=["light","dark"],dJ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:a="theme",themes:i=uJ,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,m]=y.useState(()=>e_(a,o)),[h,g]=y.useState(()=>e_(a)),p=c?Object.values(c):i,x=y.useCallback(N=>{let j=N;if(!j)return;N==="system"&&n&&(j=t_());let S=c?c[j]:j,C=t?mJ():null,P=document.documentElement;if(l==="class"?(P.classList.remove(...p),S&&P.classList.add(S)):S?P.setAttribute(l,S):P.removeAttribute(l),r){let A=av.includes(o)?o:null,T=av.includes(j)?j:A;P.style.colorScheme=T}C==null||C()},[]),v=y.useCallback(N=>{let j=typeof N=="function"?N(N):N;m(j);try{localStorage.setItem(a,j)}catch{}},[e]),b=y.useCallback(N=>{let j=t_(N);g(j),f==="system"&&n&&!e&&x("system")},[f,e]);y.useEffect(()=>{let N=window.matchMedia(mA);return N.addListener(b),b(N),()=>N.removeListener(b)},[b]),y.useEffect(()=>{let N=j=>{if(j.key!==a)return;let S=j.newValue||o;v(S)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[v]),y.useEffect(()=>{x(e??f)},[e,f]);let w=y.useMemo(()=>({theme:f,setTheme:v,forcedTheme:e,resolvedTheme:f==="system"?h:f,themes:n?[...i,"system"]:i,systemTheme:n?h:void 0}),[f,v,e,h,n,i]);return y.createElement(hA.Provider,{value:w},y.createElement(fJ,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:a,themes:i,defaultTheme:o,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},fJ=y.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=a?av.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(g,p=!1,x=!0)=>{let v=o?o[g]:g,b=p?g+"|| ''":`'${v}'`,w="";return a&&x&&!p&&av.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),n==="class"?p||v?w+=`c.add(${b})`:w+="null":v&&(w+=`d[s](n,${b})`),w},h=e?`!function(){${d}${m(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${mA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})}),e_=(e,t)=>{if(iJ)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},mJ=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},t_=e=>(e||(e=window.matchMedia(mA)),e.matches?"dark":"light"),hJ=e=>{switch(e){case"success":return xJ;case"info":return vJ;case"warning":return yJ;case"error":return bJ;default:return null}},pJ=Array(12).fill(0),gJ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},pJ.map((n,r)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xJ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yJ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vJ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bJ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wJ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jJ=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},lS=1,NJ=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:lS++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],M.isValidElement(c))a=!1,this.create({id:n,type:"default",message:c});else if(CJ(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;a&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||lS++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ps=new NJ,SJ=(e,t)=>{let n=(t==null?void 0:t.id)||lS++;return ps.addToast({title:e,...t,id:n}),n},CJ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",PJ=SJ,AJ=()=>ps.toasts,EJ=()=>ps.getActiveToasts(),Vt=Object.assign(PJ,{success:ps.success,info:ps.info,warning:ps.warning,error:ps.error,custom:ps.custom,message:ps.message,promise:ps.promise,dismiss:ps.dismiss,loading:ps.loading},{getHistory:AJ,getToasts:EJ});function kJ(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}kJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ax(e){return e.label!==void 0}var TJ=3,OJ="32px",_J="16px",n_=4e3,RJ=356,MJ=14,IJ=20,DJ=200;function Aa(...e){return e.filter(Boolean).join(" ")}function $J(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var LJ=e=>{var t,n,r,a,i,o,l,c,u,d,f;let{invert:m,toast:h,unstyled:g,interacting:p,setHeights:x,visibleToasts:v,heights:b,index:w,toasts:N,expanded:j,removeToast:S,defaultRichColors:C,closeButton:P,style:A,cancelButtonStyle:T,actionButtonStyle:E,className:k="",descriptionClassName:R="",duration:I,position:D,gap:B,loadingIcon:V,expandByDefault:O,classNames:_,icons:z,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:Y}=e,[Q,ie]=M.useState(null),[ae,ge]=M.useState(null),[$,J]=M.useState(!1),[Z,L]=M.useState(!1),[ce,H]=M.useState(!1),[Se,U]=M.useState(!1),[re,me]=M.useState(!1),[Fe,ut]=M.useState(0),[mt,q]=M.useState(0),ee=M.useRef(h.duration||I||n_),W=M.useRef(null),oe=M.useRef(null),fe=w===0,xe=w+1<=v,we=h.type,Re=h.dismissible!==!1,Me=h.className||"",et=h.descriptionClassName||"",Ln=M.useMemo(()=>b.findIndex(Ge=>Ge.toastId===h.id)||0,[b,h.id]),Zt=M.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:P},[h.closeButton,P]),Kr=M.useMemo(()=>h.duration||I||n_,[h.duration,I]),As=M.useRef(0),dr=M.useRef(0),ds=M.useRef(0),Jn=M.useRef(null),[Vo,zi]=D.split("-"),Fu=M.useMemo(()=>b.reduce((Ge,lt,ht)=>ht>=Ln?Ge:Ge+lt.height,0),[b,Ln]),ax=jJ(),xj=h.invert||m,qn=we==="loading";dr.current=M.useMemo(()=>Ln*B+Fu,[Ln,Fu]),M.useEffect(()=>{ee.current=Kr},[Kr]),M.useEffect(()=>{J(!0)},[]),M.useEffect(()=>{let Ge=oe.current;if(Ge){let lt=Ge.getBoundingClientRect().height;return q(lt),x(ht=>[{toastId:h.id,height:lt,position:h.position},...ht]),()=>x(ht=>ht.filter(Tn=>Tn.toastId!==h.id))}},[x,h.id]),M.useLayoutEffect(()=>{if(!$)return;let Ge=oe.current,lt=Ge.style.height;Ge.style.height="auto";let ht=Ge.getBoundingClientRect().height;Ge.style.height=lt,q(ht),x(Tn=>Tn.find(fr=>fr.toastId===h.id)?Tn.map(fr=>fr.toastId===h.id?{...fr,height:ht}:fr):[{toastId:h.id,height:ht,position:h.position},...Tn])},[$,h.title,h.description,x,h.id]);let kn=M.useCallback(()=>{L(!0),ut(dr.current),x(Ge=>Ge.filter(lt=>lt.toastId!==h.id)),setTimeout(()=>{S(h)},DJ)},[h,S,x,dr]);M.useEffect(()=>{if(h.promise&&we==="loading"||h.duration===1/0||h.type==="loading")return;let Ge;return j||p||Y&&ax?(()=>{if(ds.current<As.current){let lt=new Date().getTime()-As.current;ee.current=ee.current-lt}ds.current=new Date().getTime()})():ee.current!==1/0&&(As.current=new Date().getTime(),Ge=setTimeout(()=>{var lt;(lt=h.onAutoClose)==null||lt.call(h,h),kn()},ee.current)),()=>clearTimeout(Ge)},[j,p,h,we,Y,ax,kn]),M.useEffect(()=>{h.delete&&kn()},[kn,h.delete]);function Gr(){var Ge,lt,ht;return z!=null&&z.loading?M.createElement("div",{className:Aa(_==null?void 0:_.loader,(Ge=h==null?void 0:h.classNames)==null?void 0:Ge.loader,"sonner-loader"),"data-visible":we==="loading"},z.loading):V?M.createElement("div",{className:Aa(_==null?void 0:_.loader,(lt=h==null?void 0:h.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":we==="loading"},V):M.createElement(gJ,{className:Aa(_==null?void 0:_.loader,(ht=h==null?void 0:h.classNames)==null?void 0:ht.loader),visible:we==="loading"})}return M.createElement("li",{tabIndex:0,ref:oe,className:Aa(k,Me,_==null?void 0:_.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,_==null?void 0:_.default,_==null?void 0:_[we],(n=h==null?void 0:h.classNames)==null?void 0:n[we]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":$,"data-promise":!!h.promise,"data-swiped":re,"data-removed":Z,"data-visible":xe,"data-y-position":Vo,"data-x-position":zi,"data-index":w,"data-front":fe,"data-swiping":ce,"data-dismissible":Re,"data-type":we,"data-invert":xj,"data-swipe-out":Se,"data-swipe-direction":ae,"data-expanded":!!(j||O&&$),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${Z?Fe:dr.current}px`,"--initial-height":O?"auto":`${mt}px`,...A,...h.style},onDragEnd:()=>{H(!1),ie(null),Jn.current=null},onPointerDown:Ge=>{qn||!Re||(W.current=new Date,ut(dr.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(H(!0),Jn.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,lt,ht,Tn;if(Se||!Re)return;Jn.current=null;let fr=Number(((Ge=oe.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),nn=Number(((lt=oe.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((ht=W.current)==null?void 0:ht.getTime()),On=Q==="x"?fr:nn,mr=Math.abs(On)/Ir;if(Math.abs(On)>=IJ||mr>.11){ut(dr.current),(Tn=h.onDismiss)==null||Tn.call(h,h),ge(Q==="x"?fr>0?"right":"left":nn>0?"down":"up"),kn(),U(!0),me(!1);return}H(!1),ie(null)},onPointerMove:Ge=>{var lt,ht,Tn,fr;if(!Jn.current||!Re||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;let nn=Ge.clientY-Jn.current.y,Ir=Ge.clientX-Jn.current.x,On=(ht=e.swipeDirections)!=null?ht:$J(D);!Q&&(Math.abs(Ir)>1||Math.abs(nn)>1)&&ie(Math.abs(Ir)>Math.abs(nn)?"x":"y");let mr={x:0,y:0};Q==="y"?(On.includes("top")||On.includes("bottom"))&&(On.includes("top")&&nn<0||On.includes("bottom")&&nn>0)&&(mr.y=nn):Q==="x"&&(On.includes("left")||On.includes("right"))&&(On.includes("left")&&Ir<0||On.includes("right")&&Ir>0)&&(mr.x=Ir),(Math.abs(mr.x)>0||Math.abs(mr.y)>0)&&me(!0),(Tn=oe.current)==null||Tn.style.setProperty("--swipe-amount-x",`${mr.x}px`),(fr=oe.current)==null||fr.style.setProperty("--swipe-amount-y",`${mr.y}px`)}},Zt&&!h.jsx?M.createElement("button",{"aria-label":ne,"data-disabled":qn,"data-close-button":!0,onClick:qn||!Re?()=>{}:()=>{var Ge;kn(),(Ge=h.onDismiss)==null||Ge.call(h,h)},className:Aa(_==null?void 0:_.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},(i=z==null?void 0:z.close)!=null?i:wJ):null,h.jsx||y.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:M.createElement(M.Fragment,null,we||h.icon||h.promise?M.createElement("div",{"data-icon":"",className:Aa(_==null?void 0:_.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Gr():null,h.type!=="loading"?h.icon||(z==null?void 0:z[we])||hJ(we):null):null,M.createElement("div",{"data-content":"",className:Aa(_==null?void 0:_.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:Aa(_==null?void 0:_.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?M.createElement("div",{"data-description":"",className:Aa(R,et,_==null?void 0:_.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),y.isValidElement(h.cancel)?h.cancel:h.cancel&&Ax(h.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Ge=>{var lt,ht;Ax(h.cancel)&&Re&&((ht=(lt=h.cancel).onClick)==null||ht.call(lt,Ge),kn())},className:Aa(_==null?void 0:_.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,y.isValidElement(h.action)?h.action:h.action&&Ax(h.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||E,onClick:Ge=>{var lt,ht;Ax(h.action)&&((ht=(lt=h.action).onClick)==null||ht.call(lt,Ge),!Ge.defaultPrevented&&kn())},className:Aa(_==null?void 0:_.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function r_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function FJ(e,t){let n={};return[e,t].forEach((r,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?_J:OJ;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var BJ=y.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:h,visibleToasts:g=TJ,toastOptions:p,dir:x=r_(),gap:v=MJ,loadingIcon:b,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:j}=e,[S,C]=M.useState([]),P=M.useMemo(()=>Array.from(new Set([r].concat(S.filter(Y=>Y.position).map(Y=>Y.position)))),[S,r]),[A,T]=M.useState([]),[E,k]=M.useState(!1),[R,I]=M.useState(!1),[D,B]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),O=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=M.useRef(null),z=M.useRef(!1),ne=M.useCallback(Y=>{C(Q=>{var ie;return(ie=Q.find(ae=>ae.id===Y.id))!=null&&ie.delete||ps.dismiss(Y.id),Q.filter(({id:ae})=>ae!==Y.id)})},[]);return M.useEffect(()=>ps.subscribe(Y=>{if(Y.dismiss){C(Q=>Q.map(ie=>ie.id===Y.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{aF.flushSync(()=>{C(Q=>{let ie=Q.findIndex(ae=>ae.id===Y.id);return ie!==-1?[...Q.slice(0,ie),{...Q[ie],...Y},...Q.slice(ie+1)]:[Y,...Q]})})})}),[]),M.useEffect(()=>{if(d!=="system"){B(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:Q})=>{B(Q?"dark":"light")})}catch{Y.addListener(({matches:ie})=>{try{B(ie?"dark":"light")}catch(ae){console.error(ae)}})}},[d]),M.useEffect(()=>{S.length<=1&&k(!1)},[S]),M.useEffect(()=>{let Y=Q=>{var ie,ae;a.every(ge=>Q[ge]||Q.code===ge)&&(k(!0),(ie=V.current)==null||ie.focus()),Q.code==="Escape"&&(document.activeElement===V.current||(ae=V.current)!=null&&ae.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[a]),M.useEffect(()=>{if(V.current)return()=>{_.current&&(_.current.focus({preventScroll:!0}),_.current=null,z.current=!1)}},[V.current]),M.createElement("section",{ref:t,"aria-label":`${N} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((Y,Q)=>{var ie;let[ae,ge]=Y.split("-");return S.length?M.createElement("ol",{key:Y,dir:x==="auto"?r_():x,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":ae,"data-lifted":E&&S.length>1&&!i,"data-x-position":ge,style:{"--front-toast-height":`${((ie=A[0])==null?void 0:ie.height)||0}px`,"--width":`${RJ}px`,"--gap":`${v}px`,...h,...FJ(c,u)},onBlur:$=>{z.current&&!$.currentTarget.contains($.relatedTarget)&&(z.current=!1,_.current&&(_.current.focus({preventScroll:!0}),_.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||z.current||(z.current=!0,_.current=$.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{R||k(!1)},onDragEnd:()=>k(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},S.filter($=>!$.position&&Q===0||$.position===Y).map(($,J)=>{var Z,L;return M.createElement(LJ,{key:$.id,icons:w,index:J,toast:$,defaultRichColors:f,duration:(Z=p==null?void 0:p.duration)!=null?Z:m,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:g,closeButton:(L=p==null?void 0:p.closeButton)!=null?L:o,interacting:R,position:Y,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ne,toasts:S.filter(ce=>ce.position==$.position),heights:A.filter(ce=>ce.position==$.position),setHeights:T,expandByDefault:i,gap:v,loadingIcon:b,expanded:E,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const VJ=({...e})=>{const{theme:t="system"}=lJ();return s.jsx(BJ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var UJ=mP[" useId ".trim().toString()]||(()=>{}),zJ=0;function ga(e){const[t,n]=y.useState(UJ());return $n(()=>{n(r=>r??String(zJ++))},[e]),t?`radix-${t}`:""}const WJ=["top","right","bottom","left"],Wl=Math.min,Ms=Math.max,iv=Math.round,Ex=Math.floor,Ci=e=>({x:e,y:e}),qJ={left:"right",right:"left",bottom:"top",top:"bottom"},HJ={start:"end",end:"start"};function cS(e,t,n){return Ms(e,Wl(t,n))}function No(e,t){return typeof e=="function"?e(t):e}function So(e){return e.split("-")[0]}function Zf(e){return e.split("-")[1]}function pA(e){return e==="x"?"y":"x"}function gA(e){return e==="y"?"height":"width"}const KJ=new Set(["top","bottom"]);function vi(e){return KJ.has(So(e))?"y":"x"}function xA(e){return pA(vi(e))}function GJ(e,t,n){n===void 0&&(n=!1);const r=Zf(e),a=xA(e),i=gA(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=ov(o)),[o,ov(o)]}function YJ(e){const t=ov(e);return[uS(e),t,uS(t)]}function uS(e){return e.replace(/start|end/g,t=>HJ[t])}const s_=["left","right"],a_=["right","left"],XJ=["top","bottom"],QJ=["bottom","top"];function ZJ(e,t,n){switch(e){case"top":case"bottom":return n?t?a_:s_:t?s_:a_;case"left":case"right":return t?XJ:QJ;default:return[]}}function JJ(e,t,n,r){const a=Zf(e);let i=ZJ(So(e),n==="start",r);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(uS)))),i}function ov(e){return e.replace(/left|right|bottom|top/g,t=>qJ[t])}function eee(e){return{top:0,right:0,bottom:0,left:0,...e}}function n6(e){return typeof e!="number"?eee(e):{top:e,right:e,bottom:e,left:e}}function lv(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function i_(e,t,n){let{reference:r,floating:a}=e;const i=vi(t),o=xA(t),l=gA(o),c=So(t),u=i==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-a.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(Zf(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const tee=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=i_(u,r,c),m=r,h={},g=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:b,y:w,data:N,reset:j}=await v({x:d,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=w??f,h={...h,[x]:{...h[x],...N}},j&&g<=50&&(g++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=i_(u,m,c)),p=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:h}};async function dp(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=No(t,e),g=n6(h),x=l[m?f==="floating"?"reference":"floating":f],v=lv(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=lv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:w,strategy:c}):b);return{top:(v.top-j.top+g.top)/N.y,bottom:(j.bottom-v.bottom+g.bottom)/N.y,left:(v.left-j.left+g.left)/N.x,right:(j.right-v.right+g.right)/N.x}}const nee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=No(e,t)||{};if(u==null)return{};const f=n6(d),m={x:n,y:r},h=xA(a),g=gA(h),p=await o.getDimensions(u),x=h==="y",v=x?"top":"left",b=x?"bottom":"right",w=x?"clientHeight":"clientWidth",N=i.reference[g]+i.reference[h]-m[h]-i.floating[g],j=m[h]-i.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[w]||i.floating[g]);const P=N/2-j/2,A=C/2-p[g]/2-1,T=Wl(f[v],A),E=Wl(f[b],A),k=T,R=C-p[g]-E,I=C/2-p[g]/2+P,D=cS(k,I,R),B=!c.arrow&&Zf(a)!=null&&I!==D&&i.reference[g]/2-(I<k?T:E)-p[g]/2<0,V=B?I<k?I-k:I-R:0;return{[h]:m[h]+V,data:{[h]:D,centerOffset:I-D-V,...B&&{alignmentOffset:V}},reset:B}}}),ree=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=No(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=So(a),b=vi(l),w=So(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=m||(w||!p?[ov(l)]:YJ(l)),S=g!=="none";!m&&S&&j.push(...JJ(l,p,g,N));const C=[l,...j],P=await dp(t,x),A=[];let T=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(P[v]),f){const I=GJ(a,o,N);A.push(P[I[0]],P[I[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every(I=>I<=0)){var E,k;const I=(((E=i.flip)==null?void 0:E.index)||0)+1,D=C[I];if(D&&(!(f==="alignment"?b!==vi(D):!1)||T.every(O=>vi(O.placement)===b?O.overflows[0]>0:!0)))return{data:{index:I,overflows:T},reset:{placement:D}};let B=(k=T.filter(V=>V.overflows[0]<=0).sort((V,O)=>V.overflows[1]-O.overflows[1])[0])==null?void 0:k.placement;if(!B)switch(h){case"bestFit":{var R;const V=(R=T.filter(O=>{if(S){const _=vi(O.placement);return _===b||_==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(_=>_>0).reduce((_,z)=>_+z,0)]).sort((O,_)=>O[1]-_[1])[0])==null?void 0:R[0];V&&(B=V);break}case"initialPlacement":B=l;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function o_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l_(e){return WJ.some(t=>e[t]>=0)}const see=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=No(e,t);switch(r){case"referenceHidden":{const i=await dp(t,{...a,elementContext:"reference"}),o=o_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:l_(o)}}}case"escaped":{const i=await dp(t,{...a,altBoundary:!0}),o=o_(i,n.floating);return{data:{escapedOffsets:o,escaped:l_(o)}}}default:return{}}}}},r6=new Set(["left","top"]);async function aee(e,t){const{placement:n,platform:r,elements:a}=e,i=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=So(n),l=Zf(n),c=vi(n)==="y",u=r6.has(o)?-1:1,d=i&&c?-1:1,f=No(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const iee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await aee(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},oee=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...c}=No(e,t),u={x:n,y:r},d=await dp(t,c),f=vi(So(a)),m=pA(f);let h=u[m],g=u[f];if(i){const x=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=h+d[x],w=h-d[v];h=cS(b,h,w)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=g+d[x],w=g-d[v];g=cS(b,g,w)}const p=l.fn({...t,[m]:h,[f]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[m]:i,[f]:o}}}}}},lee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=No(e,t),d={x:n,y:r},f=vi(a),m=pA(f);let h=d[m],g=d[f];const p=No(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",N=i.reference[m]-i.floating[w]+x.mainAxis,j=i.reference[m]+i.reference[w]-x.mainAxis;h<N?h=N:h>j&&(h=j)}if(u){var v,b;const w=m==="y"?"width":"height",N=r6.has(So(a)),j=i.reference[f]-i.floating[w]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(N?0:((b=o.offset)==null?void 0:b[f])||0)-(N?x.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[m]:h,[f]:g}}}},cee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=No(e,t),d=await dp(t,u),f=So(a),m=Zf(a),h=vi(a)==="y",{width:g,height:p}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=m==="end"?"top":"bottom");const b=p-d.top-d.bottom,w=g-d.left-d.right,N=Wl(p-d[x],b),j=Wl(g-d[v],w),S=!t.middlewareData.shift;let C=N,P=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=b),S&&!m){const T=Ms(d.left,0),E=Ms(d.right,0),k=Ms(d.top,0),R=Ms(d.bottom,0);h?P=g-2*(T!==0||E!==0?T+E:Ms(d.left,d.right)):C=p-2*(k!==0||R!==0?k+R:Ms(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:C});const A=await o.getDimensions(l.floating);return g!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function yb(){return typeof window<"u"}function Jf(e){return s6(e)?(e.nodeName||"").toLowerCase():"#document"}function Fs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $i(e){var t;return(t=(s6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function s6(e){return yb()?e instanceof Node||e instanceof Fs(e).Node:!1}function Xa(e){return yb()?e instanceof Element||e instanceof Fs(e).Element:!1}function Mi(e){return yb()?e instanceof HTMLElement||e instanceof Fs(e).HTMLElement:!1}function c_(e){return!yb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fs(e).ShadowRoot}const uee=new Set(["inline","contents"]);function Og(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Qa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!uee.has(a)}const dee=new Set(["table","td","th"]);function fee(e){return dee.has(Jf(e))}const mee=[":popover-open",":modal"];function vb(e){return mee.some(t=>{try{return e.matches(t)}catch{return!1}})}const hee=["transform","translate","scale","rotate","perspective"],pee=["transform","translate","scale","rotate","perspective","filter"],gee=["paint","layout","strict","content"];function yA(e){const t=vA(),n=Xa(e)?Qa(e):e;return hee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||pee.some(r=>(n.willChange||"").includes(r))||gee.some(r=>(n.contain||"").includes(r))}function xee(e){let t=ql(e);for(;Mi(t)&&!of(t);){if(yA(t))return t;if(vb(t))return null;t=ql(t)}return null}function vA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const yee=new Set(["html","body","#document"]);function of(e){return yee.has(Jf(e))}function Qa(e){return Fs(e).getComputedStyle(e)}function bb(e){return Xa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ql(e){if(Jf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c_(e)&&e.host||$i(e);return c_(t)?t.host:t}function a6(e){const t=ql(e);return of(t)?e.ownerDocument?e.ownerDocument.body:e.body:Mi(t)&&Og(t)?t:a6(t)}function fp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=a6(e),i=a===((r=e.ownerDocument)==null?void 0:r.body),o=Fs(a);if(i){const l=dS(o);return t.concat(o,o.visualViewport||[],Og(a)?a:[],l&&n?fp(l):[])}return t.concat(a,fp(a,[],n))}function dS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function i6(e){const t=Qa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Mi(e),i=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=iv(n)!==i||iv(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function bA(e){return Xa(e)?e:e.contextElement}function Td(e){const t=bA(e);if(!Mi(t))return Ci(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:i}=i6(t);let o=(i?iv(n.width):n.width)/r,l=(i?iv(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vee=Ci(0);function o6(e){const t=Fs(e);return!vA()||!t.visualViewport?vee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fs(e)?!1:t}function xu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),i=bA(e);let o=Ci(1);t&&(r?Xa(r)&&(o=Td(r)):o=Td(e));const l=bee(i,n,r)?o6(i):Ci(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const m=Fs(i),h=r&&Xa(r)?Fs(r):r;let g=m,p=dS(g);for(;p&&r&&h!==g;){const x=Td(p),v=p.getBoundingClientRect(),b=Qa(p),w=v.left+(p.clientLeft+parseFloat(b.paddingLeft))*x.x,N=v.top+(p.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=N,g=Fs(p),p=dS(g)}}return lv({width:d,height:f,x:c,y:u})}function wb(e,t){const n=bb(e).scrollLeft;return t?t.left+n:xu($i(e)).left+n}function l6(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-wb(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function wee(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const i=a==="fixed",o=$i(r),l=t?vb(t.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const d=Ci(0),f=Mi(r);if((f||!f&&!i)&&((Jf(r)!=="body"||Og(o))&&(c=bb(r)),Mi(r))){const h=xu(r);u=Td(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=o&&!f&&!i?l6(o,c):Ci(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function jee(e){return Array.from(e.getClientRects())}function Nee(e){const t=$i(e),n=bb(e),r=e.ownerDocument.body,a=Ms(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Ms(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+wb(e);const l=-n.scrollTop;return Qa(r).direction==="rtl"&&(o+=Ms(t.clientWidth,r.clientWidth)-a),{width:a,height:i,x:o,y:l}}const u_=25;function See(e,t){const n=Fs(e),r=$i(e),a=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=vA();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=wb(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-h);g<=u_&&(i-=g)}else u<=u_&&(i+=u);return{width:i,height:o,x:l,y:c}}const Cee=new Set(["absolute","fixed"]);function Pee(e,t){const n=xu(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,i=Mi(e)?Td(e):Ci(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function d_(e,t,n){let r;if(t==="viewport")r=See(e,n);else if(t==="document")r=Nee($i(e));else if(Xa(t))r=Pee(t,n);else{const a=o6(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return lv(r)}function c6(e,t){const n=ql(e);return n===t||!Xa(n)||of(n)?!1:Qa(n).position==="fixed"||c6(n,t)}function Aee(e,t){const n=t.get(e);if(n)return n;let r=fp(e,[],!1).filter(l=>Xa(l)&&Jf(l)!=="body"),a=null;const i=Qa(e).position==="fixed";let o=i?ql(e):e;for(;Xa(o)&&!of(o);){const l=Qa(o),c=yA(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&Cee.has(a.position)||Og(o)&&!c&&c6(e,o))?r=r.filter(d=>d!==o):a=l,o=ql(o)}return t.set(e,r),r}function Eee(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?vb(t)?[]:Aee(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=d_(t,d,a);return u.top=Ms(f.top,u.top),u.right=Wl(f.right,u.right),u.bottom=Wl(f.bottom,u.bottom),u.left=Ms(f.left,u.left),u},d_(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function kee(e){const{width:t,height:n}=i6(e);return{width:t,height:n}}function Tee(e,t,n){const r=Mi(t),a=$i(t),i=n==="fixed",o=xu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=wb(a)}if(r||!r&&!i)if((Jf(t)!=="body"||Og(a))&&(l=bb(t)),r){const h=xu(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&u();i&&!r&&a&&u();const d=a&&!r&&!i?l6(a,l):Ci(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function Xj(e){return Qa(e).position==="static"}function f_(e,t){if(!Mi(e)||Qa(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $i(e)===n&&(n=n.ownerDocument.body),n}function u6(e,t){const n=Fs(e);if(vb(e))return n;if(!Mi(e)){let a=ql(e);for(;a&&!of(a);){if(Xa(a)&&!Xj(a))return a;a=ql(a)}return n}let r=f_(e,t);for(;r&&fee(r)&&Xj(r);)r=f_(r,t);return r&&of(r)&&Xj(r)&&!yA(r)?n:r||xee(e)||n}const Oee=async function(e){const t=this.getOffsetParent||u6,n=this.getDimensions,r=await n(e.floating);return{reference:Tee(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _ee(e){return Qa(e).direction==="rtl"}const Ree={convertOffsetParentRelativeRectToViewportRelativeRect:wee,getDocumentElement:$i,getClippingRect:Eee,getOffsetParent:u6,getElementRects:Oee,getClientRects:jee,getDimensions:kee,getScale:Td,isElement:Xa,isRTL:_ee};function d6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Mee(e,t){let n=null,r;const a=$i(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const g=Ex(f),p=Ex(a.clientWidth-(d+m)),x=Ex(a.clientHeight-(f+h)),v=Ex(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-v+"px",threshold:Ms(0,Wl(1,c))||1};let N=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!d6(u,e.getBoundingClientRect())&&o(),N=!1}try{n=new IntersectionObserver(j,{...w,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(e)}return o(!0),i}function Iee(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=bA(e),d=a||i?[...u?fp(u):[],...fp(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const f=u&&l?Mee(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=h)==null||w.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,p=c?xu(e):null;c&&x();function x(){const v=xu(e);p&&!d6(p,v)&&n(),p=v,g=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(b=>{a&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const Dee=iee,$ee=oee,Lee=ree,Fee=cee,Bee=see,m_=nee,Vee=lee,Uee=(e,t,n)=>{const r=new Map,a={platform:Ree,...n},i={...a.platform,_c:r};return tee(e,t,{...a,platform:i})};var zee=typeof document<"u",Wee=function(){},yy=zee?y.useLayoutEffect:Wee;function cv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cv(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const i=a[r];if(!(i==="_owner"&&e.$$typeof)&&!cv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function f6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function h_(e,t){const n=f6(e);return Math.round(t*n)/n}function Qj(e){const t=y.useRef(e);return yy(()=>{t.current=e}),t}function qee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=y.useState(r);cv(m,r)||h(r);const[g,p]=y.useState(null),[x,v]=y.useState(null),b=y.useCallback(O=>{O!==S.current&&(S.current=O,p(O))},[]),w=y.useCallback(O=>{O!==C.current&&(C.current=O,v(O))},[]),N=i||g,j=o||x,S=y.useRef(null),C=y.useRef(null),P=y.useRef(d),A=c!=null,T=Qj(c),E=Qj(a),k=Qj(u),R=y.useCallback(()=>{if(!S.current||!C.current)return;const O={placement:t,strategy:n,middleware:m};E.current&&(O.platform=E.current),Uee(S.current,C.current,O).then(_=>{const z={..._,isPositioned:k.current!==!1};I.current&&!cv(P.current,z)&&(P.current=z,da.flushSync(()=>{f(z)}))})},[m,t,n,E,k]);yy(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const I=y.useRef(!1);yy(()=>(I.current=!0,()=>{I.current=!1}),[]),yy(()=>{if(N&&(S.current=N),j&&(C.current=j),N&&j){if(T.current)return T.current(N,j,R);R()}},[N,j,R,T,A]);const D=y.useMemo(()=>({reference:S,floating:C,setReference:b,setFloating:w}),[b,w]),B=y.useMemo(()=>({reference:N,floating:j}),[N,j]),V=y.useMemo(()=>{const O={position:n,left:0,top:0};if(!B.floating)return O;const _=h_(B.floating,d.x),z=h_(B.floating,d.y);return l?{...O,transform:"translate("+_+"px, "+z+"px)",...f6(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:z}},[n,l,B.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:R,refs:D,elements:B,floatingStyles:V}),[d,R,D,B,V])}const Hee=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?m_({element:r.current,padding:a}).fn(n):{}:r?m_({element:r,padding:a}).fn(n):{}}}},Kee=(e,t)=>({...Dee(e),options:[e,t]}),Gee=(e,t)=>({...$ee(e),options:[e,t]}),Yee=(e,t)=>({...Vee(e),options:[e,t]}),Xee=(e,t)=>({...Lee(e),options:[e,t]}),Qee=(e,t)=>({...Fee(e),options:[e,t]}),Zee=(e,t)=>({...Bee(e),options:[e,t]}),Jee=(e,t)=>({...Hee(e),options:[e,t]});var ete="Arrow",m6=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...i}=e;return s.jsx(Te.svg,{...i,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});m6.displayName=ete;var tte=m6;function _g(e){const[t,n]=y.useState(void 0);return $n(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var wA="Popper",[h6,em]=Zn(wA),[nte,p6]=h6(wA),g6=e=>{const{__scopePopper:t,children:n}=e,[r,a]=y.useState(null);return s.jsx(nte,{scope:t,anchor:r,onAnchorChange:a,children:n})};g6.displayName=wA;var x6="PopperAnchor",y6=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,i=p6(x6,n),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:s.jsx(Te.div,{...a,ref:l})});y6.displayName=x6;var jA="PopperContent",[rte,ste]=h6(jA),v6=y.forwardRef((e,t)=>{var $,J,Z,L,ce,H;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:g,...p}=e,x=p6(jA,n),[v,b]=y.useState(null),w=Ke(t,Se=>b(Se)),[N,j]=y.useState(null),S=_g(N),C=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,A=r+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},E=Array.isArray(u)?u:[u],k=E.length>0,R={padding:T,boundary:E.filter(ite),altBoundary:k},{refs:I,floatingStyles:D,placement:B,isPositioned:V,middlewareData:O}=qee({strategy:"fixed",placement:A,whileElementsMounted:(...Se)=>Iee(...Se,{animationFrame:h==="always"}),elements:{reference:x.anchor},middleware:[Kee({mainAxis:a+P,alignmentAxis:o}),c&&Gee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Yee():void 0,...R}),c&&Xee({...R}),Qee({...R,apply:({elements:Se,rects:U,availableWidth:re,availableHeight:me})=>{const{width:Fe,height:ut}=U.reference,mt=Se.floating.style;mt.setProperty("--radix-popper-available-width",`${re}px`),mt.setProperty("--radix-popper-available-height",`${me}px`),mt.setProperty("--radix-popper-anchor-width",`${Fe}px`),mt.setProperty("--radix-popper-anchor-height",`${ut}px`)}}),N&&Jee({element:N,padding:l}),ote({arrowWidth:C,arrowHeight:P}),m&&Zee({strategy:"referenceHidden",...R})]}),[_,z]=j6(B),ne=Dn(g);$n(()=>{V&&(ne==null||ne())},[V,ne]);const Y=($=O.arrow)==null?void 0:$.x,Q=(J=O.arrow)==null?void 0:J.y,ie=((Z=O.arrow)==null?void 0:Z.centerOffset)!==0,[ae,ge]=y.useState();return $n(()=>{v&&ge(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(L=O.transformOrigin)==null?void 0:L.x,(ce=O.transformOrigin)==null?void 0:ce.y].join(" "),...((H=O.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(rte,{scope:n,placedSide:_,onArrowChange:j,arrowX:Y,arrowY:Q,shouldHideArrow:ie,children:s.jsx(Te.div,{"data-side":_,"data-align":z,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});v6.displayName=jA;var b6="PopperArrow",ate={top:"bottom",right:"left",bottom:"top",left:"right"},w6=y.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,i=ste(b6,r),o=ate[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(tte,{...a,ref:n,style:{...a.style,display:"block"}})})});w6.displayName=b6;function ite(e){return e!==null}var ote=e=>({name:"transformOrigin",options:e,fn(t){var x,v,b;const{placement:n,rects:r,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=j6(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,h=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${m}px`,p=`${-c}px`):u==="top"?(g=o?f:`${m}px`,p=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${h}px`):u==="left"&&(g=`${r.floating.width+c}px`,p=o?f:`${h}px`),{data:{x:g,y:p}}}});function j6(e){const[t,n="center"]=e.split("-");return[t,n]}var NA=g6,SA=y6,CA=v6,PA=w6,[jb,h9e]=Zn("Tooltip",[em]),Nb=em(),N6="TooltipProvider",lte=700,fS="tooltip.open",[cte,AA]=jb(N6),S6=e=>{const{__scopeTooltip:t,delayDuration:n=lte,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(cte,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};S6.displayName=N6;var mp="Tooltip",[ute,Sb]=jb(mp),C6=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=e,c=AA(mp,e.__scopeTooltip),u=Nb(t),[d,f]=y.useState(null),m=ga(),h=y.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,x=y.useRef(!1),[v,b]=zs({prop:r,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(fS))):c.onClose(),i==null||i(C)},caller:mp}),w=y.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),N=y.useCallback(()=>{window.clearTimeout(h.current),h.current=0,x.current=!1,b(!0)},[b]),j=y.useCallback(()=>{window.clearTimeout(h.current),h.current=0,b(!1)},[b]),S=y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{x.current=!0,b(!0),h.current=0},p)},[p,b]);return y.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(NA,{...u,children:s.jsx(ute,{scope:t,contentId:m,open:v,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:y.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:y.useCallback(()=>{g?j():(window.clearTimeout(h.current),h.current=0)},[j,g]),onOpen:N,onClose:j,disableHoverableContent:g,children:n})})};C6.displayName=mp;var mS="TooltipTrigger",P6=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Sb(mS,n),i=AA(mS,n),o=Nb(n),l=y.useRef(null),c=Ke(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(SA,{asChild:!0,...o,children:s.jsx(Te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:be(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:be(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:be(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:be(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:be(e.onBlur,a.onClose),onClick:be(e.onClick,a.onClose)})})});P6.displayName=mS;var dte="TooltipPortal",[p9e,fte]=jb(dte,{forceMount:void 0}),lf="TooltipContent",A6=y.forwardRef((e,t)=>{const n=fte(lf,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...i}=e,o=Sb(lf,e.__scopeTooltip);return s.jsx(wr,{present:r||o.open,children:o.disableHoverableContent?s.jsx(E6,{side:a,...i,ref:t}):s.jsx(mte,{side:a,...i,ref:t})})}),mte=y.forwardRef((e,t)=>{const n=Sb(lf,e.__scopeTooltip),r=AA(lf,e.__scopeTooltip),a=y.useRef(null),i=Ke(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,m=y.useCallback(()=>{l(null),f(!1)},[f]),h=y.useCallback((g,p)=>{const x=g.currentTarget,v={x:g.clientX,y:g.clientY},b=yte(v,x.getBoundingClientRect()),w=vte(v,b),N=bte(p.getBoundingClientRect()),j=jte([...w,...N]);l(j),f(!0)},[f]);return y.useEffect(()=>()=>m(),[m]),y.useEffect(()=>{if(c&&d){const g=x=>h(x,d),p=x=>h(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,h,m]),y.useEffect(()=>{if(o){const g=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!wte(v,o);b?m():w&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,m]),s.jsx(E6,{...e,ref:i})}),[hte,pte]=jb(mp,{isInside:!1}),gte=cF("TooltipContent"),E6=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=Sb(lf,n),u=Nb(n),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(fS,d),()=>document.removeEventListener(fS,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(CA,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(gte,{children:r}),s.jsx(hte,{scope:n,isInside:!0,children:s.jsx(TQ,{id:c.contentId,role:"tooltip",children:a||r})})]})})});A6.displayName=lf;var k6="TooltipArrow",xte=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Nb(n);return pte(k6,n).isInside?null:s.jsx(PA,{...a,...r,ref:t})});xte.displayName=k6;function yte(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,a,i)){case i:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function vte(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function bte(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function wte(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(a=!a)}return a}function jte(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Nte(t)}function Nte(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Ste=S6,Cte=C6,Pte=P6,T6=A6;const O6=Ste,Ate=Cte,Ete=Pte,_6=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(T6,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));_6.displayName=T6.displayName;var tm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kte={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ol,lP,D5,Tte=(D5=class{constructor(){qe(this,ol,kte);qe(this,lP,!1)}setTimeoutProvider(e){Oe(this,ol,e)}setTimeout(e,t){return G(this,ol).setTimeout(e,t)}clearTimeout(e){G(this,ol).clearTimeout(e)}setInterval(e,t){return G(this,ol).setInterval(e,t)}clearInterval(e){G(this,ol).clearInterval(e)}},ol=new WeakMap,lP=new WeakMap,D5),Lc=new Tte;function Ote(e){setTimeout(e,0)}var yu=typeof window>"u"||"Deno"in globalThis;function Zr(){}function _te(e,t){return typeof e=="function"?e(t):e}function hS(e){return typeof e=="number"&&e>=0&&e!==1/0}function R6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _l(e,t){return typeof e=="function"?e(t):e}function sa(e,t){return typeof e=="function"?e(t):e}function p_(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==EA(o,t.options))return!1}else if(!hp(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function g_(e,t){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(vu(t.options.mutationKey)!==vu(i))return!1}else if(!hp(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function EA(e,t){return((t==null?void 0:t.queryKeyHashFn)||vu)(e)}function vu(e){return JSON.stringify(e,(t,n)=>pS(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function hp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>hp(e[n],t[n])):!1}var Rte=Object.prototype.hasOwnProperty;function M6(e,t){if(e===t)return e;const n=x_(e)&&x_(t);if(!n&&!(pS(e)&&pS(t)))return t;const a=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,l=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u],f=e[d],m=t[d];if(f===m){l[d]=f,(n?u<a:Rte.call(e,d))&&c++;continue}if(f===null||m===null||typeof f!="object"||typeof m!="object"){l[d]=m;continue}const h=M6(f,m);l[d]=h,h===f&&c++}return a===o&&c===a?e:l}function uv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function x_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pS(e){if(!y_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!y_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function y_(e){return Object.prototype.toString.call(e)==="[object Object]"}function Mte(e){return new Promise(t=>{Lc.setTimeout(t,e)})}function gS(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?M6(e,t):t}function Ite(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Dte(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var kA=Symbol();function I6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function D6(e,t){return typeof e=="function"?e(...t):!!e}var Hc,ll,Ld,$5,$te=($5=class extends tm{constructor(){super();qe(this,Hc);qe(this,ll);qe(this,Ld);Oe(this,Ld,t=>{if(!yu&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){G(this,ll)||this.setEventListener(G(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,ll))==null||t.call(this),Oe(this,ll,void 0))}setEventListener(t){var n;Oe(this,Ld,t),(n=G(this,ll))==null||n.call(this),Oe(this,ll,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){G(this,Hc)!==t&&(Oe(this,Hc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof G(this,Hc)=="boolean"?G(this,Hc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Hc=new WeakMap,ll=new WeakMap,Ld=new WeakMap,$5),TA=new $te;function xS(){let e,t;const n=new Promise((a,i)=>{e=a,t=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}var Lte=Ote;function Fte(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=Lte;const i=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var ir=Fte(),Fd,cl,Bd,L5,Bte=(L5=class extends tm{constructor(){super();qe(this,Fd,!0);qe(this,cl);qe(this,Bd);Oe(this,Bd,t=>{if(!yu&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){G(this,cl)||this.setEventListener(G(this,Bd))}onUnsubscribe(){var t;this.hasListeners()||((t=G(this,cl))==null||t.call(this),Oe(this,cl,void 0))}setEventListener(t){var n;Oe(this,Bd,t),(n=G(this,cl))==null||n.call(this),Oe(this,cl,t(this.setOnline.bind(this)))}setOnline(t){G(this,Fd)!==t&&(Oe(this,Fd,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return G(this,Fd)}},Fd=new WeakMap,cl=new WeakMap,Bd=new WeakMap,L5),dv=new Bte;function Vte(e){return Math.min(1e3*2**e,3e4)}function $6(e){return(e??"online")==="online"?dv.isOnline():!0}var yS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function L6(e){let t=!1,n=0,r;const a=xS(),i=()=>a.status!=="pending",o=p=>{var x;if(!i()){const v=new yS(p);m(v),(x=e.onCancel)==null||x.call(e,v)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>TA.isFocused()&&(e.networkMode==="always"||dv.isOnline())&&e.canRun(),d=()=>$6(e.networkMode)&&e.canRun(),f=p=>{i()||(r==null||r(),a.resolve(p))},m=p=>{i()||(r==null||r(),a.reject(p))},h=()=>new Promise(p=>{var x;r=v=>{(i()||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;r=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var S;if(i())return;const b=e.retry??(yu?0:3),w=e.retryDelay??Vte,N=typeof w=="function"?w(n,v):w,j=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,v);if(t||!j){m(v);return}n++,(S=e.onFail)==null||S.call(e,n,v),Mte(N).then(()=>u()?void 0:h()).then(()=>{t?m(v):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():h().then(g),a)}}var Kc,F5,F6=(F5=class{constructor(){qe(this,Kc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hS(this.gcTime)&&Oe(this,Kc,Lc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(yu?1/0:5*60*1e3))}clearGcTimeout(){G(this,Kc)&&(Lc.clearTimeout(G(this,Kc)),Oe(this,Kc,void 0))}},Kc=new WeakMap,F5),Gc,Vd,ra,Yc,hr,yg,Xc,Ra,Ki,B5,Ute=(B5=class extends F6{constructor(t){super();qe(this,Ra);qe(this,Gc);qe(this,Vd);qe(this,ra);qe(this,Yc);qe(this,hr);qe(this,yg);qe(this,Xc);Oe(this,Xc,!1),Oe(this,yg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,Yc,t.client),Oe(this,ra,G(this,Yc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,Gc,v_(this.options)),this.state=t.state??G(this,Gc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=G(this,hr))==null?void 0:t.promise}setOptions(t){if(this.options={...G(this,yg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=v_(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),Oe(this,Gc,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&G(this,ra).remove(this)}setData(t,n){const r=gS(this.state.data,t,this.options);return dt(this,Ra,Ki).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){dt(this,Ra,Ki).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=G(this,hr))==null?void 0:r.promise;return(a=G(this,hr))==null||a.cancel(t),n?n.then(Zr).catch(Zr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(G(this,Gc))}isActive(){return this.observers.some(t=>sa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_l(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R6(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,hr))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=G(this,hr))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),G(this,ra).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(G(this,hr)&&(G(this,Xc)?G(this,hr).cancel({revert:!0}):G(this,hr).cancelRetry()),this.scheduleGc()),G(this,ra).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,Ra,Ki).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,d,f,m,h,g,p,x,v,b,w;if(this.state.fetchStatus!=="idle"&&((c=G(this,hr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(G(this,hr))return G(this,hr).continueRetry(),G(this,hr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(Oe(this,Xc,!0),r.signal)})},i=()=>{const N=I6(this.options,n),S=(()=>{const C={client:G(this,Yc),queryKey:this.queryKey,meta:this.meta};return a(C),C})();return Oe(this,Xc,!1),this.options.persister?this.options.persister(N,S,this):N(S)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:G(this,Yc),state:this.state,fetchFn:i};return a(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),Oe(this,Vd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&dt(this,Ra,Ki).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Oe(this,hr,L6({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof yS&&N.revert&&this.setState({...G(this,Vd),fetchStatus:"idle"}),r.abort()},onFail:(N,j)=>{dt(this,Ra,Ki).call(this,{type:"failed",failureCount:N,error:j})},onPause:()=>{dt(this,Ra,Ki).call(this,{type:"pause"})},onContinue:()=>{dt(this,Ra,Ki).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await G(this,hr).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(h=(m=G(this,ra).config).onSuccess)==null||h.call(m,N,this),(p=(g=G(this,ra).config).onSettled)==null||p.call(g,N,this.state.error,this),N}catch(N){if(N instanceof yS){if(N.silent)return G(this,hr).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw dt(this,Ra,Ki).call(this,{type:"error",error:N}),(v=(x=G(this,ra).config).onError)==null||v.call(x,N,this),(w=(b=G(this,ra).config).onSettled)==null||w.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},Gc=new WeakMap,Vd=new WeakMap,ra=new WeakMap,Yc=new WeakMap,hr=new WeakMap,yg=new WeakMap,Xc=new WeakMap,Ra=new WeakSet,Ki=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...B6(r.data,this.options),fetchMeta:t.meta??null};case"success":const a={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Oe(this,Vd,t.manual?a:void 0),a;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ir.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),G(this,ra).notify({query:this,type:"updated",action:t})})},B5);function B6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function v_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var fs,Nt,vg,Yr,Qc,Ud,Qi,ul,bg,zd,Wd,Zc,Jc,dl,qd,Lt,dh,vS,bS,wS,jS,NS,SS,CS,V6,V5,zte=(V5=class extends tm{constructor(t,n){super();qe(this,Lt);qe(this,fs);qe(this,Nt);qe(this,vg);qe(this,Yr);qe(this,Qc);qe(this,Ud);qe(this,Qi);qe(this,ul);qe(this,bg);qe(this,zd);qe(this,Wd);qe(this,Zc);qe(this,Jc);qe(this,dl);qe(this,qd,new Set);this.options=n,Oe(this,fs,t),Oe(this,ul,null),Oe(this,Qi,xS()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(G(this,Nt).addObserver(this),b_(G(this,Nt),this.options)?dt(this,Lt,dh).call(this):this.updateResult(),dt(this,Lt,jS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PS(G(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PS(G(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dt(this,Lt,NS).call(this),dt(this,Lt,SS).call(this),G(this,Nt).removeObserver(this)}setOptions(t){const n=this.options,r=G(this,Nt);if(this.options=G(this,fs).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sa(this.options.enabled,G(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dt(this,Lt,CS).call(this),G(this,Nt).setOptions(this.options),n._defaulted&&!uv(this.options,n)&&G(this,fs).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,Nt),observer:this});const a=this.hasListeners();a&&w_(G(this,Nt),r,this.options,n)&&dt(this,Lt,dh).call(this),this.updateResult(),a&&(G(this,Nt)!==r||sa(this.options.enabled,G(this,Nt))!==sa(n.enabled,G(this,Nt))||_l(this.options.staleTime,G(this,Nt))!==_l(n.staleTime,G(this,Nt)))&&dt(this,Lt,vS).call(this);const i=dt(this,Lt,bS).call(this);a&&(G(this,Nt)!==r||sa(this.options.enabled,G(this,Nt))!==sa(n.enabled,G(this,Nt))||i!==G(this,dl))&&dt(this,Lt,wS).call(this,i)}getOptimisticResult(t){const n=G(this,fs).getQueryCache().build(G(this,fs),t),r=this.createResult(n,t);return qte(this,r)&&(Oe(this,Yr,r),Oe(this,Ud,this.options),Oe(this,Qc,G(this,Nt).state)),r}getCurrentResult(){return G(this,Yr)}trackResult(t,n){return new Proxy(t,{get:(r,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&!this.options.experimental_prefetchInRender&&G(this,Qi).status==="pending"&&G(this,Qi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,a))})}trackProp(t){G(this,qd).add(t)}getCurrentQuery(){return G(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=G(this,fs).defaultQueryOptions(t),r=G(this,fs).getQueryCache().build(G(this,fs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return dt(this,Lt,dh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),G(this,Yr)))}createResult(t,n){var A;const r=G(this,Nt),a=this.options,i=G(this,Yr),o=G(this,Qc),l=G(this,Ud),u=t!==r?t.state:G(this,vg),{state:d}=t;let f={...d},m=!1,h;if(n._optimisticResults){const T=this.hasListeners(),E=!T&&b_(t,n),k=T&&w_(t,r,n,a);(E||k)&&(f={...f,...B6(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;h=f.data;let v=!1;if(n.placeholderData!==void 0&&h===void 0&&x==="pending"){let T;i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(T=i.data,v=!0):T=typeof n.placeholderData=="function"?n.placeholderData((A=G(this,Wd))==null?void 0:A.state.data,G(this,Wd)):n.placeholderData,T!==void 0&&(x="success",h=gS(i==null?void 0:i.data,T,n),m=!0)}if(n.select&&h!==void 0&&!v)if(i&&h===(o==null?void 0:o.data)&&n.select===G(this,bg))h=G(this,zd);else try{Oe(this,bg,n.select),h=n.select(h),h=gS(i==null?void 0:i.data,h,n),Oe(this,zd,h),Oe(this,ul,null)}catch(T){Oe(this,ul,T)}G(this,ul)&&(g=G(this,ul),h=G(this,zd),p=Date.now(),x="error");const b=f.fetchStatus==="fetching",w=x==="pending",N=x==="error",j=w&&b,S=h!==void 0,P={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:N,isInitialLoading:j,isLoading:j,data:h,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:N&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&S,isStale:OA(t,n),refetch:this.refetch,promise:G(this,Qi),isEnabled:sa(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const T=R=>{P.status==="error"?R.reject(P.error):P.data!==void 0&&R.resolve(P.data)},E=()=>{const R=Oe(this,Qi,P.promise=xS());T(R)},k=G(this,Qi);switch(k.status){case"pending":t.queryHash===r.queryHash&&T(k);break;case"fulfilled":(P.status==="error"||P.data!==k.value)&&E();break;case"rejected":(P.status!=="error"||P.error!==k.reason)&&E();break}}return P}updateResult(){const t=G(this,Yr),n=this.createResult(G(this,Nt),this.options);if(Oe(this,Qc,G(this,Nt).state),Oe(this,Ud,this.options),G(this,Qc).data!==void 0&&Oe(this,Wd,G(this,Nt)),uv(n,t))return;Oe(this,Yr,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!G(this,qd).size)return!0;const o=new Set(i??G(this,qd));return this.options.throwOnError&&o.add("error"),Object.keys(G(this,Yr)).some(l=>{const c=l;return G(this,Yr)[c]!==t[c]&&o.has(c)})};dt(this,Lt,V6).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dt(this,Lt,jS).call(this)}},fs=new WeakMap,Nt=new WeakMap,vg=new WeakMap,Yr=new WeakMap,Qc=new WeakMap,Ud=new WeakMap,Qi=new WeakMap,ul=new WeakMap,bg=new WeakMap,zd=new WeakMap,Wd=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,dl=new WeakMap,qd=new WeakMap,Lt=new WeakSet,dh=function(t){dt(this,Lt,CS).call(this);let n=G(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Zr)),n},vS=function(){dt(this,Lt,NS).call(this);const t=_l(this.options.staleTime,G(this,Nt));if(yu||G(this,Yr).isStale||!hS(t))return;const r=R6(G(this,Yr).dataUpdatedAt,t)+1;Oe(this,Zc,Lc.setTimeout(()=>{G(this,Yr).isStale||this.updateResult()},r))},bS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(G(this,Nt)):this.options.refetchInterval)??!1},wS=function(t){dt(this,Lt,SS).call(this),Oe(this,dl,t),!(yu||sa(this.options.enabled,G(this,Nt))===!1||!hS(G(this,dl))||G(this,dl)===0)&&Oe(this,Jc,Lc.setInterval(()=>{(this.options.refetchIntervalInBackground||TA.isFocused())&&dt(this,Lt,dh).call(this)},G(this,dl)))},jS=function(){dt(this,Lt,vS).call(this),dt(this,Lt,wS).call(this,dt(this,Lt,bS).call(this))},NS=function(){G(this,Zc)&&(Lc.clearTimeout(G(this,Zc)),Oe(this,Zc,void 0))},SS=function(){G(this,Jc)&&(Lc.clearInterval(G(this,Jc)),Oe(this,Jc,void 0))},CS=function(){const t=G(this,fs).getQueryCache().build(G(this,fs),this.options);if(t===G(this,Nt))return;const n=G(this,Nt);Oe(this,Nt,t),Oe(this,vg,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},V6=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(G(this,Yr))}),G(this,fs).getQueryCache().notify({query:G(this,Nt),type:"observerResultsUpdated"})})},V5);function Wte(e,t){return sa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function b_(e,t){return Wte(e,t)||e.state.data!==void 0&&PS(e,t,t.refetchOnMount)}function PS(e,t,n){if(sa(t.enabled,e)!==!1&&_l(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&OA(e,t)}return!1}function w_(e,t,n,r){return(e!==t||sa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&OA(e,n)}function OA(e,t){return sa(t.enabled,e)!==!1&&e.isStaleByTime(_l(t.staleTime,e))}function qte(e,t){return!uv(e.getCurrentResult(),t)}function j_(e){return{onFetch:(t,n)=>{var d,f,m,h,g;const r=t.options,a=(m=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=I6(t.options,t.fetchOptions),b=async(w,N,j)=>{if(p)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};return x(E),E})(),P=await v(C),{maxPages:A}=t.options,T=j?Dte:Ite;return{pages:T(w.pages,P,A),pageParams:T(w.pageParams,N,A)}};if(a&&i.length){const w=a==="backward",N=w?Hte:N_,j={pages:i,pageParams:o},S=N(r,j);l=await b(j,S,w)}else{const w=e??i.length;do{const N=c===0?o[0]??r.initialPageParam:N_(r,l);if(c>0&&N==null)break;l=await b(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function N_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Hte(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var hi,Xr,eu,pi,Go,U5,Kte=(U5=class extends F6{constructor(t){super();qe(this,pi);qe(this,hi);qe(this,Xr);qe(this,eu);this.mutationId=t.mutationId,Oe(this,Xr,t.mutationCache),Oe(this,hi,[]),this.state=t.state||U6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){G(this,hi).includes(t)||(G(this,hi).push(t),this.clearGcTimeout(),G(this,Xr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,hi,G(this,hi).filter(n=>n!==t)),this.scheduleGc(),G(this,Xr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){G(this,hi).length||(this.state.status==="pending"?this.scheduleGc():G(this,Xr).remove(this))}continue(){var t;return((t=G(this,eu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,m,h,g,p,x,v,b,w,N,j,S,C,P;const n=()=>{dt(this,pi,Go).call(this,{type:"continue"})};Oe(this,eu,L6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,T)=>{dt(this,pi,Go).call(this,{type:"failed",failureCount:A,error:T})},onPause:()=>{dt(this,pi,Go).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>G(this,Xr).canRun(this)}));const r=this.state.status==="pending",a=!G(this,eu).canStart();try{if(r)n();else{dt(this,pi,Go).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=G(this,Xr).config).onMutate)==null?void 0:o.call(i,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&dt(this,pi,Go).call(this,{type:"pending",context:T,variables:t,isPaused:a})}const A=await G(this,eu).start();return await((d=(u=G(this,Xr).config).onSuccess)==null?void 0:d.call(u,A,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,A,t,this.state.context)),await((g=(h=G(this,Xr).config).onSettled)==null?void 0:g.call(h,A,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,A,null,t,this.state.context)),dt(this,pi,Go).call(this,{type:"success",data:A}),A}catch(A){try{throw await((b=(v=G(this,Xr).config).onError)==null?void 0:b.call(v,A,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,A,t,this.state.context)),await((S=(j=G(this,Xr).config).onSettled)==null?void 0:S.call(j,void 0,A,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,A,t,this.state.context)),A}finally{dt(this,pi,Go).call(this,{type:"error",error:A})}}finally{G(this,Xr).runNext(this)}}},hi=new WeakMap,Xr=new WeakMap,eu=new WeakMap,pi=new WeakSet,Go=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ir.batch(()=>{G(this,hi).forEach(r=>{r.onMutationUpdate(t)}),G(this,Xr).notify({mutation:this,type:"updated",action:t})})},U5);function U6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zi,Ma,wg,z5,Gte=(z5=class extends tm{constructor(t={}){super();qe(this,Zi);qe(this,Ma);qe(this,wg);this.config=t,Oe(this,Zi,new Set),Oe(this,Ma,new Map),Oe(this,wg,0)}build(t,n,r){const a=new Kte({mutationCache:this,mutationId:++ix(this,wg)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){G(this,Zi).add(t);const n=kx(t);if(typeof n=="string"){const r=G(this,Ma).get(n);r?r.push(t):G(this,Ma).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(G(this,Zi).delete(t)){const n=kx(t);if(typeof n=="string"){const r=G(this,Ma).get(n);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&G(this,Ma).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=kx(t);if(typeof n=="string"){const r=G(this,Ma).get(n),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const n=kx(t);if(typeof n=="string"){const a=(r=G(this,Ma).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ir.batch(()=>{G(this,Zi).forEach(t=>{this.notify({type:"removed",mutation:t})}),G(this,Zi).clear(),G(this,Ma).clear()})}getAll(){return Array.from(G(this,Zi))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>g_(n,r))}findAll(t={}){return this.getAll().filter(n=>g_(t,n))}notify(t){ir.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ir.batch(()=>Promise.all(t.map(n=>n.continue().catch(Zr))))}},Zi=new WeakMap,Ma=new WeakMap,wg=new WeakMap,z5);function kx(e){var t;return(t=e.options.scope)==null?void 0:t.id}var fl,ml,ms,Ji,go,vy,AS,W5,Yte=(W5=class extends tm{constructor(n,r){super();qe(this,go);qe(this,fl);qe(this,ml);qe(this,ms);qe(this,Ji);Oe(this,fl,n),this.setOptions(r),this.bindMethods(),dt(this,go,vy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=G(this,fl).defaultMutationOptions(n),uv(this.options,r)||G(this,fl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:G(this,ms),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&vu(r.mutationKey)!==vu(this.options.mutationKey)?this.reset():((a=G(this,ms))==null?void 0:a.state.status)==="pending"&&G(this,ms).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=G(this,ms))==null||n.removeObserver(this)}onMutationUpdate(n){dt(this,go,vy).call(this),dt(this,go,AS).call(this,n)}getCurrentResult(){return G(this,ml)}reset(){var n;(n=G(this,ms))==null||n.removeObserver(this),Oe(this,ms,void 0),dt(this,go,vy).call(this),dt(this,go,AS).call(this)}mutate(n,r){var a;return Oe(this,Ji,r),(a=G(this,ms))==null||a.removeObserver(this),Oe(this,ms,G(this,fl).getMutationCache().build(G(this,fl),this.options)),G(this,ms).addObserver(this),G(this,ms).execute(n)}},fl=new WeakMap,ml=new WeakMap,ms=new WeakMap,Ji=new WeakMap,go=new WeakSet,vy=function(){var r;const n=((r=G(this,ms))==null?void 0:r.state)??U6();Oe(this,ml,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},AS=function(n){ir.batch(()=>{var r,a,i,o,l,c,u,d;if(G(this,Ji)&&this.hasListeners()){const f=G(this,ml).variables,m=G(this,ml).context;(n==null?void 0:n.type)==="success"?((a=(r=G(this,Ji)).onSuccess)==null||a.call(r,n.data,f,m),(o=(i=G(this,Ji)).onSettled)==null||o.call(i,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=G(this,Ji)).onError)==null||c.call(l,n.error,f,m),(d=(u=G(this,Ji)).onSettled)==null||d.call(u,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(G(this,ml))})})},W5),gi,q5,Xte=(q5=class extends tm{constructor(t={}){super();qe(this,gi);this.config=t,Oe(this,gi,new Map)}build(t,n,r){const a=n.queryKey,i=n.queryHash??EA(a,n);let o=this.get(i);return o||(o=new Ute({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){G(this,gi).has(t.queryHash)||(G(this,gi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=G(this,gi).get(t.queryHash);n&&(t.destroy(),n===t&&G(this,gi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return G(this,gi).get(t)}getAll(){return[...G(this,gi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>p_(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>p_(t,r)):n}notify(t){ir.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gi=new WeakMap,q5),_n,hl,pl,Hd,Kd,gl,Gd,Yd,H5,Qte=(H5=class{constructor(e={}){qe(this,_n);qe(this,hl);qe(this,pl);qe(this,Hd);qe(this,Kd);qe(this,gl);qe(this,Gd);qe(this,Yd);Oe(this,_n,e.queryCache||new Xte),Oe(this,hl,e.mutationCache||new Gte),Oe(this,pl,e.defaultOptions||{}),Oe(this,Hd,new Map),Oe(this,Kd,new Map),Oe(this,gl,0)}mount(){ix(this,gl)._++,G(this,gl)===1&&(Oe(this,Gd,TA.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,_n).onFocus())})),Oe(this,Yd,dv.subscribe(async e=>{e&&(await this.resumePausedMutations(),G(this,_n).onOnline())})))}unmount(){var e,t;ix(this,gl)._--,G(this,gl)===0&&((e=G(this,Gd))==null||e.call(this),Oe(this,Gd,void 0),(t=G(this,Yd))==null||t.call(this),Oe(this,Yd,void 0))}isFetching(e){return G(this,_n).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return G(this,hl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,_n).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=G(this,_n).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_l(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return G(this,_n).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=G(this,_n).get(r.queryHash),i=a==null?void 0:a.state.data,o=_te(t,i);if(o!==void 0)return G(this,_n).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ir.batch(()=>G(this,_n).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=G(this,_n).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=G(this,_n);ir.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=G(this,_n);return ir.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=ir.batch(()=>G(this,_n).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Zr).catch(Zr)}invalidateQueries(e,t={}){return ir.batch(()=>(G(this,_n).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ir.batch(()=>G(this,_n).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zr)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=G(this,_n).build(this,t);return n.isStaleByTime(_l(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zr).catch(Zr)}fetchInfiniteQuery(e){return e.behavior=j_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zr).catch(Zr)}ensureInfiniteQueryData(e){return e.behavior=j_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dv.isOnline()?G(this,hl).resumePausedMutations():Promise.resolve()}getQueryCache(){return G(this,_n)}getMutationCache(){return G(this,hl)}getDefaultOptions(){return G(this,pl)}setDefaultOptions(e){Oe(this,pl,e)}setQueryDefaults(e,t){G(this,Hd).set(vu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...G(this,Hd).values()],n={};return t.forEach(r=>{hp(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){G(this,Kd).set(vu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...G(this,Kd).values()],n={};return t.forEach(r=>{hp(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...G(this,pl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=EA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kA&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...G(this,pl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){G(this,_n).clear(),G(this,hl).clear()}},_n=new WeakMap,hl=new WeakMap,pl=new WeakMap,Hd=new WeakMap,Kd=new WeakMap,gl=new WeakMap,Gd=new WeakMap,Yd=new WeakMap,H5),z6=y.createContext(void 0),wt=e=>{const t=y.useContext(z6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Zte=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(z6.Provider,{value:e,children:t})),W6=y.createContext(!1),Jte=()=>y.useContext(W6);W6.Provider;function ene(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var tne=y.createContext(ene()),nne=()=>y.useContext(tne),rne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},sne=e=>{y.useEffect(()=>{e.clearReset()},[e])},ane=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||D6(n,[e.error,r])),ine=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},one=(e,t)=>e.isLoading&&e.isFetching&&!t,lne=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,S_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function cne(e,t,n){var f,m,h,g,p;const r=Jte(),a=nne(),i=wt(),o=i.defaultQueryOptions(e);(m=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,o),o._optimisticResults=r?"isRestoring":"optimistic",ine(o),rne(o,a),sne(a);const l=!i.getQueryCache().get(o.queryHash),[c]=y.useState(()=>new t(i,o)),u=c.getOptimisticResult(o),d=!r&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const v=d?c.subscribe(ir.batchCalls(x)):Zr;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),y.useEffect(()=>{c.setOptions(o)},[o,c]),lne(o,u))throw S_(o,c,a);if(ane({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,u),o.experimental_prefetchInRender&&!yu&&one(u,r)){const x=l?S_(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;x==null||x.catch(Zr).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function $e(e,t){return cne(e,zte)}function it(e,t){const n=wt(),[r]=y.useState(()=>new Yte(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const a=y.useSyncExternalStore(y.useCallback(o=>r.subscribe(ir.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=y.useCallback((o,l)=>{r.mutate(o,l).catch(Zr)},[r]);if(a.error&&D6(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pp.apply(this,arguments)}var vl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vl||(vl={}));const C_="popstate";function une(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:o,hash:l}=r.location;return ES("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:fv(a)}return fne(t,n,null,e)}function zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function q6(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function dne(){return Math.random().toString(36).substr(2,8)}function P_(e,t){return{usr:e.state,key:e.key,idx:t}}function ES(e,t,n,r){return n===void 0&&(n=null),pp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nm(t):t,{state:n,key:t&&t.key||r||dne()})}function fv(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function fne(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,l=vl.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(pp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=vl.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function m(x,v){l=vl.Push;let b=ES(p.location,x,v);u=d()+1;let w=P_(b,u),N=p.createHref(b);try{o.pushState(w,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(N)}i&&c&&c({action:l,location:p.location,delta:1})}function h(x,v){l=vl.Replace;let b=ES(p.location,x,v);u=d();let w=P_(b,u),N=p.createHref(b);o.replaceState(w,"",N),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let v=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof x=="string"?x:fv(x);return b=b.replace(/ $/,"%20"),zn(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let p={get action(){return l},get location(){return e(a,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(C_,f),c=x,()=>{a.removeEventListener(C_,f),c=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let v=g(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:h,go(x){return o.go(x)}};return p}var A_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(A_||(A_={}));function mne(e,t,n){return n===void 0&&(n="/"),hne(e,t,n)}function hne(e,t,n,r){let a=typeof t=="string"?nm(t):t,i=_A(a.pathname||"/",n);if(i==null)return null;let o=H6(e);pne(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Ane(i);l=Sne(o[c],u)}return l}function H6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(zn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Rl([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H6(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:jne(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of K6(i.path))a(i,o,c)}),t}function K6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=K6(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function pne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Nne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gne=/^:[\w-]+$/,xne=3,yne=2,vne=1,bne=10,wne=-2,E_=e=>e==="*";function jne(e,t){let n=e.split("/"),r=n.length;return n.some(E_)&&(r+=wne),t&&(r+=yne),n.filter(a=>!E_(a)).reduce((a,i)=>a+(gne.test(i)?xne:i===""?vne:bne),r)}function Nne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function Sne(e,t,n){let{routesMeta:r}=e,a={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Cne({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Rl([i,f.pathname]),pathnameBase:One(Rl([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Rl([i,f.pathnameBase]))}return o}function Cne(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Pne(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return h&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Pne(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),q6(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function Ane(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return q6(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function _A(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Ene(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?nm(e):e;return{pathname:n?n.startsWith("/")?n:kne(n,t):t,search:_ne(r),hash:Rne(a)}}function kne(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Zj(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tne(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function RA(e,t){let n=Tne(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MA(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=nm(e):(a=pp({},e),zn(!a.pathname||!a.pathname.includes("?"),Zj("?","pathname","search",a)),zn(!a.pathname||!a.pathname.includes("#"),Zj("#","pathname","hash",a)),zn(!a.search||!a.search.includes("#"),Zj("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;a.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Ene(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Rl=e=>e.join("/").replace(/\/\/+/g,"/"),One=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_ne=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rne=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Mne(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const G6=["post","put","patch","delete"];new Set(G6);const Ine=["get",...G6];new Set(Ine);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(this,arguments)}const IA=y.createContext(null),Dne=y.createContext(null),ac=y.createContext(null),Cb=y.createContext(null),Do=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Y6=y.createContext(null);function $ne(e,t){let{relative:n}=t===void 0?{}:t;rm()||zn(!1);let{basename:r,navigator:a}=y.useContext(ac),{hash:i,pathname:o,search:l}=Q6(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Rl([r,o])),a.createHref({pathname:c,search:l,hash:i})}function rm(){return y.useContext(Cb)!=null}function Xs(){return rm()||zn(!1),y.useContext(Cb).location}function X6(e){y.useContext(ac).static||y.useLayoutEffect(e)}function Rt(){let{isDataRoute:e}=y.useContext(Do);return e?Xne():Lne()}function Lne(){rm()||zn(!1);let e=y.useContext(IA),{basename:t,future:n,navigator:r}=y.useContext(ac),{matches:a}=y.useContext(Do),{pathname:i}=Xs(),o=JSON.stringify(RA(a,n.v7_relativeSplatPath)),l=y.useRef(!1);return X6(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=MA(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Rl([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function Pb(){let{matches:e}=y.useContext(Do),t=e[e.length-1];return t?t.params:{}}function Q6(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(ac),{matches:a}=y.useContext(Do),{pathname:i}=Xs(),o=JSON.stringify(RA(a,r.v7_relativeSplatPath));return y.useMemo(()=>MA(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Fne(e,t){return Bne(e,t)}function Bne(e,t,n,r){rm()||zn(!1);let{navigator:a}=y.useContext(ac),{matches:i}=y.useContext(Do),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Xs(),d;if(t){var f;let x=typeof t=="string"?nm(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||zn(!1),d=x}else d=u;let m=d.pathname||"/",h=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=mne(e,{pathname:h}),p=qne(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Rl([c,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Rl([c,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return t&&p?y.createElement(Cb.Provider,{value:{location:gp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:vl.Pop}},p):p}function Vne(){let e=Yne(),t=Mne(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const Une=y.createElement(Vne,null);class zne extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Do.Provider,{value:this.props.routeContext},y.createElement(Y6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wne(e){let{routeContext:t,match:n,children:r}=e,a=y.useContext(IA);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Do.Provider,{value:t},r)}function qne(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(a=n)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||zn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=n,g=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let h,g=!1,p=null,x=null;n&&(h=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||Une,c&&(u<0&&m===0?(Qne("route-fallback"),g=!0,x=null):u===m&&(g=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,m+1)),b=()=>{let w;return h?w=p:g?w=x:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(Wne,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(zne,{location:n.location,revalidation:n.revalidation,component:p,error:h,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var Z6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Z6||{}),J6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(J6||{});function Hne(e){let t=y.useContext(IA);return t||zn(!1),t}function Kne(e){let t=y.useContext(Dne);return t||zn(!1),t}function Gne(e){let t=y.useContext(Do);return t||zn(!1),t}function eB(e){let t=Gne(),n=t.matches[t.matches.length-1];return n.route.id||zn(!1),n.route.id}function Yne(){var e;let t=y.useContext(Y6),n=Kne(),r=eB();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Xne(){let{router:e}=Hne(Z6.UseNavigateStable),t=eB(J6.UseNavigateStable),n=y.useRef(!1);return X6(()=>{n.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gp({fromRouteId:t},i)))},[e,t])}const k_={};function Qne(e,t,n){k_[e]||(k_[e]=!0)}function Zne(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kS(e){let{to:t,replace:n,state:r,relative:a}=e;rm()||zn(!1);let{future:i,static:o}=y.useContext(ac),{matches:l}=y.useContext(Do),{pathname:c}=Xs(),u=Rt(),d=MA(t,RA(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:a}),[u,f,a,n,r]),null}function jt(e){zn(!1)}function Jne(e){let{basename:t="/",children:n=null,location:r,navigationType:a=vl.Pop,navigator:i,static:o=!1,future:l}=e;rm()&&zn(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:gp({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=nm(r));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:g="default"}=r,p=y.useMemo(()=>{let x=_A(d,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:h,key:g},navigationType:a}},[c,d,f,m,h,g,a]);return p==null?null:y.createElement(ac.Provider,{value:u},y.createElement(Cb.Provider,{children:n,value:p}))}function ere(e){let{children:t,location:n}=e;return Fne(TS(t),n)}new Promise(()=>{});function TS(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,a)=>{if(!y.isValidElement(r))return;let i=[...t,a];if(r.type===y.Fragment){n.push.apply(n,TS(r.props.children,i));return}r.type!==jt&&zn(!1),!r.props.index||!r.props.children||zn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=TS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OS(){return OS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OS.apply(this,arguments)}function tre(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function nre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rre(e,t){return e.button===0&&(!t||t==="_self")&&!nre(e)}function _S(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function sre(e,t){let n=_S(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(i=>{n.append(a,i)})}),n}const are=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ire="6";try{window.__reactRouterVersion=ire}catch{}const ore="startTransition",T_=mP[ore];function lre(e){let{basename:t,children:n,future:r,window:a}=e,i=y.useRef();i.current==null&&(i.current=une({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=y.useCallback(f=>{u&&T_?T_(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>Zne(r),[r]),y.createElement(Jne,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const cre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ure=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xp=y.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=tre(t,are),{basename:h}=y.useContext(ac),g,p=!1;if(typeof u=="string"&&ure.test(u)&&(g=u,cre))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=_A(N.pathname,h);N.origin===w.origin&&j!=null?u=j+N.search+N.hash:p=!0}catch{}let x=$ne(u,{relative:a}),v=dre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function b(w){r&&r(w),w.defaultPrevented||v(w)}return y.createElement("a",OS({},m,{href:g||x,onClick:p||i?r:b,ref:n,target:c}))});var O_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O_||(O_={}));var __;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(__||(__={}));function dre(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Rt(),u=Xs(),d=Q6(e,{relative:o});return y.useCallback(f=>{if(rre(f,n)){f.preventDefault();let m=r!==void 0?r:fv(u)===fv(d);c(e,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,a,n,e,i,o,l])}function ic(e){let t=y.useRef(_S(e)),n=y.useRef(!1),r=Xs(),a=y.useMemo(()=>sre(r.search,n.current?null:t.current),[r.search]),i=Rt(),o=y.useCallback((l,c)=>{const u=_S(typeof l=="function"?l(a):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const tB=y.createContext(void 0);function fre({children:e}){const[t,n]=y.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0});y.useEffect(()=>{const h=async x=>{try{const v=await fetch("/v1/auth/me",{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});return v.ok?await v.json():null}catch(v){return console.error("Token validation failed:",v),null}},g=async()=>{try{const x=localStorage.getItem("token"),v=localStorage.getItem("user");if(x&&v){const b=await h(x);b?(n({user:b,token:x,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("user",JSON.stringify(b))):(localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,token:null,isAuthenticated:!1,isLoading:!1}))}else n({user:null,token:null,isAuthenticated:!1,isLoading:!1})}catch(x){console.error("Error initializing auth:",x),localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,token:null,isAuthenticated:!1,isLoading:!1})}};g();const p=x=>{(x.key==="token"||x.key==="user")&&g()};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)},[]);const r=(h,g)=>{localStorage.setItem("token",h),localStorage.setItem("user",JSON.stringify(g)),n({user:g,token:h,isAuthenticated:!0,isLoading:!1})},a=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),n({user:null,token:null,isAuthenticated:!1,isLoading:!1})},i=async()=>{const h=localStorage.getItem("token");if(h)try{const g=await fetch("/v1/auth/me",{method:"GET",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"}});if(g.ok){const p=await g.json();n(x=>({...x,user:p})),localStorage.setItem("user",JSON.stringify(p))}}catch(g){console.error("Failed to refetch user:",g)}},o=h=>{var g;return((g=t.user)==null?void 0:g.role)===h},m={...t,login:r,logout:a,refetchUser:i,hasRole:o,isAdmin:()=>o("ADMIN"),isUser:()=>o("USER"),isVendor:()=>o("VENDOR"),getUserInitials:()=>{var p,x;if(!t.user)return"U";const h=((p=t.user.firstName)==null?void 0:p[0])||"",g=((x=t.user.lastName)==null?void 0:x[0])||"";return(h+g).toUpperCase()||"U"},getUserFullName:()=>t.user?`${t.user.firstName} ${t.user.lastName}`.trim():""};return s.jsx(tB.Provider,{value:m,children:e})}function Cs(){const e=y.useContext(tB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const nB=()=>"",Ab=nB(),mre=()=>!!localStorage.getItem("token"),mv=()=>{const e=localStorage.getItem("token");if(!e)return null;try{const t=JSON.parse(atob(e.split(".")[1]));return t.id||t.sub||null}catch(t){return console.error("[API] Failed to decode token:",t),null}},Eb=(e=!1)=>e||!mre()?"/anon":"/v1";async function je(e,t={},n=!1){const r=localStorage.getItem("token"),a={};r&&!n&&(a.Authorization=`Bearer ${r}`),t.headers&&Object.assign(a,t.headers),t.body&&!a["Content-Type"]&&!a["content-type"]&&(t.body instanceof FormData||(a["Content-Type"]="application/json"));const i={...t,headers:a,credentials:"include"},o=Eb(n),l=`${Ab}${o}${e}`;console.log("[API] Request to:",l),console.log("[API] Auth:",r?"Authenticated":"Anonymous"),console.log("[API] Method:",t.method||"GET");try{const c=await fetch(l,i);if(console.log("[API] Response status:",c.status),!c.ok){if(c.status===401){console.warn("[API] Authentication failed - clearing stale token"),localStorage.removeItem("token"),window.location.reload();return}const d=await c.json().catch(()=>({message:"Request failed"}));c.status===404?console.log("[API] Resource not found (404):",l):console.error("[API] Error response:",d);const f=new Error(d.message||`HTTP ${c.status}: ${c.statusText}`);throw f.statusCode=c.status,f.code=d.code,f}if(c.status===204||c.headers.get("content-length")==="0")return console.log("[API] Success response: 204 No Content"),null;const u=c.headers.get("content-type");if(u&&u.includes("application/json")){const d=await c.json();return console.log("[API] Success response:",d),d}else{const d=await c.text();return console.log("[API] Success response (non-JSON):",d),d||null}}catch(c){throw c.statusCode||console.error("[API] Network error:",c),c}}const kb={getTemplates:async e=>{const t=new URLSearchParams;e!=null&&e.category&&t.append("category",e.category),(e==null?void 0:e.active)!==void 0&&t.append("active",e.active.toString()),e!=null&&e.search&&t.append("search",e.search);const n=t.toString(),r=n?`/templates?${n}`:"/templates";return(await je(r)).data},getTemplate:async e=>(await je(`/templates/${e}`)).data},rB={forgotPassword:async e=>await je("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:e})}),resetPassword:async(e,t)=>await je("/auth/reset-password",{method:"POST",body:JSON.stringify({token:e,password:t})})},Wt={createAssessment:async e=>await je("/assessments",{method:"POST",body:JSON.stringify(e)}),getAssessments:async()=>{const e=Date.now();return(await je(`/assessments?limit=100&_t=${e}`)).data||[]},getAssessment:async e=>await je(`/assessments/${e}`),updateAssessment:async(e,t)=>(await je(`/assessments/${e}`,{method:"PATCH",body:JSON.stringify(t)})).data,completeAssessment:async e=>(await je(`/assessments/${e}/complete`,{method:"POST"})).data,getAssessmentResults:async e=>await je(`/assessments/${e}/results`),deleteAssessment:async e=>{await je(`/assessments/${e}`,{method:"DELETE"})},generatePDFReport:async e=>(await je(`/assessments/${e}/report`)).data,downloadPDFReport:async e=>{const t=localStorage.getItem("token"),n=Eb(),r=`${Ab}${n}/assessments/${e}/report/download`,a={};t&&(a.Authorization=`Bearer ${t}`);try{const i=await fetch(r,{method:"GET",headers:a,credentials:"include"});if(!i.ok)throw new Error(`Failed to download PDF: ${i.statusText}`);const o=await i.blob(),l=i.headers.get("Content-Disposition");let c=`assessment-report-${e}.pdf`;if(l){const f=l.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);f&&f[1]&&(c=f[1].replace(/['"]/g,""))}const u=window.URL.createObjectURL(o),d=document.createElement("a");d.href=u,d.download=c,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(u)}catch(i){throw console.error("[API] Error downloading PDF report:",i),i}},getEnhancedResults:async e=>await je(`/assessments/${e}/enhanced-results`),getAssessmentAnswers:async e=>(await je(`/assessments/${e}/answers`)).data,saveAnswer:async(e,t)=>(await je(`/assessments/${e}/answers`,{method:"POST",body:JSON.stringify(t)})).data,updateAnswer:async(e,t)=>(await je(`/answers/${e}`,{method:"PATCH",body:JSON.stringify(t)})).data,updateAssessmentAnswers:async(e,t)=>{await je(`/assessments/${e}/update-answers`,{method:"POST",body:JSON.stringify({answers:t})})},executeAssessment:async(e,t)=>await je(`/assessments/${e}/execute`,{method:"POST",body:t?JSON.stringify(t):void 0}),getAssessmentProgress:async e=>await je(`/assessments/${e}/progress`),getStrategyMatrix:async e=>(await je(`/assessments/${e}/strategy-matrix`)).data,getVendorMatches:async(e,t=0,n=50)=>{const r=new URLSearchParams;return r.append("threshold",t.toString()),r.append("limit",n.toString()),await je(`/assessments/${e}/vendor-matches-v2?${r.toString()}`)},submitPriorities:async(e,t)=>(await je(`/assessments/${e}/priorities`,{method:"POST",body:JSON.stringify(t)})).data,getPriorities:async e=>{try{const t=Date.now(),n=await je(`/assessments/${e}/priorities?_t=${t}`);return e==="cmh3fju610001phrlckdz3aa2"&&console.log("[API] getPriorities SUCCESS for cmh3fju610001phrlckdz3aa2:",{response:n,data:n.data,hasData:!!n.data}),n.data}catch(t){if(e==="cmh3fju610001phrlckdz3aa2"&&console.error("[API] getPriorities ERROR for cmh3fju610001phrlckdz3aa2:",{error:t,statusCode:t==null?void 0:t.statusCode,message:t==null?void 0:t.message,response:t==null?void 0:t.response}),(t==null?void 0:t.statusCode)===404)return null;throw t}},updatePriorities:async(e,t)=>(await je(`/assessments/${e}/priorities`,{method:"PUT",body:JSON.stringify(t)})).data,generateAIAnalysis:async e=>(await je(`/assessments/${e}/generate-ai-analysis`,{method:"POST"})).data,getGaps:async(e,t)=>{const n=new URLSearchParams;t!=null&&t.severity&&n.append("severity",t.severity),t!=null&&t.category&&n.append("category",t.category),t!=null&&t.priority&&n.append("priority",t.priority);const r=n.toString(),a=`/assessments/${e}/gaps${r?"?"+r:""}`;return(await je(a)).data}},Je={templates:["templates"],templatesFiltered:e=>["templates",e],template:e=>["templates",e],assessments:["assessments"],assessment:e=>["assessments",e],assessmentResults:e=>["assessments",e,"results"],strategyMatrix:e=>["assessments",e,"strategy-matrix"],vendorMatches:(e,t)=>["assessments",e,"vendor-matches",t],priorities:e=>["assessments",e,"priorities"],myOrganization:["organizations","my"],organization:e=>["organizations",e],organizationDocuments:e=>["documents","organizations",e],document:e=>["documents",e],freemiumStatus:["freemium-status"]},Co={getMyOrganization:async()=>{try{return await je("/organizations/my-organization")}catch(e){if((e==null?void 0:e.statusCode)===404||(e==null?void 0:e.code)==="ORGANIZATION_NOT_FOUND")return null;throw e}},getOrganization:async e=>(await je(`/organizations/${e}`)).data,createOrganization:async e=>(await je("/organizations",{method:"POST",body:JSON.stringify(e)})).data,updateOrganization:async(e,t)=>await je(`/organizations/${e}`,{method:"PATCH",body:JSON.stringify(t)}),parseWebsite:async(e,t)=>await je(`/organizations/${e}/parse-website`,{method:"POST",body:JSON.stringify({url:t})})},es={getUploadUrl:async e=>await je("/documents/upload-url",{method:"POST",body:JSON.stringify(e)}),confirmUpload:async e=>(await je(`/documents/${e}/confirm-upload`,{method:"POST"})).data,analyzeDocument:async(e,t)=>(await je(`/documents/${e}/analyze`,{method:"POST",body:JSON.stringify(t)})).data,getOrganizationDocuments:async e=>{try{return await je(`/documents/organizations/${e}/documents`)}catch(t){if((t==null?void 0:t.statusCode)===404)return{data:[],pagination:{total:0,page:1,limit:20,totalPages:0}};throw t}},deleteDocument:async e=>{await je(`/documents/${e}`,{method:"DELETE"})}},RS=e=>({updateOrganization:t=>({mutationFn:n=>Co.updateOrganization(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:Je.myOrganization}),e.invalidateQueries({queryKey:Je.organization(t)})}}),createOrganization:{mutationFn:Co.createOrganization,onSuccess:()=>{e.invalidateQueries({queryKey:Je.myOrganization})}},deleteDocument:t=>({mutationFn:es.deleteDocument,onSuccess:()=>{e.invalidateQueries({queryKey:Je.organizationDocuments(t)})}}),createAssessment:{mutationFn:Wt.createAssessment,onSuccess:()=>{e.invalidateQueries({queryKey:Je.assessments})}},updateAssessment:t=>({mutationFn:n=>Wt.updateAssessment(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:Je.assessment(t)}),e.invalidateQueries({queryKey:Je.assessments})}}),completeAssessment:t=>({mutationFn:()=>Wt.completeAssessment(t),onSuccess:()=>{e.invalidateQueries({queryKey:Je.assessment(t)}),e.invalidateQueries({queryKey:Je.assessments}),e.invalidateQueries({queryKey:Je.assessmentResults(t)}),e.invalidateQueries({queryKey:Je.freemiumStatus})}}),deleteAssessment:t=>({mutationFn:()=>Wt.deleteAssessment(t),onSuccess:()=>{e.removeQueries({queryKey:Je.assessment(t)}),e.removeQueries({queryKey:Je.assessmentResults(t)}),e.invalidateQueries({queryKey:Je.assessments})}})}),DA={createRFP:async e=>(await je("/rfps",{method:"POST",body:JSON.stringify(e)})).data,getRFPs:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.leadStatus&&t.set("leadStatus",e.leadStatus),e!=null&&e.dateFrom&&t.set("dateFrom",e.dateFrom),e!=null&&e.dateTo&&t.set("dateTo",e.dateTo);const n=t.toString(),r=n?`/rfps?${n}`:"/rfps";return(await je(r)).data},getRFP:async e=>(await je(`/rfps/${e}`)).data,updateRFP:async(e,t)=>(await je(`/rfps/${e}`,{method:"PATCH",body:JSON.stringify(t)})).data,deleteRFP:async e=>(await je(`/rfps/${e}`,{method:"DELETE"})).data,getStrategicRoadmap:async e=>(await je(`/organizations/${e}/strategic-roadmap`)).data,sendRFP:async e=>(await je(`/rfps/${e}/send`,{method:"POST"})).data},Tb={getCurrentSubscription:async()=>await je("/subscriptions/current")},hv={contactVendor:async(e,t)=>await je(`/vendors/${e}/contact`,{method:"POST",body:JSON.stringify(t)}),getVendors:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.category&&t.set("category",e.category),e!=null&&e.search&&t.set("search",e.search);const n=t.toString(),r=n?`/vendors?${n}`:"/vendors";return(await je(r)).data},getVendor:async e=>(await je(`/vendors/${e}`)).data,trackVendorClick:async e=>{try{await je(`/vendors/${e}/click`,{method:"POST"})}catch(t){console.warn("Failed to track vendor click:",t)}}},al={getAssessmentAnalytics:async e=>{const t=new URLSearchParams;e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate),e!=null&&e.groupBy&&t.set("groupBy",e.groupBy);const n=t.toString(),r=n?`/admin/analytics/assessments?${n}`:"/admin/analytics/assessments";return(await je(r)).data},getVendorAnalytics:async e=>{const t=new URLSearchParams;e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate);const n=t.toString(),r=n?`/admin/analytics/vendors?${n}`:"/admin/analytics/vendors";return(await je(r)).data},getUserAnalytics:async e=>{const t=new URLSearchParams;e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate);const n=t.toString(),r=n?`/admin/analytics/users?${n}`:"/admin/analytics/users";return(await je(r)).data},getActivityFeed:async e=>{const t=new URLSearchParams;e!=null&&e.limit&&t.set("limit",e.limit.toString()),e!=null&&e.offset&&t.set("offset",e.offset.toString());const n=t.toString(),r=n?`/admin/analytics/activity-feed?${n}`:"/admin/analytics/activity-feed";return(await je(r)).data},exportAnalytics:async e=>{const t=new URLSearchParams;e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate);const n=t.toString(),r=n?`/admin/analytics/export?${n}`:"/admin/analytics/export",a=localStorage.getItem("token"),i=Eb(),o=`${Ab}${i}${r}`,l={};a&&(l.Authorization=`Bearer ${a}`);try{const c=await fetch(o,{method:"GET",headers:l,credentials:"include"});if(!c.ok)throw new Error(`Failed to export analytics: ${c.statusText}`);const u=await c.blob(),d=c.headers.get("Content-Disposition");let f=`heliolus-analytics-export-${new Date().toISOString().split("T")[0]}.csv`;if(d){const g=d.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);g&&g[1]&&(f=g[1].replace(/['"]/g,""))}const m=window.URL.createObjectURL(u),h=document.createElement("a");h.href=m,h.download=f,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(m)}catch(c){throw console.error("[API] Error exporting analytics:",c),c}},getRevenueAnalytics:async e=>{const t=new URLSearchParams;t.set("view",e.view),e.startDate&&t.set("startDate",e.startDate),e.endDate&&t.set("endDate",e.endDate);const r=`/admin/analytics/revenue?${t.toString()}`;return(await je(r)).data},getRevenueTransactions:async e=>{const t=new URLSearchParams;e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate),e!=null&&e.limit&&t.set("limit",e.limit.toString());const n=t.toString(),r=n?`/admin/analytics/revenue/transactions?${n}`:"/admin/analytics/revenue/transactions";return(await je(r)).data}},Rg={getLeads:async e=>{const t=new URLSearchParams;e!=null&&e.type&&t.set("type",e.type),e!=null&&e.status&&e.status.forEach(i=>t.append("status",i)),e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate),e!=null&&e.page&&t.set("page",e.page.toString()),e!=null&&e.limit&&t.set("limit",e.limit.toString());const n=t.toString(),r=n?`/admin/leads?${n}`:"/admin/leads";return(await je(r)).data},getLead:async(e,t)=>(await je(`/admin/leads/${e}?type=${t}`)).data,updateLeadStatus:async(e,t,n)=>(await je(`/admin/leads/${e}?type=${t}`,{method:"PATCH",body:JSON.stringify({status:n})})).data,getLeadAnalytics:async()=>(await je("/admin/leads/analytics")).data,exportLeads:async e=>{const t=new URLSearchParams;e!=null&&e.type&&t.set("type",e.type),e!=null&&e.status&&e.status.forEach(a=>t.append("status",a)),e!=null&&e.startDate&&t.set("startDate",e.startDate),e!=null&&e.endDate&&t.set("endDate",e.endDate);const n=t.toString(),r=n?`/admin/leads/export?${n}`:"/admin/leads/export";try{const a=await fetch(`${nB()}${Eb()}${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Export failed");const i=await a.blob(),o=window.URL.createObjectURL(i),l=`leads-export-${new Date().toISOString().split("T")[0]}.csv`,c=document.createElement("a");c.href=o,c.download=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(o)}catch(a){throw console.error("[API] Error exporting leads:",a),a}}},si={createTemplate:async e=>await je("/admin/templates",{method:"POST",body:JSON.stringify(e)}),updateTemplate:async(e,t)=>await je(`/admin/templates/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteTemplate:async e=>await je(`/admin/templates/${e}`,{method:"DELETE"}),getTemplates:async()=>await je("/admin/templates"),getTemplate:async e=>await je(`/admin/templates/${e}`),getTemplateStats:async()=>await je("/admin/templates/stats"),createSection:async(e,t)=>await je(`/admin/templates/${e}/sections`,{method:"POST",body:JSON.stringify(t)}),updateSection:async(e,t)=>await je(`/admin/sections/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteSection:async e=>await je(`/admin/sections/${e}`,{method:"DELETE"}),createQuestion:async(e,t)=>await je(`/admin/sections/${e}/questions`,{method:"POST",body:JSON.stringify(t)}),updateQuestion:async(e,t)=>await je(`/admin/questions/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteQuestion:async e=>await je(`/admin/questions/${e}`,{method:"DELETE"}),bulkCreateQuestions:async(e,t)=>await je(`/admin/sections/${e}/questions/bulk`,{method:"POST",body:JSON.stringify({questions:t})})},Jo={getActive:async e=>await je(`/legal-documents/active/${e}`),getDownloadUrl:async e=>await je(`/legal-documents/${e}/download`),upload:async e=>await je("/legal-documents/upload",{method:"POST",body:JSON.stringify(e)}),list:async e=>await je(`/legal-documents/list/${e}`),activate:async e=>await je(`/legal-documents/${e}/activate`,{method:"POST"}),delete:async e=>await je(`/legal-documents/${e}`,{method:"DELETE"}),uploadToS3:async(e,t,n)=>{const r=await fetch(e,{method:"PUT",body:n,headers:{"Content-Type":n.type}});if(!r.ok)throw new Error(`Failed to upload file: ${r.statusText}`)}},Ob={listPlans:async e=>{const t=new URLSearchParams;e!=null&&e.activeOnly&&t.append("activeOnly","true"),e!=null&&e.publicOnly&&t.append("publicOnly","true"),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const n=t.toString(),r=n?`/admin/plans?${n}`:"/admin/plans";return await je(r)},getPlan:async e=>await je(`/admin/plans/${e}`),createPlan:async e=>await je("/admin/plans",{method:"POST",body:JSON.stringify(e)}),updatePlan:async(e,t)=>await je(`/admin/plans/${e}`,{method:"PUT",body:JSON.stringify(t)}),deletePlan:async e=>await je(`/admin/plans/${e}`,{method:"DELETE"})},hre={listPlans:async()=>{const e=await fetch(`${Ab}/v1/public/plans`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`Failed to fetch plans: ${e.statusText}`);return await e.json()}},_b={listCoupons:async e=>{const t=new URLSearchParams;e!=null&&e.activeOnly&&t.append("activeOnly","true"),e!=null&&e.page&&t.append("page",e.page.toString()),e!=null&&e.limit&&t.append("limit",e.limit.toString());const n=t.toString(),r=n?`/admin/coupons?${n}`:"/admin/coupons";return await je(r)},getCoupon:async e=>await je(`/admin/coupons/${e}`),createCoupon:async e=>await je("/admin/coupons",{method:"POST",body:JSON.stringify(e)}),updateCoupon:async(e,t)=>await je(`/admin/coupons/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteCoupon:async e=>await je(`/admin/coupons/${e}`,{method:"DELETE"}),validateCoupon:async e=>await je("/admin/coupons/validate",{method:"POST",body:JSON.stringify(e)})},pre={getSubscriptions:async e=>{const t=new URLSearchParams;e!=null&&e.status&&t.append("status",e.status),e!=null&&e.plan&&t.append("plan",e.plan),e!=null&&e.search&&t.append("search",e.search);const n=t.toString(),r=n?`/admin/subscriptions?${n}`:"/admin/subscriptions";return await je(r)}},Ho=[{element:"body",popover:{title:"👋 Welcome to Heliolus!",description:"Let's take a quick tour to help you get started with AI-powered compliance assessments. Click 'Next' to continue or 'Skip' to exit anytime.",side:"center",align:"center"},route:"/dashboard"},{element:'[data-tour="business-profile-tab"]',popover:{title:"📋 Complete Your Business Profile",description:"First, let's set up your organization profile. Click the 'Business Profile' tab below to get started.",side:"bottom",align:"center"},route:"/dashboard"},{element:'[data-tour="business-profile-form"]',popover:{title:"✍️ Fill in Your Organization Details",description:"Complete your business profile with accurate information. This helps our AI provide personalized compliance recommendations. Click the Save button when done.",side:"top",align:"start"},route:"/dashboard"},{element:'[data-tour="assessments"]',popover:{title:"🎯 Ready to Start Your Assessment?",description:"Great! Now let's begin your compliance assessment. Click the 'Assessments' button in the navigation above.",side:"bottom",align:"center"},route:"/dashboard"},{element:'[data-tour="template-cards"]',popover:{title:"📄 Choose Your Assessment Template",description:"Select a template that matches your compliance needs. Our most popular choice is Financial Crime Assessment. Click any template card to begin.",side:"top",align:"start"},route:"/assessment-templates"},{element:'[data-tour="document-upload"]',popover:{title:"📤 Upload Your Compliance Documents",description:`
        <div class="space-y-3">
          <p>Upload documents for AI analysis. Our system automatically classifies evidence quality:</p>
          <div class="space-y-2 text-sm bg-gray-800/50 rounded-lg p-3">
            <div class="flex items-start gap-2">
              <span class="text-green-400 font-bold">✓✓ Tier 2:</span>
              <span>System-generated evidence (audit logs, reports) - <strong>Highest confidence</strong></span>
            </div>
            <div class="flex items-start gap-2">
              <span class="text-blue-400 font-bold">✓ Tier 1:</span>
              <span>Policy documents (procedures, guidelines) - <strong>Good confidence</strong></span>
            </div>
            <div class="flex items-start gap-2">
              <span class="text-amber-400 font-bold">○ Tier 0:</span>
              <span>Self-declared information (statements) - <strong>Requires verification</strong></span>
            </div>
          </div>
          <p class="text-xs text-gray-400">💡 Tip: Upload Tier 2 documents first for the most accurate AI analysis!</p>
        </div>
      `,side:"bottom",align:"start"},route:"/assessment/execute"}],gre={showProgress:!0,showButtons:["next","previous","close"],allowClose:!0,animate:!0,smoothScroll:!0,overlayColor:"rgba(0, 0, 0, 0.85)",stagePadding:10,allowKeyboardControl:!0,disableActiveInteraction:!1,nextBtnText:"Next →",prevBtnText:"← Back",doneBtnText:"Finish Tour",onDestroyed:()=>{},popoverClass:"heliolus-tour-popover",onHighlightStarted:()=>{}},ks={ACTIVE:"heliolus_tour_active",STEP:"heliolus_tour_step"},sB=y.createContext(void 0);function xre({children:e}){const{user:t,refetchUser:n}=Cs(),[r,a]=y.useState(!1),[i,o]=y.useState(0),[l,c]=y.useState(!1);y.useEffect(()=>{if(!t){c(!0),a(!1);return}if(t.hasSeenOnboarding!==void 0&&(c(t.hasSeenOnboarding),t.hasSeenOnboarding)){localStorage.removeItem(ks.ACTIVE),localStorage.removeItem(ks.STEP),a(!1);return}const g=localStorage.getItem(ks.ACTIVE),p=localStorage.getItem(ks.STEP);if(g==="true"&&!t.hasSeenOnboarding&&(a(!0),p)){const x=parseInt(p,10);isNaN(x)||o(x)}},[t]);const u=y.useCallback(g=>{o(g),r&&localStorage.setItem(ks.STEP,g.toString())},[r]),d=y.useCallback((g=!1)=>{t&&t.role==="USER"&&(!g&&t.hasSeenOnboarding||(a(!0),o(0),c(!1),localStorage.setItem(ks.ACTIVE,"true"),localStorage.setItem(ks.STEP,"0")))},[t]),f=y.useCallback(async()=>{a(!1),o(0),localStorage.removeItem(ks.ACTIVE),localStorage.removeItem(ks.STEP);try{await je("/auth/users/me/onboarding",{method:"PATCH",body:JSON.stringify({completed:!0})}),c(!0),n&&await n()}catch(g){console.error("Failed to mark onboarding as skipped:",g),c(!0)}},[n]),m=y.useCallback(async()=>{a(!1),o(0),localStorage.removeItem(ks.ACTIVE),localStorage.removeItem(ks.STEP);try{await je("/auth/users/me/onboarding",{method:"PATCH",body:JSON.stringify({completed:!0})}),c(!0),n&&await n()}catch(g){console.error("Failed to mark onboarding as completed:",g),c(!0)}},[n]),h={isActive:r,currentStep:i,hasCompleted:l,startTour:d,skipTour:f,finishTour:m,setCurrentStep:u};return s.jsx(sB.Provider,{value:h,children:e})}function $A(){const e=y.useContext(sB);if(e===void 0)throw new Error("useOnboarding must be used within an OnboardingProvider");return e}let MS={},aB;function Jj(e={}){MS={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...e}}function Le(e){return e?MS[e]:MS}function yre(e){aB=e}function la(){return aB}let pv={};function Tx(e,t){pv[e]=t}function ru(e){var t;(t=pv[e])==null||t.call(pv)}function vre(){pv={}}function Ox(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function iB(e){const t='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return e.flatMap(n=>{const r=n.matches(t),a=Array.from(n.querySelectorAll(t));return[...r?[n]:[],...a]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&jre(n))}function oB(e){if(!e||wre(e))return;const t=Le("smoothScroll"),n=e.offsetHeight>window.innerHeight;e.scrollIntoView({behavior:!t||bre(e)?"auto":"smooth",inline:"center",block:n?"start":"center"})}function bre(e){if(!e||!e.parentElement)return;const t=e.parentElement;return t.scrollHeight>t.clientHeight}function wre(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function jre(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}let gv={};function pr(e,t){gv[e]=t}function We(e){return e?gv[e]:gv}function R_(){gv={}}function Nre(e,t,n,r){let a=We("__activeStagePosition");const i=a||n.getBoundingClientRect(),o=r.getBoundingClientRect(),l=Ox(e,i.x,o.x-i.x,t),c=Ox(e,i.y,o.y-i.y,t),u=Ox(e,i.width,o.width-i.width,t),d=Ox(e,i.height,o.height-i.height,t);a={x:l,y:c,width:u,height:d},cB(a),pr("__activeStagePosition",a)}function lB(e){if(!e)return;const t=e.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height};pr("__activeStagePosition",n),cB(n)}function Sre(){const e=We("__activeStagePosition"),t=We("__overlaySvg");if(!e)return;if(!t){console.warn("No stage svg found.");return}const n=window.innerWidth,r=window.innerHeight;t.setAttribute("viewBox",`0 0 ${n} ${r}`)}function Cre(e){const t=Pre(e);document.body.appendChild(t),fB(t,n=>{n.target.tagName==="path"&&ru("overlayClick")}),pr("__overlaySvg",t)}function cB(e){const t=We("__overlaySvg");if(!t){Cre(e);return}const n=t.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",uB(e))}function Pre(e){const t=window.innerWidth,n=window.innerHeight,r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.classList.add("driver-overlay","driver-overlay-animated"),r.setAttribute("viewBox",`0 0 ${t} ${n}`),r.setAttribute("xmlSpace","preserve"),r.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1"),r.setAttribute("preserveAspectRatio","xMinYMin slice"),r.style.fillRule="evenodd",r.style.clipRule="evenodd",r.style.strokeLinejoin="round",r.style.strokeMiterlimit="2",r.style.zIndex="10000",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%";const a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("d",uB(e)),a.style.fill=Le("overlayColor")||"rgb(0,0,0)",a.style.opacity=`${Le("overlayOpacity")}`,a.style.pointerEvents="auto",a.style.cursor="auto",r.appendChild(a),r}function uB(e){const t=window.innerWidth,n=window.innerHeight,r=Le("stagePadding")||0,a=Le("stageRadius")||0,i=e.width+r*2,o=e.height+r*2,l=Math.min(a,i/2,o/2),c=Math.floor(Math.max(l,0)),u=e.x-r+c,d=e.y-r,f=i-c*2,m=o-c*2;return`M${t},0L0,0L0,${n}L${t},${n}L${t},0Z
    M${u},${d} h${f} a${c},${c} 0 0 1 ${c},${c} v${m} a${c},${c} 0 0 1 -${c},${c} h-${f} a${c},${c} 0 0 1 -${c},-${c} v-${m} a${c},${c} 0 0 1 ${c},-${c} z`}function Are(){const e=We("__overlaySvg");e&&e.remove()}function Ere(){const e=document.getElementById("driver-dummy-element");if(e)return e;let t=document.createElement("div");return t.id="driver-dummy-element",t.style.width="0",t.style.height="0",t.style.pointerEvents="none",t.style.opacity="0",t.style.position="fixed",t.style.top="50%",t.style.left="50%",document.body.appendChild(t),t}function M_(e){const{element:t}=e;let n=typeof t=="function"?t():typeof t=="string"?document.querySelector(t):t;n||(n=Ere()),Tre(n,e)}function kre(){const e=We("__activeElement"),t=We("__activeStep");e&&(lB(e),Sre(),hB(e,t))}function Tre(e,t){var n;const r=Date.now(),a=We("__activeStep"),i=We("__activeElement")||e,o=!i||i===e,l=e.id==="driver-dummy-element",c=i.id==="driver-dummy-element",u=Le("animate"),d=t.onHighlightStarted||Le("onHighlightStarted"),f=(t==null?void 0:t.onHighlighted)||Le("onHighlighted"),m=(a==null?void 0:a.onDeselected)||Le("onDeselected"),h=Le(),g=We();!o&&m&&m(c?void 0:i,a,{config:h,state:g,driver:la()}),d&&d(l?void 0:e,t,{config:h,state:g,driver:la()});const p=!o&&u;let x=!1;Ire(),pr("previousStep",a),pr("previousElement",i),pr("activeStep",t),pr("activeElement",e);const v=()=>{if(We("__transitionCallback")!==v)return;const b=Date.now()-r,w=400-b<=400/2;t.popover&&w&&!x&&p&&(I_(e,t),x=!0),Le("animate")&&b<400?Nre(b,400,i,e):(lB(e),f&&f(l?void 0:e,t,{config:Le(),state:We(),driver:la()}),pr("__transitionCallback",void 0),pr("__previousStep",a),pr("__previousElement",i),pr("__activeStep",t),pr("__activeElement",e)),window.requestAnimationFrame(v)};pr("__transitionCallback",v),window.requestAnimationFrame(v),oB(e),!p&&t.popover&&I_(e,t),i.classList.remove("driver-active-element","driver-no-interaction"),i.removeAttribute("aria-haspopup"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-controls"),((n=t.disableActiveInteraction)!=null?n:Le("disableActiveInteraction"))&&e.classList.add("driver-no-interaction"),e.classList.add("driver-active-element"),e.setAttribute("aria-haspopup","dialog"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-controls","driver-popover-content")}function Ore(){var e;(e=document.getElementById("driver-dummy-element"))==null||e.remove(),document.querySelectorAll(".driver-active-element").forEach(t=>{t.classList.remove("driver-active-element","driver-no-interaction"),t.removeAttribute("aria-haspopup"),t.removeAttribute("aria-expanded"),t.removeAttribute("aria-controls")})}function yp(){const e=We("__resizeTimeout");e&&window.cancelAnimationFrame(e),pr("__resizeTimeout",window.requestAnimationFrame(kre))}function _re(e){var t;if(!We("isInitialized")||!(e.key==="Tab"||e.keyCode===9))return;const n=We("__activeElement"),r=(t=We("popover"))==null?void 0:t.wrapper,a=iB([...r?[r]:[],...n?[n]:[]]),i=a[0],o=a[a.length-1];if(e.preventDefault(),e.shiftKey){const l=a[a.indexOf(document.activeElement)-1]||o;l==null||l.focus()}else{const l=a[a.indexOf(document.activeElement)+1]||i;l==null||l.focus()}}function dB(e){var t;((t=Le("allowKeyboardControl"))==null||t)&&(e.key==="Escape"?ru("escapePress"):e.key==="ArrowRight"?ru("arrowRightPress"):e.key==="ArrowLeft"&&ru("arrowLeftPress"))}function fB(e,t,n){const r=(a,i)=>{const o=a.target;e.contains(o)&&((!n||n(o))&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()),i==null||i(a))};document.addEventListener("pointerdown",r,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerup",r,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",a=>{r(a,t)},!0)}function Rre(){window.addEventListener("keyup",dB,!1),window.addEventListener("keydown",_re,!1),window.addEventListener("resize",yp),window.addEventListener("scroll",yp)}function Mre(){window.removeEventListener("keyup",dB),window.removeEventListener("resize",yp),window.removeEventListener("scroll",yp)}function Ire(){const e=We("popover");e&&(e.wrapper.style.display="none")}function I_(e,t){var n,r;let a=We("popover");a&&document.body.removeChild(a.wrapper),a=$re(),document.body.appendChild(a.wrapper);const{title:i,description:o,showButtons:l,disableButtons:c,showProgress:u,nextBtnText:d=Le("nextBtnText")||"Next &rarr;",prevBtnText:f=Le("prevBtnText")||"&larr; Previous",progressText:m=Le("progressText")||"{current} of {total}"}=t.popover||{};a.nextButton.innerHTML=d,a.previousButton.innerHTML=f,a.progress.innerHTML=m,i?(a.title.innerHTML=i,a.title.style.display="block"):a.title.style.display="none",o?(a.description.innerHTML=o,a.description.style.display="block"):a.description.style.display="none";const h=l||Le("showButtons"),g=u||Le("showProgress")||!1,p=(h==null?void 0:h.includes("next"))||(h==null?void 0:h.includes("previous"))||g;a.closeButton.style.display=h.includes("close")?"block":"none",p?(a.footer.style.display="flex",a.progress.style.display=g?"block":"none",a.nextButton.style.display=h.includes("next")?"block":"none",a.previousButton.style.display=h.includes("previous")?"block":"none"):a.footer.style.display="none";const x=c||Le("disableButtons")||[];x!=null&&x.includes("next")&&(a.nextButton.disabled=!0,a.nextButton.classList.add("driver-popover-btn-disabled")),x!=null&&x.includes("previous")&&(a.previousButton.disabled=!0,a.previousButton.classList.add("driver-popover-btn-disabled")),x!=null&&x.includes("close")&&(a.closeButton.disabled=!0,a.closeButton.classList.add("driver-popover-btn-disabled"));const v=a.wrapper;v.style.display="block",v.style.left="",v.style.top="",v.style.bottom="",v.style.right="",v.id="driver-popover-content",v.setAttribute("role","dialog"),v.setAttribute("aria-labelledby","driver-popover-title"),v.setAttribute("aria-describedby","driver-popover-description");const b=a.arrow;b.className="driver-popover-arrow";const w=((n=t.popover)==null?void 0:n.popoverClass)||Le("popoverClass")||"";v.className=`driver-popover ${w}`.trim(),fB(a.wrapper,C=>{var P,A,T;const E=C.target,k=((P=t.popover)==null?void 0:P.onNextClick)||Le("onNextClick"),R=((A=t.popover)==null?void 0:A.onPrevClick)||Le("onPrevClick"),I=((T=t.popover)==null?void 0:T.onCloseClick)||Le("onCloseClick");if(E.closest(".driver-popover-next-btn"))return k?k(e,t,{config:Le(),state:We(),driver:la()}):ru("nextClick");if(E.closest(".driver-popover-prev-btn"))return R?R(e,t,{config:Le(),state:We(),driver:la()}):ru("prevClick");if(E.closest(".driver-popover-close-btn"))return I?I(e,t,{config:Le(),state:We(),driver:la()}):ru("closeClick")},C=>!(a!=null&&a.description.contains(C))&&!(a!=null&&a.title.contains(C))&&typeof C.className=="string"&&C.className.includes("driver-popover")),pr("popover",a);const N=((r=t.popover)==null?void 0:r.onPopoverRender)||Le("onPopoverRender");N&&N(a,{config:Le(),state:We(),driver:la()}),hB(e,t),oB(v);const j=e.classList.contains("driver-dummy-element"),S=iB([v,...j?[]:[e]]);S.length>0&&S[0].focus()}function mB(){const e=We("popover");if(!(e!=null&&e.wrapper))return;const t=e.wrapper.getBoundingClientRect(),n=Le("stagePadding")||0,r=Le("popoverOffset")||0;return{width:t.width+n+r,height:t.height+n+r,realWidth:t.width,realHeight:t.height}}function D_(e,t){const{elementDimensions:n,popoverDimensions:r,popoverPadding:a,popoverArrowDimensions:i}=t;return e==="start"?Math.max(Math.min(n.top-a,window.innerHeight-r.realHeight-i.width),i.width):e==="end"?Math.max(Math.min(n.top-(r==null?void 0:r.realHeight)+n.height+a,window.innerHeight-(r==null?void 0:r.realHeight)-i.width),i.width):e==="center"?Math.max(Math.min(n.top+n.height/2-(r==null?void 0:r.realHeight)/2,window.innerHeight-(r==null?void 0:r.realHeight)-i.width),i.width):0}function $_(e,t){const{elementDimensions:n,popoverDimensions:r,popoverPadding:a,popoverArrowDimensions:i}=t;return e==="start"?Math.max(Math.min(n.left-a,window.innerWidth-r.realWidth-i.width),i.width):e==="end"?Math.max(Math.min(n.left-(r==null?void 0:r.realWidth)+n.width+a,window.innerWidth-(r==null?void 0:r.realWidth)-i.width),i.width):e==="center"?Math.max(Math.min(n.left+n.width/2-(r==null?void 0:r.realWidth)/2,window.innerWidth-(r==null?void 0:r.realWidth)-i.width),i.width):0}function hB(e,t){const n=We("popover");if(!n)return;const{align:r="start",side:a="left"}=(t==null?void 0:t.popover)||{},i=r,o=e.id==="driver-dummy-element"?"over":a,l=Le("stagePadding")||0,c=mB(),u=n.arrow.getBoundingClientRect(),d=e.getBoundingClientRect(),f=d.top-c.height;let m=f>=0;const h=window.innerHeight-(d.bottom+c.height);let g=h>=0;const p=d.left-c.width;let x=p>=0;const v=window.innerWidth-(d.right+c.width);let b=v>=0;const w=!m&&!g&&!x&&!b;let N=o;if(o==="top"&&m?b=x=g=!1:o==="bottom"&&g?b=x=m=!1:o==="left"&&x?b=m=g=!1:o==="right"&&b&&(x=m=g=!1),o==="over"){const j=window.innerWidth/2-c.realWidth/2,S=window.innerHeight/2-c.realHeight/2;n.wrapper.style.left=`${j}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${S}px`,n.wrapper.style.bottom="auto"}else if(w){const j=window.innerWidth/2-(c==null?void 0:c.realWidth)/2,S=10;n.wrapper.style.left=`${j}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${S}px`,n.wrapper.style.top="auto"}else if(x){const j=Math.min(p,window.innerWidth-(c==null?void 0:c.realWidth)-u.width),S=D_(i,{elementDimensions:d,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:u});n.wrapper.style.left=`${j}px`,n.wrapper.style.top=`${S}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="left"}else if(b){const j=Math.min(v,window.innerWidth-(c==null?void 0:c.realWidth)-u.width),S=D_(i,{elementDimensions:d,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:u});n.wrapper.style.right=`${j}px`,n.wrapper.style.top=`${S}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",N="right"}else if(m){const j=Math.min(f,window.innerHeight-c.realHeight-u.width);let S=$_(i,{elementDimensions:d,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:u});n.wrapper.style.top=`${j}px`,n.wrapper.style.left=`${S}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",N="top"}else if(g){const j=Math.min(h,window.innerHeight-(c==null?void 0:c.realHeight)-u.width);let S=$_(i,{elementDimensions:d,popoverDimensions:c,popoverPadding:l,popoverArrowDimensions:u});n.wrapper.style.left=`${S}px`,n.wrapper.style.bottom=`${j}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",N="bottom"}w?n.arrow.classList.add("driver-popover-arrow-none"):Dre(i,N,e)}function Dre(e,t,n){const r=We("popover");if(!r)return;const a=n.getBoundingClientRect(),i=mB(),o=r.arrow,l=i.width,c=window.innerWidth,u=a.width,d=a.left,f=i.height,m=window.innerHeight,h=a.top,g=a.height;o.className="driver-popover-arrow";let p=t,x=e;if(t==="top"?(d+u<=0?(p="right",x="end"):d+u-l<=0&&(p="top",x="start"),d>=c?(p="left",x="end"):d+l>=c&&(p="top",x="end")):t==="bottom"?(d+u<=0?(p="right",x="start"):d+u-l<=0&&(p="bottom",x="start"),d>=c?(p="left",x="start"):d+l>=c&&(p="bottom",x="end")):t==="left"?(h+g<=0?(p="bottom",x="end"):h+g-f<=0&&(p="left",x="start"),h>=m?(p="top",x="end"):h+f>=m&&(p="left",x="end")):t==="right"&&(h+g<=0?(p="bottom",x="start"):h+g-f<=0&&(p="right",x="start"),h>=m?(p="top",x="start"):h+f>=m&&(p="right",x="end")),!p)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${p}`),o.classList.add(`driver-popover-arrow-align-${x}`);const v=n.getBoundingClientRect(),b=o.getBoundingClientRect(),w=Le("stagePadding")||0,N=v.left-w<window.innerWidth&&v.right+w>0&&v.top-w<window.innerHeight&&v.bottom+w>0;t==="bottom"&&N&&(b.x>v.x&&b.x+b.width<v.x+v.width?r.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${x}`),o.classList.add("driver-popover-arrow-none"),r.wrapper.style.transform=`translateY(-${w/2}px)`))}}function $re(){const e=document.createElement("div");e.classList.add("driver-popover");const t=document.createElement("div");t.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const r=document.createElement("div");r.id="driver-popover-description",r.classList.add("driver-popover-description"),r.style.display="none",r.innerText="Popover description is here";const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-close-btn"),a.setAttribute("aria-label","Close"),a.innerHTML="&times;";const i=document.createElement("footer");i.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const l=document.createElement("span");l.classList.add("driver-popover-navigation-btns");const c=document.createElement("button");c.type="button",c.classList.add("driver-popover-prev-btn"),c.innerHTML="&larr; Previous";const u=document.createElement("button");return u.type="button",u.classList.add("driver-popover-next-btn"),u.innerHTML="Next &rarr;",l.appendChild(c),l.appendChild(u),i.appendChild(o),i.appendChild(l),e.appendChild(a),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(i),{wrapper:e,arrow:t,title:n,description:r,footer:i,previousButton:c,nextButton:u,closeButton:a,footerButtons:l,progress:o}}function Lre(){var e;const t=We("popover");t&&((e=t.wrapper.parentElement)==null||e.removeChild(t.wrapper))}function Fre(e={}){Jj(e);function t(){Le("allowClose")&&d()}function n(){const m=Le("overlayClickBehavior");if(Le("allowClose")&&m==="close"){d();return}m==="nextStep"&&r()}function r(){const m=We("activeIndex"),h=Le("steps")||[];if(typeof m>"u")return;const g=m+1;h[g]?u(g):d()}function a(){const m=We("activeIndex"),h=Le("steps")||[];if(typeof m>"u")return;const g=m-1;h[g]?u(g):d()}function i(m){(Le("steps")||[])[m]?u(m):d()}function o(){var m;if(We("__transitionCallback"))return;const h=We("activeIndex"),g=We("__activeStep"),p=We("__activeElement");if(typeof h>"u"||typeof g>"u"||typeof We("activeIndex")>"u")return;const x=((m=g.popover)==null?void 0:m.onPrevClick)||Le("onPrevClick");if(x)return x(p,g,{config:Le(),state:We(),driver:la()});a()}function l(){var m;if(We("__transitionCallback"))return;const h=We("activeIndex"),g=We("__activeStep"),p=We("__activeElement");if(typeof h>"u"||typeof g>"u")return;const x=((m=g.popover)==null?void 0:m.onNextClick)||Le("onNextClick");if(x)return x(p,g,{config:Le(),state:We(),driver:la()});r()}function c(){We("isInitialized")||(pr("isInitialized",!0),document.body.classList.add("driver-active",Le("animate")?"driver-fade":"driver-simple"),Rre(),Tx("overlayClick",n),Tx("escapePress",t),Tx("arrowLeftPress",o),Tx("arrowRightPress",l))}function u(m=0){var h,g,p,x,v,b,w,N;const j=Le("steps");if(!j){console.error("No steps to drive through"),d();return}if(!j[m]){d();return}pr("__activeOnDestroyed",document.activeElement),pr("activeIndex",m);const S=j[m],C=j[m+1],P=j[m-1],A=((h=S.popover)==null?void 0:h.doneBtnText)||Le("doneBtnText")||"Done",T=Le("allowClose"),E=typeof((g=S.popover)==null?void 0:g.showProgress)<"u"?(p=S.popover)==null?void 0:p.showProgress:Le("showProgress"),k=(((x=S.popover)==null?void 0:x.progressText)||Le("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${m+1}`).replace("{{total}}",`${j.length}`),R=((v=S.popover)==null?void 0:v.showButtons)||Le("showButtons"),I=["next","previous",...T?["close"]:[]].filter(O=>!(R!=null&&R.length)||R.includes(O)),D=((b=S.popover)==null?void 0:b.onNextClick)||Le("onNextClick"),B=((w=S.popover)==null?void 0:w.onPrevClick)||Le("onPrevClick"),V=((N=S.popover)==null?void 0:N.onCloseClick)||Le("onCloseClick");M_({...S,popover:{showButtons:I,nextBtnText:C?void 0:A,disableButtons:[...P?[]:["previous"]],showProgress:E,progressText:k,onNextClick:D||(()=>{C?u(m+1):d()}),onPrevClick:B||(()=>{u(m-1)}),onCloseClick:V||(()=>{d()}),...(S==null?void 0:S.popover)||{}}})}function d(m=!0){const h=We("__activeElement"),g=We("__activeStep"),p=We("__activeOnDestroyed"),x=Le("onDestroyStarted");if(m&&x){const w=!h||(h==null?void 0:h.id)==="driver-dummy-element";x(w?void 0:h,g,{config:Le(),state:We(),driver:la()});return}const v=(g==null?void 0:g.onDeselected)||Le("onDeselected"),b=Le("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),Mre(),Lre(),Ore(),Are(),vre(),R_(),h&&g){const w=h.id==="driver-dummy-element";v&&v(w?void 0:h,g,{config:Le(),state:We(),driver:la()}),b&&b(w?void 0:h,g,{config:Le(),state:We(),driver:la()})}p&&p.focus()}const f={isActive:()=>We("isInitialized")||!1,refresh:yp,drive:(m=0)=>{c(),u(m)},setConfig:Jj,setSteps:m=>{R_(),Jj({...Le(),steps:m})},getConfig:Le,getState:We,getActiveIndex:()=>We("activeIndex"),isFirstStep:()=>We("activeIndex")===0,isLastStep:()=>{const m=Le("steps")||[],h=We("activeIndex");return h!==void 0&&h===m.length-1},getActiveStep:()=>We("activeStep"),getActiveElement:()=>We("activeElement"),getPreviousElement:()=>We("previousElement"),getPreviousStep:()=>We("previousStep"),moveNext:r,movePrevious:a,moveTo:i,hasNextStep:()=>{const m=Le("steps")||[],h=We("activeIndex");return h!==void 0&&!!m[h+1]},hasPreviousStep:()=>{const m=Le("steps")||[],h=We("activeIndex");return h!==void 0&&!!m[h-1]},highlight:m=>{c(),M_({...m,popover:m.popover?{showButtons:[],showProgress:!1,progressText:"",...m.popover}:void 0})},destroy:()=>{d(!1)}};return yre(f),f}function Bre(){const{isActive:e,currentStep:t,setCurrentStep:n,skipTour:r,finishTour:a}=$A(),i=Xs(),o=Rt(),l=y.useRef(null);return y.useEffect(()=>{if(!e)return;const c=Fre({...gre,steps:Ho,onNextClick:(d,f,m)=>{const h=f.index||0,g=Ho[h+1];n(h+1),localStorage.setItem(ks.STEP,String(h+1)),g!=null&&g.route&&i.pathname!==g.route?(c.destroy(),g.route.startsWith("/assessment/execute")||o(g.route)):c.moveNext()},onPrevClick:(d,f)=>{const m=f.index||0,h=Ho[m-1];n(m-1),localStorage.setItem(ks.STEP,String(m-1)),h!=null&&h.route&&i.pathname!==h.route?(c.destroy(),o(h.route)):c.movePrevious()},onCloseClick:()=>{r(),c.destroy()},onDestroyStarted:()=>{c.getActiveIndex()===Ho.length-1&&a()},onDestroyed:()=>{l.current=null},onHighlighted:(d,f)=>{const m=f.index||0;if(Ho[m],d){const h=()=>{switch(m){case 1:setTimeout(()=>{l.current&&(n(2),l.current.moveNext())},400);break;case 2:const g=d.querySelector('[data-tour="save-profile-button"]');if(g){const p=()=>{setTimeout(()=>{l.current&&(n(3),l.current.moveNext())},1500),g.removeEventListener("click",p)};g.addEventListener("click",p)}break;case 3:setTimeout(()=>{l.current&&i.pathname==="/assessment-templates"&&(n(4),l.current.moveNext())},500);break;case 4:setTimeout(()=>{l.current&&i.pathname.startsWith("/assessment/execute/")&&(n(5),l.current.moveNext())},500);break}};d.addEventListener("click",h,{once:!0})}}});l.current=c;const u=setTimeout(()=>{if(Ho.filter(f=>!f.route||i.pathname.startsWith(f.route)).length>0){const f=Ho.findIndex(m=>!m.route||i.pathname.startsWith(m.route));f>=0&&f<=t&&c.drive(t)}},500);return()=>{clearTimeout(u),l.current&&l.current.destroy()}},[e,t,i.pathname]),y.useEffect(()=>{if(!e||!l.current)return;const c=Ho[t];c!=null&&c.route&&(i.pathname===c.route||i.pathname.startsWith(c.route))&&setTimeout(()=>{l.current&&(l.current.destroy(),l.current.drive(t))},600)},[i.pathname,t,e]),null}const Vre=Xf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ft=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:se(Vre({variant:t}),e),...n}));Ft.displayName="Alert";const cf=y.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));cf.displayName="AlertTitle";const Bt=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",e),...t}));Bt.displayName="AlertDescription";const LA=Xf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),F=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},i)=>{const o=r?oF:"button";return s.jsx(o,{className:se(LA({variant:t,size:n,className:e})),ref:i,...a})});F.displayName="Button";const K=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));K.displayName="Card";const de=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));de.displayName="CardHeader";const pe=y.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));pe.displayName="CardTitle";const Ve=y.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Ve.displayName="CardDescription";const X=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));X.displayName="CardContent";const sm=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));sm.displayName="CardFooter";const fi=({children:e,fallback:t,showAccessDenied:n=!0})=>{const{isAuthenticated:r,isLoading:a,isAdmin:i,user:o}=Cs(),l=Xs();return a?t||s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(tn,{className:"h-12 w-12 mx-auto text-primary animate-pulse"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Verifying Admin Access..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we check your permissions"})]}),s.jsx(Ye,{className:"h-6 w-6 animate-spin mx-auto"})]})}):r?i()?s.jsx(s.Fragment,{children:e}):n?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background px-4",children:s.jsxs(K,{className:"w-full max-w-md",children:[s.jsxs(de,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto bg-red-100 dark:bg-red-900/20 rounded-full p-4 w-fit",children:s.jsx(qs,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-xl font-semibold",children:"Access Denied"}),s.jsx(Ve,{className:"mt-2",children:"You don't have administrator privileges to access this area."})]})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs(Ft,{variant:"destructive",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsxs(Bt,{children:["This section requires administrator access. Your current role:"," ",s.jsx("strong",{children:(o==null?void 0:o.role)||"USER"})]})]}),s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"If you believe you should have admin access, please contact your system administrator."})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(F,{variant:"outline",className:"flex-1",onClick:()=>window.history.back(),"data-testid":"button-go-back",children:[s.jsx(ri,{className:"h-4 w-4 mr-2"}),"Go Back"]}),s.jsx(F,{className:"flex-1",onClick:()=>window.location.href="/dashboard","data-testid":"button-dashboard",children:"Go to Dashboard"})]})]})]})}):s.jsx(kS,{to:"/dashboard",replace:!0}):s.jsx(kS,{to:"/admin/login",state:{from:l.pathname,adminRequired:!0},replace:!0})},Qs=({children:e,fallback:t,redirectTo:n="/login"})=>{const{isAuthenticated:r,isLoading:a}=Cs(),i=Xs();return a?t||s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Ye,{className:"h-8 w-8 animate-spin mx-auto"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Authenticating..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please wait while we verify your access"})]})]})}):r?s.jsx(s.Fragment,{children:e}):s.jsx(kS,{to:n,state:{from:i.pathname},replace:!0})};var Ure=y.createContext(void 0);function _u(e){const t=y.useContext(Ure);return e||t||"ltr"}var eN=0;function FA(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??L_()),document.body.insertAdjacentElement("beforeend",e[1]??L_()),eN++,()=>{eN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),eN--}},[])}function L_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tN="focusScope.autoFocusOnMount",nN="focusScope.autoFocusOnUnmount",F_={bubbles:!1,cancelable:!0},zre="FocusScope",Rb=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=Dn(a),d=Dn(i),f=y.useRef(null),m=Ke(t,p=>c(p)),h=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let p=function(w){if(h.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:Yo(f.current,{select:!0})},x=function(w){if(h.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||Yo(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Yo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),b.disconnect()}}},[r,l,h.paused]),y.useEffect(()=>{if(l){V_.add(h);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(tN,F_);l.addEventListener(tN,u),l.dispatchEvent(v),v.defaultPrevented||(Wre(Yre(pB(l)),{select:!0}),document.activeElement===p&&Yo(l))}return()=>{l.removeEventListener(tN,u),setTimeout(()=>{const v=new CustomEvent(nN,F_);l.addEventListener(nN,d),l.dispatchEvent(v),v.defaultPrevented||Yo(p??document.body,{select:!0}),l.removeEventListener(nN,d),V_.remove(h)},0)}}},[l,u,d,h]);const g=y.useCallback(p=>{if(!n&&!r||h.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const b=p.currentTarget,[w,N]=qre(b);w&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&Yo(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&Yo(N,{select:!0})):v===b&&p.preventDefault()}},[n,r,h.paused]);return s.jsx(Te.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});Rb.displayName=zre;function Wre(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Yo(r,{select:t}),document.activeElement!==n)return}function qre(e){const t=pB(e),n=B_(t,e),r=B_(t.reverse(),e);return[n,r]}function pB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function B_(e,t){for(const n of e)if(!Hre(n,{upTo:t}))return n}function Hre(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kre(e){return e instanceof HTMLInputElement&&"select"in e}function Yo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Kre(e)&&t&&e.select()}}var V_=Gre();function Gre(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=U_(e,t),e.unshift(t)},remove(t){var n;e=U_(e,t),(n=e[0])==null||n.resume()}}}function U_(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Yre(e){return e.filter(t=>t.tagName!=="A")}var rN="rovingFocusGroup.onEntryFocus",Xre={bubbles:!1,cancelable:!0},Mg="RovingFocusGroup",[IS,gB,Qre]=Ag(Mg),[Zre,am]=Zn(Mg,[Qre]),[Jre,ese]=Zre(Mg),xB=y.forwardRef((e,t)=>s.jsx(IS.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(IS.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tse,{...e,ref:t})})}));xB.displayName=Mg;var tse=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=y.useRef(null),h=Ke(t,m),g=_u(i),[p,x]=zs({prop:o,defaultProp:l??null,onChange:c,caller:Mg}),[v,b]=y.useState(!1),w=Dn(u),N=gB(n),j=y.useRef(!1),[S,C]=y.useState(0);return y.useEffect(()=>{const P=m.current;if(P)return P.addEventListener(rN,w),()=>P.removeEventListener(rN,w)},[w]),s.jsx(Jre,{scope:n,orientation:r,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(P=>x(P),[x]),onItemShiftTab:y.useCallback(()=>b(!0),[]),onFocusableItemAdd:y.useCallback(()=>C(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>C(P=>P-1),[]),children:s.jsx(Te.div,{tabIndex:v||S===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:be(e.onMouseDown,()=>{j.current=!0}),onFocus:be(e.onFocus,P=>{const A=!j.current;if(P.target===P.currentTarget&&A&&!v){const T=new CustomEvent(rN,Xre);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const E=N().filter(B=>B.focusable),k=E.find(B=>B.active),R=E.find(B=>B.id===p),D=[k,R,...E].filter(Boolean).map(B=>B.ref.current);bB(D,d)}}j.current=!1}),onBlur:be(e.onBlur,()=>b(!1))})})}),yB="RovingFocusGroupItem",vB=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=ga(),u=i||c,d=ese(yB,n),f=d.currentTabStopId===u,m=gB(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),s.jsx(IS.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:s.jsx(Te.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:be(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:be(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:be(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=sse(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?ase(w,N+1):w.slice(N+1)}setTimeout(()=>bB(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});vB.displayName=yB;var nse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sse(e,t,n){const r=rse(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nse[r]}function bB(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ase(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BA=xB,VA=vB,ise=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vu=new WeakMap,_x=new WeakMap,Rx={},sN=0,wB=function(e){return e&&(e.host||wB(e.parentNode))},ose=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=wB(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lse=function(e,t,n,r){var a=ose(t,Array.isArray(e)?e:[e]);Rx[n]||(Rx[n]=new WeakMap);var i=Rx[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(r),g=h!==null&&h!=="false",p=(Vu.get(m)||0)+1,x=(i.get(m)||0)+1;Vu.set(m,p),i.set(m,x),o.push(m),p===1&&g&&_x.set(m,!0),x===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(t),l.clear(),sN++,function(){o.forEach(function(f){var m=Vu.get(f)-1,h=i.get(f)-1;Vu.set(f,m),i.set(f,h),m||(_x.has(f)||f.removeAttribute(r),_x.delete(f)),h||f.removeAttribute(n)}),sN--,sN||(Vu=new WeakMap,Vu=new WeakMap,_x=new WeakMap,Rx={})}},UA=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=ise(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),lse(r,a,n,"aria-hidden")):function(){return null}},yi=function(){return yi=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},yi.apply(this,arguments)};function jB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function cse(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var by="right-scroll-bar-position",wy="width-before-scroll-bar",use="with-scroll-bars-hidden",dse="--removed-body-scroll-bar-size";function aN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fse(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var mse=typeof window<"u"?y.useLayoutEffect:y.useEffect,z_=new WeakMap;function hse(e,t){var n=fse(null,function(r){return e.forEach(function(a){return aN(a,r)})});return mse(function(){var r=z_.get(n);if(r){var a=new Set(r),i=new Set(e),o=n.current;a.forEach(function(l){i.has(l)||aN(l,null)}),i.forEach(function(l){a.has(l)||aN(l,o)})}z_.set(n,e)},[e]),n}function pse(e){return e}function gse(e,t){t===void 0&&(t=pse);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function xse(e){e===void 0&&(e={});var t=gse(null);return t.options=yi({async:!0,ssr:!1},e),t}var NB=function(e){var t=e.sideCar,n=jB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,yi({},n))};NB.isSideCarExport=!0;function yse(e,t){return e.useMedium(t),NB}var SB=xse(),iN=function(){},Mb=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:iN,onWheelCapture:iN,onTouchMoveCapture:iN}),a=r[0],i=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,b=v===void 0?"div":v,w=e.gapMode,N=jB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,S=hse([n,t]),C=yi(yi({},N),a);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:SB,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?y.cloneElement(y.Children.only(l),yi(yi({},C),{ref:S})):y.createElement(b,yi({},C,{className:c,ref:S}),l))});Mb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mb.classNames={fullWidth:wy,zeroRight:by};var vse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vse();return t&&e.setAttribute("nonce",t),e}function wse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nse=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bse())&&(wse(t,n),jse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sse=function(){var e=Nse();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},CB=function(){var e=Sse(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Cse={left:0,top:0,right:0,gap:0},oN=function(e){return parseInt(e||"",10)||0},Pse=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[oN(n),oN(r),oN(a)]},Ase=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cse;var t=Pse(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ese=CB(),Od="data-scroll-locked",kse=function(e,t,n,r){var a=e.left,i=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(use,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(by,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(wy,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(by," .").concat(by,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(wy," .").concat(wy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Od,`] {
    `).concat(dse,": ").concat(l,`px;
  }
`)},W_=function(){var e=parseInt(document.body.getAttribute(Od)||"0",10);return isFinite(e)?e:0},Tse=function(){y.useEffect(function(){return document.body.setAttribute(Od,(W_()+1).toString()),function(){var e=W_()-1;e<=0?document.body.removeAttribute(Od):document.body.setAttribute(Od,e.toString())}},[])},Ose=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Tse();var i=y.useMemo(function(){return Ase(a)},[a]);return y.createElement(Ese,{styles:kse(i,!t,a,n?"":"!important")})},DS=!1;if(typeof window<"u")try{var Mx=Object.defineProperty({},"passive",{get:function(){return DS=!0,!0}});window.addEventListener("test",Mx,Mx),window.removeEventListener("test",Mx,Mx)}catch{DS=!1}var Uu=DS?{passive:!1}:!1,_se=function(e){return e.tagName==="TEXTAREA"},PB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!_se(e)&&n[t]==="visible")},Rse=function(e){return PB(e,"overflowY")},Mse=function(e){return PB(e,"overflowX")},q_=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=AB(e,r);if(a){var i=EB(e,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ise=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Dse=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},AB=function(e,t){return e==="v"?Rse(t):Mse(t)},EB=function(e,t){return e==="v"?Ise(t):Dse(t)},$se=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lse=function(e,t,n,r,a){var i=$se(e,window.getComputedStyle(t).direction),o=i*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=EB(e,l),g=h[0],p=h[1],x=h[2],v=p-x-i*g;(g||v)&&AB(e,l)&&(f+=v,m+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Ix=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},H_=function(e){return[e.deltaX,e.deltaY]},K_=function(e){return e&&"current"in e?e.current:e},Fse=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vse=0,zu=[];function Use(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),a=y.useState(Vse++)[0],i=y.useState(CB)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=cse([e.lockRef.current],(e.shards||[]).map(K_),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var v=Ix(p),b=n.current,w="deltaX"in p?p.deltaX:b[0]-v[0],N="deltaY"in p?p.deltaY:b[1]-v[1],j,S=p.target,C=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&C==="h"&&S.type==="range")return!1;var P=q_(C,S);if(!P)return!0;if(P?j=C:(j=C==="v"?"h":"v",P=q_(C,S)),!P)return!1;if(!r.current&&"changedTouches"in p&&(w||N)&&(r.current=j),!j)return!0;var A=r.current||j;return Lse(A,x,p,A==="h"?w:N)},[]),c=y.useCallback(function(p){var x=p;if(!(!zu.length||zu[zu.length-1]!==i)){var v="deltaY"in x?H_(x):Ix(x),b=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&Fse(j.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var w=(o.current.shards||[]).map(K_).filter(Boolean).filter(function(j){return j.contains(x.target)}),N=w.length>0?l(x,w[0]):!o.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(p,x,v,b){var w={name:p,delta:x,target:v,should:b,shadowParent:zse(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=y.useCallback(function(p){n.current=Ix(p),r.current=void 0},[]),f=y.useCallback(function(p){u(p.type,H_(p),p.target,l(p,e.lockRef.current))},[]),m=y.useCallback(function(p){u(p.type,Ix(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return zu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Uu),document.addEventListener("touchmove",c,Uu),document.addEventListener("touchstart",d,Uu),function(){zu=zu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Uu),document.removeEventListener("touchmove",c,Uu),document.removeEventListener("touchstart",d,Uu)}},[]);var h=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:Bse(a)}):null,h?y.createElement(Ose,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function zse(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Wse=yse(SB,Use);var Ib=y.forwardRef(function(e,t){return y.createElement(Mb,yi({},e,{ref:t,sideCar:Wse}))});Ib.classNames=Mb.classNames;var $S=["Enter"," "],qse=["ArrowDown","PageUp","Home"],kB=["ArrowUp","PageDown","End"],Hse=[...qse,...kB],Kse={ltr:[...$S,"ArrowRight"],rtl:[...$S,"ArrowLeft"]},Gse={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ig="Menu",[vp,Yse,Xse]=Ag(Ig),[Ru,TB]=Zn(Ig,[Xse,em,am]),Db=em(),OB=am(),[Qse,Mu]=Ru(Ig),[Zse,Dg]=Ru(Ig),_B=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:i,modal:o=!0}=e,l=Db(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Dn(i),m=_u(a);return y.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(NA,{...l,children:s.jsx(Qse,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Zse,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};_B.displayName=Ig;var Jse="MenuAnchor",zA=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Db(n);return s.jsx(SA,{...a,...r,ref:t})});zA.displayName=Jse;var WA="MenuPortal",[eae,RB]=Ru(WA,{forceMount:void 0}),MB=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,i=Mu(WA,t);return s.jsx(eae,{scope:t,forceMount:n,children:s.jsx(wr,{present:n||i.open,children:s.jsx(Eg,{asChild:!0,container:a,children:r})})})};MB.displayName=WA;var xa="MenuContent",[tae,qA]=Ru(xa),IB=y.forwardRef((e,t)=>{const n=RB(xa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Mu(xa,e.__scopeMenu),o=Dg(xa,e.__scopeMenu);return s.jsx(vp.Provider,{scope:e.__scopeMenu,children:s.jsx(wr,{present:r||i.open,children:s.jsx(vp.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(nae,{...a,ref:t}):s.jsx(rae,{...a,ref:t})})})})}),nae=y.forwardRef((e,t)=>{const n=Mu(xa,e.__scopeMenu),r=y.useRef(null),a=Ke(t,r);return y.useEffect(()=>{const i=r.current;if(i)return UA(i)},[]),s.jsx(HA,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),rae=y.forwardRef((e,t)=>{const n=Mu(xa,e.__scopeMenu);return s.jsx(HA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sae=pu("MenuContent.ScrollLock"),HA=y.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:g,...p}=e,x=Mu(xa,n),v=Dg(xa,n),b=Db(n),w=OB(n),N=Yse(n),[j,S]=y.useState(null),C=y.useRef(null),P=Ke(t,C,x.onContentChange),A=y.useRef(0),T=y.useRef(""),E=y.useRef(0),k=y.useRef(null),R=y.useRef("right"),I=y.useRef(0),D=g?Ib:y.Fragment,B=g?{as:sae,allowPinchZoom:!0}:void 0,V=_=>{var $,J;const z=T.current+_,ne=N().filter(Z=>!Z.disabled),Y=document.activeElement,Q=($=ne.find(Z=>Z.ref.current===Y))==null?void 0:$.textValue,ie=ne.map(Z=>Z.textValue),ae=gae(ie,z,Q),ge=(J=ne.find(Z=>Z.textValue===ae))==null?void 0:J.ref.current;(function Z(L){T.current=L,window.clearTimeout(A.current),L!==""&&(A.current=window.setTimeout(()=>Z(""),1e3))})(z),ge&&setTimeout(()=>ge.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),FA();const O=y.useCallback(_=>{var ne,Y;return R.current===((ne=k.current)==null?void 0:ne.side)&&yae(_,(Y=k.current)==null?void 0:Y.area)},[]);return s.jsx(tae,{scope:n,searchRef:T,onItemEnter:y.useCallback(_=>{O(_)&&_.preventDefault()},[O]),onItemLeave:y.useCallback(_=>{var z;O(_)||((z=C.current)==null||z.focus(),S(null))},[O]),onTriggerLeave:y.useCallback(_=>{O(_)&&_.preventDefault()},[O]),pointerGraceTimerRef:E,onPointerGraceIntentChange:y.useCallback(_=>{k.current=_},[]),children:s.jsx(D,{...B,children:s.jsx(Rb,{asChild:!0,trapped:a,onMountAutoFocus:be(i,_=>{var z;_.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:s.jsx(BA,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:be(c,_=>{v.isUsingKeyboardRef.current||_.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(CA,{role:"menu","aria-orientation":"vertical","data-state":QB(x.open),"data-radix-menu-content":"",dir:v.dir,...b,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:be(p.onKeyDown,_=>{const ne=_.target.closest("[data-radix-menu-content]")===_.currentTarget,Y=_.ctrlKey||_.altKey||_.metaKey,Q=_.key.length===1;ne&&(_.key==="Tab"&&_.preventDefault(),!Y&&Q&&V(_.key));const ie=C.current;if(_.target!==ie||!Hse.includes(_.key))return;_.preventDefault();const ge=N().filter($=>!$.disabled).map($=>$.ref.current);kB.includes(_.key)&&ge.reverse(),hae(ge)}),onBlur:be(e.onBlur,_=>{_.currentTarget.contains(_.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:be(e.onPointerMove,bp(_=>{const z=_.target,ne=I.current!==_.clientX;if(_.currentTarget.contains(z)&&ne){const Y=_.clientX>I.current?"right":"left";R.current=Y,I.current=_.clientX}}))})})})})})})});IB.displayName=xa;var aae="MenuGroup",KA=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Te.div,{role:"group",...r,ref:t})});KA.displayName=aae;var iae="MenuLabel",DB=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Te.div,{...r,ref:t})});DB.displayName=iae;var xv="MenuItem",G_="menu.itemSelect",$b=y.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=y.useRef(null),o=Dg(xv,e.__scopeMenu),l=qA(xv,e.__scopeMenu),c=Ke(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(G_,{bubbles:!0,cancelable:!0});f.addEventListener(G_,h=>r==null?void 0:r(h),{once:!0}),sA(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx($B,{...a,ref:c,disabled:n,onClick:be(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:be(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:be(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||$S.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$b.displayName=xv;var $B=y.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,o=qA(xv,n),l=OB(n),c=y.useRef(null),u=Ke(t,c),[d,f]=y.useState(!1),[m,h]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&h((g.textContent??"").trim())},[i.children]),s.jsx(vp.ItemSlot,{scope:n,disabled:r,textValue:a??m,children:s.jsx(VA,{asChild:!0,...l,focusable:!r,children:s.jsx(Te.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:be(e.onPointerMove,bp(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:be(e.onPointerLeave,bp(g=>o.onItemLeave(g))),onFocus:be(e.onFocus,()=>f(!0)),onBlur:be(e.onBlur,()=>f(!1))})})})}),oae="MenuCheckboxItem",LB=y.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return s.jsx(zB,{scope:e.__scopeMenu,checked:n,children:s.jsx($b,{role:"menuitemcheckbox","aria-checked":yv(n)?"mixed":n,...a,ref:t,"data-state":YA(n),onSelect:be(a.onSelect,()=>r==null?void 0:r(yv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});LB.displayName=oae;var FB="MenuRadioGroup",[lae,cae]=Ru(FB,{value:void 0,onValueChange:()=>{}}),BB=y.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,i=Dn(r);return s.jsx(lae,{scope:e.__scopeMenu,value:n,onValueChange:i,children:s.jsx(KA,{...a,ref:t})})});BB.displayName=FB;var VB="MenuRadioItem",UB=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=cae(VB,e.__scopeMenu),i=n===a.value;return s.jsx(zB,{scope:e.__scopeMenu,checked:i,children:s.jsx($b,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":YA(i),onSelect:be(r.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});UB.displayName=VB;var GA="MenuItemIndicator",[zB,uae]=Ru(GA,{checked:!1}),WB=y.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=uae(GA,n);return s.jsx(wr,{present:r||yv(i.checked)||i.checked===!0,children:s.jsx(Te.span,{...a,ref:t,"data-state":YA(i.checked)})})});WB.displayName=GA;var dae="MenuSeparator",qB=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});qB.displayName=dae;var fae="MenuArrow",HB=y.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=Db(n);return s.jsx(PA,{...a,...r,ref:t})});HB.displayName=fae;var mae="MenuSub",[x9e,KB]=Ru(mae),fh="MenuSubTrigger",GB=y.forwardRef((e,t)=>{const n=Mu(fh,e.__scopeMenu),r=Dg(fh,e.__scopeMenu),a=KB(fh,e.__scopeMenu),i=qA(fh,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(zA,{asChild:!0,...u,children:s.jsx($B,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":QB(n.open),...e,ref:hb(t,a.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:be(e.onPointerMove,bp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:be(e.onPointerLeave,bp(f=>{var h,g;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const p=(g=n.content)==null?void 0:g.dataset.side,x=p==="right",v=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:be(e.onKeyDown,f=>{var h;const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||Kse[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});GB.displayName=fh;var YB="MenuSubContent",XB=y.forwardRef((e,t)=>{const n=RB(xa,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=Mu(xa,e.__scopeMenu),o=Dg(xa,e.__scopeMenu),l=KB(YB,e.__scopeMenu),c=y.useRef(null),u=Ke(t,c);return s.jsx(vp.Provider,{scope:e.__scopeMenu,children:s.jsx(wr,{present:r||i.open,children:s.jsx(vp.Slot,{scope:e.__scopeMenu,children:s.jsx(HA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:be(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:be(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:be(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=Gse[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});XB.displayName=YB;function QB(e){return e?"open":"closed"}function yv(e){return e==="indeterminate"}function YA(e){return yv(e)?"indeterminate":e?"checked":"unchecked"}function hae(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function gae(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=pae(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function xae(e,t){const{x:n,y:r}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(a=!a)}return a}function yae(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return xae(n,t)}function bp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var vae=_B,bae=zA,wae=MB,jae=IB,Nae=KA,Sae=DB,Cae=$b,Pae=LB,Aae=BB,Eae=UB,kae=WB,Tae=qB,Oae=HB,_ae=GB,Rae=XB,Lb="DropdownMenu",[Mae,y9e]=Zn(Lb,[TB]),cs=TB(),[Iae,ZB]=Mae(Lb),JB=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=cs(t),u=y.useRef(null),[d,f]=zs({prop:a,defaultProp:i??!1,onChange:o,caller:Lb});return s.jsx(Iae,{scope:t,triggerId:ga(),triggerRef:u,contentId:ga(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(vae,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};JB.displayName=Lb;var eV="DropdownMenuTrigger",tV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=ZB(eV,n),o=cs(n);return s.jsx(bae,{asChild:!0,...o,children:s.jsx(Te.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:hb(t,i.triggerRef),onPointerDown:be(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:be(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});tV.displayName=eV;var Dae="DropdownMenuPortal",nV=e=>{const{__scopeDropdownMenu:t,...n}=e,r=cs(t);return s.jsx(wae,{...r,...n})};nV.displayName=Dae;var rV="DropdownMenuContent",sV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=ZB(rV,n),i=cs(n),o=y.useRef(!1);return s.jsx(jae,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:t,onCloseAutoFocus:be(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:be(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sV.displayName=rV;var $ae="DropdownMenuGroup",Lae=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Nae,{...a,...r,ref:t})});Lae.displayName=$ae;var Fae="DropdownMenuLabel",aV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Sae,{...a,...r,ref:t})});aV.displayName=Fae;var Bae="DropdownMenuItem",iV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Cae,{...a,...r,ref:t})});iV.displayName=Bae;var Vae="DropdownMenuCheckboxItem",oV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Pae,{...a,...r,ref:t})});oV.displayName=Vae;var Uae="DropdownMenuRadioGroup",zae=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Aae,{...a,...r,ref:t})});zae.displayName=Uae;var Wae="DropdownMenuRadioItem",lV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Eae,{...a,...r,ref:t})});lV.displayName=Wae;var qae="DropdownMenuItemIndicator",cV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(kae,{...a,...r,ref:t})});cV.displayName=qae;var Hae="DropdownMenuSeparator",uV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Tae,{...a,...r,ref:t})});uV.displayName=Hae;var Kae="DropdownMenuArrow",Gae=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Oae,{...a,...r,ref:t})});Gae.displayName=Kae;var Yae="DropdownMenuSubTrigger",dV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(_ae,{...a,...r,ref:t})});dV.displayName=Yae;var Xae="DropdownMenuSubContent",fV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=cs(n);return s.jsx(Rae,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fV.displayName=Xae;var Qae=JB,Zae=tV,Jae=nV,mV=sV,hV=aV,pV=iV,gV=oV,xV=lV,yV=cV,vV=uV,bV=dV,wV=fV;const Hl=Qae,Kl=Zae,eie=y.forwardRef(({className:e,inset:t,children:n,...r},a)=>s.jsxs(bV,{ref:a,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,s.jsx(sc,{className:"ml-auto h-4 w-4"})]}));eie.displayName=bV.displayName;const tie=y.forwardRef(({className:e,...t},n)=>s.jsx(wV,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tie.displayName=wV.displayName;const Po=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Jae,{children:s.jsx(mV,{ref:r,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Po.displayName=mV.displayName;const yn=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(pV,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));yn.displayName=pV.displayName;const nie=y.forwardRef(({className:e,children:t,checked:n,...r},a)=>s.jsxs(gV,{ref:a,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yV,{children:s.jsx(xn,{className:"h-4 w-4"})})}),t]}));nie.displayName=gV.displayName;const rie=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(xV,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(yV,{children:s.jsx(DF,{className:"h-2 w-2 fill-current"})})}),t]}));rie.displayName=xV.displayName;const oc=y.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(hV,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));oc.displayName=hV.displayName;const Gl=y.forwardRef(({className:e,...t},n)=>s.jsx(vV,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));Gl.displayName=vV.displayName;var jV={exports:{}},NV={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=y;function sie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aie=typeof Object.is=="function"?Object.is:sie,iie=uf.useState,oie=uf.useEffect,lie=uf.useLayoutEffect,cie=uf.useDebugValue;function uie(e,t){var n=t(),r=iie({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return lie(function(){a.value=n,a.getSnapshot=t,lN(a)&&i({inst:a})},[e,n,t]),oie(function(){return lN(a)&&i({inst:a}),e(function(){lN(a)&&i({inst:a})})},[e]),cie(n),n}function lN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!aie(e,n)}catch{return!0}}function die(e,t){return t()}var fie=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?die:uie;NV.useSyncExternalStore=uf.useSyncExternalStore!==void 0?uf.useSyncExternalStore:fie;jV.exports=NV;var mie=jV.exports;function hie(){return mie.useSyncExternalStore(pie,()=>!0,()=>!1)}function pie(){return()=>{}}var XA="Avatar",[gie,v9e]=Zn(XA),[xie,SV]=gie(XA),CV=y.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[a,i]=y.useState("idle");return s.jsx(xie,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Te.span,{...r,ref:t})})});CV.displayName=XA;var PV="AvatarImage",AV=y.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:a=()=>{},...i}=e,o=SV(PV,n),l=yie(r,i),c=Dn(u=>{a(u),o.onImageLoadingStatusChange(u)});return $n(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Te.img,{...i,ref:t,src:r}):null});AV.displayName=PV;var EV="AvatarFallback",kV=y.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...a}=e,i=SV(EV,n),[o,l]=y.useState(r===void 0);return y.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Te.span,{...a,ref:t}):null});kV.displayName=EV;function Y_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yie(e,{referrerPolicy:t,crossOrigin:n}){const r=hie(),a=y.useRef(null),i=r?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>Y_(i,e));return $n(()=>{l(Y_(i,e))},[i,e]),$n(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,n,t]),o}var TV=CV,OV=AV,_V=kV;const LS=y.forwardRef(({className:e,...t},n)=>s.jsx(TV,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));LS.displayName=TV.displayName;const vie=y.forwardRef(({className:e,...t},n)=>s.jsx(OV,{ref:n,className:se("aspect-square h-full w-full",e),...t}));vie.displayName=OV.displayName;const FS=y.forwardRef(({className:e,...t},n)=>s.jsx(_V,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));FS.displayName=_V.displayName;const bie=()=>{const e=Rt(),t=Xs(),{user:n,isAuthenticated:r,isAdmin:a,logout:i,getUserInitials:o,getUserFullName:l}=Cs(),[c,u]=y.useState(!1),d=()=>{i(),e("/"),u(!1)},f=h=>{e(h),u(!1)};return["/login","/register"].includes(t.pathname)?null:s.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-sm border-b border-border",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center cursor-pointer",onClick:()=>f("/"),children:[s.jsx("img",{src:"/aithea-logo.png",alt:"Heliolus Logo",className:"h-10 w-10 object-contain"}),s.jsx("span",{className:"ml-3 text-xl font-bold text-foreground",children:"Heliolus AI"})]}),s.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:r?s.jsxs(s.Fragment,{children:[s.jsxs(F,{variant:"ghost",onClick:()=>e("/dashboard"),className:t.pathname==="/dashboard"?"bg-accent":"","data-tour":"business-profile",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsx(F,{variant:"ghost",onClick:()=>e("/assessment-templates"),className:t.pathname.includes("/assessment")?"bg-accent":"","data-testid":"link-assessments","data-tour":"assessments",children:"Assessments"}),s.jsx(F,{variant:"ghost",onClick:()=>e("/marketplace"),className:t.pathname==="/marketplace"?"bg-accent":"",children:"Marketplace"}),a()&&s.jsxs(F,{variant:"ghost",onClick:()=>e("/admin"),className:t.pathname.startsWith("/admin")?"bg-accent":"","data-testid":"button-admin-header",children:[s.jsx(tn,{className:"h-4 w-4 mr-2"}),"Admin"]}),s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsx(F,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsx(LS,{className:"h-8 w-8",children:s.jsx(FS,{children:o()})})})}),s.jsxs(Po,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(oc,{className:"font-normal",children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:l()}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:n==null?void 0:n.email})]})}),s.jsx(Gl,{}),s.jsxs(yn,{onClick:()=>e("/settings"),"data-testid":"link-settings",children:[s.jsx(up,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]}),a()&&s.jsx(s.Fragment,{children:s.jsxs(yn,{onClick:()=>e("/admin"),"data-testid":"link-admin",children:[s.jsx(XO,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Admin Settings"})]})}),s.jsx(Gl,{}),s.jsxs(yn,{onClick:d,"data-testid":"button-logout",children:[s.jsx(KO,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})]}):s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(F,{variant:"ghost",onClick:()=>e("/login"),children:"Sign In"}),s.jsx(F,{onClick:()=>e("/register"),children:"Get Started"})]})}),s.jsx("div",{className:"md:hidden flex items-center",children:s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>u(!c),"data-testid":"button-mobile-menu","aria-label":"Toggle mobile menu",children:c?s.jsx(kr,{className:"h-6 w-6"}):s.jsx(fZ,{className:"h-6 w-6"})})})]})}),c&&s.jsx("div",{className:"md:hidden border-t border-border bg-background/95 backdrop-blur-sm",children:s.jsx("div",{className:"px-4 pt-2 pb-4 space-y-2",children:r?s.jsxs(s.Fragment,{children:[s.jsxs(F,{variant:"ghost",onClick:()=>f("/dashboard"),className:`w-full justify-start ${t.pathname==="/dashboard"?"bg-accent":""}`,"data-testid":"mobile-link-dashboard",children:[s.jsx(Vl,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsx(F,{variant:"ghost",onClick:()=>f("/assessment-templates"),className:`w-full justify-start ${t.pathname.includes("/assessment")?"bg-accent":""}`,"data-testid":"mobile-link-assessments",children:"Assessments"}),s.jsx(F,{variant:"ghost",onClick:()=>f("/marketplace"),className:`w-full justify-start ${t.pathname==="/marketplace"?"bg-accent":""}`,"data-testid":"mobile-link-marketplace",children:"Marketplace"}),a()&&s.jsxs(F,{variant:"ghost",onClick:()=>f("/admin"),className:`w-full justify-start ${t.pathname.startsWith("/admin")?"bg-accent":""}`,"data-testid":"mobile-button-admin",children:[s.jsx(tn,{className:"h-4 w-4 mr-2"}),"Admin"]}),s.jsxs("div",{className:"pt-2 border-t border-border mt-2",children:[s.jsxs("div",{className:"flex items-center px-3 py-2",children:[s.jsx(LS,{className:"h-8 w-8 mr-3",children:s.jsx(FS,{children:o()})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:l()}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground mt-1",children:n==null?void 0:n.email})]})]}),s.jsxs(F,{variant:"ghost",onClick:()=>f("/settings"),className:"w-full justify-start","data-testid":"mobile-link-settings",children:[s.jsx(up,{className:"mr-2 h-4 w-4"}),"Settings"]}),a()&&s.jsxs(F,{variant:"ghost",onClick:()=>f("/admin"),className:"w-full justify-start","data-testid":"mobile-link-admin-settings",children:[s.jsx(XO,{className:"mr-2 h-4 w-4"}),"Admin Settings"]}),s.jsxs(F,{variant:"ghost",onClick:d,className:"w-full justify-start","data-testid":"mobile-button-logout",children:[s.jsx(KO,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(F,{variant:"ghost",onClick:()=>f("/login"),className:"w-full","data-testid":"mobile-button-signin",children:"Sign In"}),s.jsx(F,{onClick:()=>f("/register"),className:"w-full","data-testid":"mobile-button-getstarted",children:"Get Started"})]})})})]})};var Fb="Dialog",[RV,MV]=Zn(Fb),[wie,ai]=RV(Fb),IV=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=zs({prop:r,defaultProp:a??!1,onChange:i,caller:Fb});return s.jsx(wie,{scope:t,triggerRef:l,contentRef:c,contentId:ga(),titleId:ga(),descriptionId:ga(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};IV.displayName=Fb;var DV="DialogTrigger",$V=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ai(DV,n),i=Ke(t,a.triggerRef);return s.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JA(a.open),...r,ref:i,onClick:be(e.onClick,a.onOpenToggle)})});$V.displayName=DV;var QA="DialogPortal",[jie,LV]=RV(QA,{forceMount:void 0}),FV=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,i=ai(QA,t);return s.jsx(jie,{scope:t,forceMount:n,children:y.Children.map(r,o=>s.jsx(wr,{present:n||i.open,children:s.jsx(Eg,{asChild:!0,container:a,children:o})}))})};FV.displayName=QA;var vv="DialogOverlay",BV=y.forwardRef((e,t)=>{const n=LV(vv,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ai(vv,e.__scopeDialog);return i.modal?s.jsx(wr,{present:r||i.open,children:s.jsx(Sie,{...a,ref:t})}):null});BV.displayName=vv;var Nie=pu("DialogOverlay.RemoveScroll"),Sie=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ai(vv,n);return s.jsx(Ib,{as:Nie,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Te.div,{"data-state":JA(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),bu="DialogContent",VV=y.forwardRef((e,t)=>{const n=LV(bu,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=ai(bu,e.__scopeDialog);return s.jsx(wr,{present:r||i.open,children:i.modal?s.jsx(Cie,{...a,ref:t}):s.jsx(Pie,{...a,ref:t})})});VV.displayName=bu;var Cie=y.forwardRef((e,t)=>{const n=ai(bu,e.__scopeDialog),r=y.useRef(null),a=Ke(t,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return UA(i)},[]),s.jsx(UV,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:be(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:be(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:be(e.onFocusOutside,i=>i.preventDefault())})}),Pie=y.forwardRef((e,t)=>{const n=ai(bu,e.__scopeDialog),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(UV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),UV=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=ai(bu,n),c=y.useRef(null),u=Ke(t,c);return FA(),s.jsxs(s.Fragment,{children:[s.jsx(Rb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Yf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":JA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Eie,{titleId:l.titleId}),s.jsx(Tie,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ZA="DialogTitle",zV=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ai(ZA,n);return s.jsx(Te.h2,{id:a.titleId,...r,ref:t})});zV.displayName=ZA;var WV="DialogDescription",qV=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ai(WV,n);return s.jsx(Te.p,{id:a.descriptionId,...r,ref:t})});qV.displayName=WV;var HV="DialogClose",KV=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=ai(HV,n);return s.jsx(Te.button,{type:"button",...r,ref:t,onClick:be(e.onClick,()=>a.onOpenChange(!1))})});KV.displayName=HV;function JA(e){return e?"open":"closed"}var GV="DialogTitleWarning",[Aie,YV]=iQ(GV,{contentName:bu,titleName:ZA,docsSlug:"dialog"}),Eie=({titleId:e})=>{const t=YV(GV),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},kie="DialogDescriptionWarning",Tie=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YV(kie).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},eE=IV,XV=$V,tE=FV,$g=BV,Lg=VV,Fg=zV,Bg=qV,Bb=KV;const Jt=eE,bv=XV,Oie=tE,QV=y.forwardRef(({className:e,...t},n)=>s.jsx($g,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));QV.displayName=$g.displayName;const Gt=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Oie,{children:[s.jsx(QV,{}),s.jsxs(Lg,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(kr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gt.displayName=Lg.displayName;const Yt=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Yt.displayName="DialogHeader";const pn=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pn.displayName="DialogFooter";const Xt=y.forwardRef(({className:e,...t},n)=>s.jsx(Fg,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Xt.displayName=Fg.displayName;const Qt=y.forwardRef(({className:e,...t},n)=>s.jsx(Bg,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Qt.displayName=Bg.displayName;const _ie=()=>{const e=Rt(),[t,n]=y.useState(null),[r,a]=y.useState(!1),[i,o]=y.useState(""),[l,c]=y.useState(!1),[u,d]=y.useState(""),{isAuthenticated:f}=Cs(),m=(v,b)=>{f?e(v):(o(v),a(!0))},h=()=>{a(!1),setTimeout(()=>e("/login"),200)},g=()=>{a(!1),setTimeout(()=>e("/register"),200)},p=()=>s.jsx("div",{className:"floating-shapes",children:[...Array(6)].map((v,b)=>s.jsx("div",{className:"shape",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${b*2}s`},children:s.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[b%3===0&&s.jsx("polygon",{points:"50,10 90,90 10,90",fill:"none",stroke:"hsl(183, 81%, 57%)",strokeWidth:"1",opacity:"0.3"}),b%3===1&&s.jsx("rect",{x:"20",y:"20",width:"60",height:"60",fill:"none",stroke:"hsl(324, 85%, 60%)",strokeWidth:"1",opacity:"0.3",transform:"rotate(45 50 50)"}),b%3===2&&s.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"hsl(183, 81%, 57%)",strokeWidth:"1",opacity:"0.3"})]})},b))}),x=[{id:"assessment",title:"Start Risk Assessment",description:"Begin your compliance journey with a comprehensive risk evaluation",icon:_r,color:"purple",glowClass:"glow-cyan",gradient:"from-cyan-500 to-cyan-400",features:["AI-powered risk analysis","Personalized compliance roadmap","Industry benchmarking","Strategic recommendations"],action:()=>e("/assessment-templates")},{id:"marketplace",title:"Explore Solutions",description:"Browse vendors and consultants tailored to your needs",icon:_r,color:"blue",glowClass:"glow-pink",gradient:"from-pink-500 to-pink-400",features:["Curated vendor marketplace","Expert consultants","Instant RFP generation","Price comparisons"],action:()=>m("/marketplace")}];return s.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[s.jsx(p,{}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-12",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 text-white",children:"Heliolus AI"}),s.jsx("p",{className:"text-xl md:text-2xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Your intelligent compliance marketplace powered by AI"}),s.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:"AI-Powered Analysis"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tl,{className:"h-4 w-4 text-secondary"}),s.jsx("span",{children:"Real-time Insights"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jo,{className:"h-4 w-4 text-cyan-400"}),s.jsx("span",{children:"Instant Matching"})]})]})]}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-semibold mb-4 text-white",children:"Choose Your Journey"}),s.jsx("p",{className:"text-gray-400",children:"Select how you'd like to begin your compliance transformation"})]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:x.map(v=>{const b=v.icon,w=t===v.id;return s.jsxs(K,{className:`relative p-8 bg-gray-900/50 backdrop-blur-sm border-gray-800 card-hover cursor-pointer ${v.glowClass} ${w?v.glowClass:""}`,onMouseEnter:()=>n(v.id),onMouseLeave:()=>n(null),onClick:v.action,"data-testid":`card-journey-${v.id}`,children:[w&&s.jsx("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:s.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${v.gradient} opacity-20`})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${v.gradient} bg-opacity-20`,children:s.jsx(b,{className:"h-8 w-8 text-white"})}),s.jsx(Er,{className:`h-6 w-6 text-gray-500 transition-transform ${w?"translate-x-2":""}`})]}),s.jsx("h3",{className:"text-2xl font-semibold mb-3 text-white",children:v.title}),s.jsx("p",{className:"text-gray-400 mb-6",children:v.description}),s.jsx("div",{className:"space-y-2",children:v.features.map((N,j)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",style:{opacity:w?1:.7,transform:w?"translateX(0)":"translateX(-10px)",transition:`all 0.3s ease ${j*.1}s`},children:[s.jsx(sc,{className:"h-3 w-3 text-gray-600"}),s.jsx("span",{children:N})]},j))}),s.jsxs(F,{onClick:v.action,className:`w-full mt-6 bg-gradient-to-r ${v.gradient} hover:opacity-90 btn-glow transition-all duration-300`,size:"lg","data-testid":`button-start-${v.id}`,children:["Get Started",s.jsx(Er,{className:"ml-2 h-4 w-4"})]})]})]},v.id)})})]})}),s.jsx(Jt,{open:r,onOpenChange:a,children:s.jsxs(Gt,{className:"sm:max-w-md bg-card border-border",children:[s.jsxs(Yt,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(qs,{className:"h-6 w-6 text-primary"})}),s.jsx(Xt,{className:"text-xl font-semibold text-foreground",children:"Authentication Required"}),s.jsx(Qt,{className:"text-muted-foreground",children:"Please sign in or create an account to access our compliance assessment tools and marketplace."})]}),s.jsxs("div",{className:"grid gap-3 mt-6",children:[s.jsxs(F,{onClick:g,className:"w-full relative overflow-hidden group bg-[#3BE2E9] text-white hover:shadow-xl transition-all duration-300",size:"lg","data-testid":"button-modal-signup",children:[s.jsx("span",{"aria-hidden":"true",className:"pointer-events-none absolute -left-[70%] top-1/2 h-[250%] w-[250%] -translate-y-1/2 rounded-[50%_40%_60%_50%/60%_50%_40%_50%] bg-[#F345B8] rotate-[8deg] transform-gpu transition-transform duration-1000 ease-out group-hover:translate-x-[140%]"}),s.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[s.jsx(tn,{className:"mr-2 h-4 w-4"}),"Create Account"]})]}),s.jsxs(F,{onClick:h,variant:"outline",className:"w-full border-border hover:bg-accent transition-all duration-300",size:"lg","data-testid":"button-modal-login",children:[s.jsx(qs,{className:"mr-2 h-4 w-4"}),"Sign In"]})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Join thousands of organizations building better compliance programs"})})]})})]})};var Vg=e=>e.type==="checkbox",Fc=e=>e instanceof Date,Jr=e=>e==null;const ZV=e=>typeof e=="object";var Wn=e=>!Jr(e)&&!Array.isArray(e)&&ZV(e)&&!Fc(e),JV=e=>Wn(e)&&e.target?Vg(e.target)?e.target.checked:e.target.value:e,Rie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,eU=(e,t)=>e.has(Rie(t)),Mie=e=>{const t=e.constructor&&e.constructor.prototype;return Wn(t)&&t.hasOwnProperty("isPrototypeOf")},nE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nE&&(e instanceof Blob||r))&&(n||Wn(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!Mie(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=nr(e[a]));else return e;return t}var Vb=e=>/^\w*$/.test(e),Bn=e=>e===void 0,rE=e=>Array.isArray(e)?e.filter(Boolean):[],sE=e=>rE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(e,t,n)=>{if(!t||!Wn(e))return n;const r=(Vb(t)?[t]:sE(t)).reduce((a,i)=>Jr(a)?a:a[i],e);return Bn(r)||r===e?Bn(e[t])?n:e[t]:r},Rs=e=>typeof e=="boolean",Ut=(e,t,n)=>{let r=-1;const a=Vb(t)?[t]:sE(t),i=a.length,o=i-1;for(;++r<i;){const l=a[r];let c=n;if(r!==o){const u=e[l];c=Wn(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const wv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aE=M.createContext(null);aE.displayName="HookFormContext";const Li=()=>M.useContext(aE),tU=e=>{const{children:t,...n}=e;return M.createElement(aE.Provider,{value:n},t)};var nU=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Fa.all&&(t._proxyFormState[o]=!r||Fa.all),n&&(n[o]=!0),e[o]}});return a};const iE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Iie(e){const t=Li(),{control:n=t.control,disabled:r,name:a,exact:i}=e||{},[o,l]=M.useState(n._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return iE(()=>n._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!r&&l({...n._formState,...u})}}),[a,r,i]),M.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),M.useMemo(()=>nU(o,n,c.current,!1),[o,n])}var bi=e=>typeof e=="string",rU=(e,t,n,r,a)=>bi(e)?(r&&t.watch.add(e),ke(n,e,a)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),ke(n,i))):(r&&(t.watchAll=!0),n),BS=e=>Jr(e)||!ZV(e);function to(e,t,n=new WeakSet){if(BS(e)||BS(t))return e===t;if(Fc(e)&&Fc(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const i of r){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Fc(o)&&Fc(l)||Wn(o)&&Wn(l)||Array.isArray(o)&&Array.isArray(l)?!to(o,l,n):o!==l)return!1}}return!0}function Die(e){const t=Li(),{control:n=t.control,name:r,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(a),u=M.useRef(l),d=M.useRef(void 0);u.current=l;const f=M.useMemo(()=>n._getWatch(r,c.current),[n,r]),[m,h]=M.useState(u.current?u.current(f):f);return iE(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:g=>{if(!i){const p=rU(r,n._names,g.values||n._formValues,!1,c.current);if(u.current){const x=u.current(p);to(x,d.current)||(h(x),d.current=x)}else h(p)}}}),[n,i,r,o]),M.useEffect(()=>n._removeUnmounted()),m}function $ie(e){const t=Li(),{name:n,disabled:r,control:a=t.control,shouldUnregister:i,defaultValue:o}=e,l=eU(a._names.array,n),c=M.useMemo(()=>ke(a._formValues,n,ke(a._defaultValues,n,o)),[a,n,o]),u=Die({control:a,name:n,defaultValue:c,exact:!0}),d=Iie({control:a,name:n,exact:!0}),f=M.useRef(e),m=M.useRef(a.register(n,{...e.rules,value:u,...Rs(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const h=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!ke(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ke(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ke(d.validatingFields,n)},error:{enumerable:!0,get:()=>ke(d.errors,n)}}),[d,n]),g=M.useCallback(b=>m.current.onChange({target:{value:JV(b),name:n},type:wv.CHANGE}),[n]),p=M.useCallback(()=>m.current.onBlur({target:{value:ke(a._formValues,n),name:n},type:wv.BLUR}),[n,a._formValues]),x=M.useCallback(b=>{const w=ke(a._fields,n);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:N=>b.setCustomValidity(N),reportValidity:()=>b.reportValidity()})},[a._fields,n]),v=M.useMemo(()=>({name:n,value:u,...Rs(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:g,onBlur:p,ref:x}),[n,r,d.disabled,g,p,x,u]);return M.useEffect(()=>{const b=a._options.shouldUnregister||i;a.register(n,{...f.current.rules,...Rs(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(N,j)=>{const S=ke(a._fields,N);S&&S._f&&(S._f.mount=j)};if(w(n,!0),b){const N=nr(ke(a._options.defaultValues,n));Ut(a._defaultValues,n,N),Bn(ke(a._formValues,n))&&Ut(a._formValues,n,N)}return!l&&a.register(n),()=>{(l?b&&!a._state.action:b)?a.unregister(n):w(n,!1)}},[n,a,l,i]),M.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),M.useMemo(()=>({field:v,formState:d,fieldState:h}),[v,d,h])}const Ml=e=>e.render($ie(e));var sU=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},Eh=e=>Array.isArray(e)?e:[e],X_=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},hs=e=>Wn(e)&&!Object.keys(e).length,oE=e=>e.type==="file",Ba=e=>typeof e=="function",jv=e=>{if(!nE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aU=e=>e.type==="select-multiple",lE=e=>e.type==="radio",Lie=e=>lE(e)||Vg(e),cN=e=>jv(e)&&e.isConnected;function Fie(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Bn(e)?r++:e[t[r++]];return e}function Bie(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bn(e[t]))return!1;return!0}function Hn(e,t){const n=Array.isArray(t)?t:Vb(t)?[t]:sE(t),r=n.length===1?e:Fie(e,n),a=n.length-1,i=n[a];return r&&delete r[i],a!==0&&(Wn(r)&&hs(r)||Array.isArray(r)&&Bie(r))&&Hn(e,n.slice(0,-1)),e}var iU=e=>{for(const t in e)if(Ba(e[t]))return!0;return!1};function Nv(e,t={}){const n=Array.isArray(e);if(Wn(e)||n)for(const r in e)Array.isArray(e[r])||Wn(e[r])&&!iU(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Nv(e[r],t[r])):Jr(e[r])||(t[r]=!0);return t}function oU(e,t,n){const r=Array.isArray(e);if(Wn(e)||r)for(const a in e)Array.isArray(e[a])||Wn(e[a])&&!iU(e[a])?Bn(t)||BS(n[a])?n[a]=Array.isArray(e[a])?Nv(e[a],[]):{...Nv(e[a])}:oU(e[a],Jr(t)?{}:t[a],n[a]):n[a]=!to(e[a],t[a]);return n}var Wm=(e,t)=>oU(e,t,Nv(t));const Q_={value:!1,isValid:!1},Z_={value:!0,isValid:!0};var lU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bn(e[0].attributes.value)?Bn(e[0].value)||e[0].value===""?Z_:{value:e[0].value,isValid:!0}:Z_:Q_}return Q_},cU=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Bn(e)?e:t?e===""?NaN:e&&+e:n&&bi(e)?new Date(e):r?r(e):e;const J_={isValid:!1,value:null};var uU=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,J_):J_;function eR(e){const t=e.ref;return oE(t)?t.files:lE(t)?uU(e.refs).value:aU(t)?[...t.selectedOptions].map(({value:n})=>n):Vg(t)?lU(e.refs).value:cU(Bn(t.value)?e.ref.value:t.value,e)}var Vie=(e,t,n,r)=>{const a={};for(const i of e){const o=ke(t,i);o&&Ut(a,i,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},Sv=e=>e instanceof RegExp,qm=e=>Bn(e)?e:Sv(e)?e.source:Wn(e)?Sv(e.value)?e.value.source:e.value:e,tR=e=>({isOnSubmit:!e||e===Fa.onSubmit,isOnBlur:e===Fa.onBlur,isOnChange:e===Fa.onChange,isOnAll:e===Fa.all,isOnTouch:e===Fa.onTouched});const nR="AsyncFunction";var Uie=e=>!!e&&!!e.validate&&!!(Ba(e.validate)&&e.validate.constructor.name===nR||Wn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===nR)),zie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rR=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const kh=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const i=ke(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(kh(l,t))break}else if(Wn(l)&&kh(l,t))break}}};function sR(e,t,n){const r=ke(e,n);if(r||Vb(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const i=a.join("."),o=ke(t,i),l=ke(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:n}}var Wie=(e,t,n,r)=>{n(e);const{name:a,...i}=e;return hs(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!r||Fa.all))},qie=(e,t,n)=>!e||!t||e===t||Eh(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Hie=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,Kie=(e,t)=>!rE(ke(e,t)).length&&Hn(e,t),Gie=(e,t,n)=>{const r=Eh(ke(e,n));return Ut(r,"root",t[n]),Ut(e,n,r),e},jy=e=>bi(e);function aR(e,t,n="validate"){if(jy(e)||Array.isArray(e)&&e.every(jy)||Rs(e)&&!e)return{type:n,message:jy(e)?e:"",ref:t}}var Wu=e=>Wn(e)&&!Sv(e)?e:{value:e,message:""},iR=async(e,t,n,r,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:g,name:p,valueAsNumber:x,mount:v}=e._f,b=ke(n,p);if(!v||t.has(p))return{};const w=l?l[0]:o,N=k=>{a&&w.reportValidity&&(w.setCustomValidity(Rs(k)?"":k||""),w.reportValidity())},j={},S=lE(o),C=Vg(o),P=S||C,A=(x||oE(o))&&Bn(o.value)&&Bn(b)||jv(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,T=sU.bind(null,p,r,j),E=(k,R,I,D=qi.maxLength,B=qi.minLength)=>{const V=k?R:I;j[p]={type:k?D:B,message:V,ref:o,...T(k?D:B,V)}};if(i?!Array.isArray(b)||!b.length:c&&(!P&&(A||Jr(b))||Rs(b)&&!b||C&&!lU(l).isValid||S&&!uU(l).isValid)){const{value:k,message:R}=jy(c)?{value:!!c,message:c}:Wu(c);if(k&&(j[p]={type:qi.required,message:R,ref:w,...T(qi.required,R)},!r))return N(R),j}if(!A&&(!Jr(f)||!Jr(m))){let k,R;const I=Wu(m),D=Wu(f);if(!Jr(b)&&!isNaN(b)){const B=o.valueAsNumber||b&&+b;Jr(I.value)||(k=B>I.value),Jr(D.value)||(R=B<D.value)}else{const B=o.valueAsDate||new Date(b),V=z=>new Date(new Date().toDateString()+" "+z),O=o.type=="time",_=o.type=="week";bi(I.value)&&b&&(k=O?V(b)>V(I.value):_?b>I.value:B>new Date(I.value)),bi(D.value)&&b&&(R=O?V(b)<V(D.value):_?b<D.value:B<new Date(D.value))}if((k||R)&&(E(!!k,I.message,D.message,qi.max,qi.min),!r))return N(j[p].message),j}if((u||d)&&!A&&(bi(b)||i&&Array.isArray(b))){const k=Wu(u),R=Wu(d),I=!Jr(k.value)&&b.length>+k.value,D=!Jr(R.value)&&b.length<+R.value;if((I||D)&&(E(I,k.message,R.message),!r))return N(j[p].message),j}if(h&&!A&&bi(b)){const{value:k,message:R}=Wu(h);if(Sv(k)&&!b.match(k)&&(j[p]={type:qi.pattern,message:R,ref:o,...T(qi.pattern,R)},!r))return N(R),j}if(g){if(Ba(g)){const k=await g(b,n),R=aR(k,w);if(R&&(j[p]={...R,...T(qi.validate,R.message)},!r))return N(R.message),j}else if(Wn(g)){let k={};for(const R in g){if(!hs(k)&&!r)break;const I=aR(await g[R](b,n),w,R);I&&(k={...I,...T(R,I.message)},N(I.message),r&&(j[p]=k))}if(!hs(k)&&(j[p]={ref:w,...k},!r))return j}}return N(!0),j};const Yie={mode:Fa.onSubmit,reValidateMode:Fa.onChange,shouldFocusError:!0};function Xie(e={}){let t={...Yie,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},a=Wn(t.defaultValues)||Wn(t.values)?nr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:nr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const m={array:X_(),state:X_()},h=t.criteriaMode===Fa.all,g=q=>ee=>{clearTimeout(u),u=setTimeout(q,ee)},p=async q=>{if(!t.disabled&&(d.isValid||f.isValid||q)){const ee=t.resolver?hs((await C()).errors):await A(r,!0);ee!==n.isValid&&m.state.next({isValid:ee})}},x=(q,ee)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((q||Array.from(l.mount)).forEach(W=>{W&&(ee?Ut(n.validatingFields,W,ee):Hn(n.validatingFields,W))}),m.state.next({validatingFields:n.validatingFields,isValidating:!hs(n.validatingFields)}))},v=(q,ee=[],W,oe,fe=!0,xe=!0)=>{if(oe&&W&&!t.disabled){if(o.action=!0,xe&&Array.isArray(ke(r,q))){const we=W(ke(r,q),oe.argA,oe.argB);fe&&Ut(r,q,we)}if(xe&&Array.isArray(ke(n.errors,q))){const we=W(ke(n.errors,q),oe.argA,oe.argB);fe&&Ut(n.errors,q,we),Kie(n.errors,q)}if((d.touchedFields||f.touchedFields)&&xe&&Array.isArray(ke(n.touchedFields,q))){const we=W(ke(n.touchedFields,q),oe.argA,oe.argB);fe&&Ut(n.touchedFields,q,we)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Wm(a,i)),m.state.next({name:q,isDirty:E(q,ee),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ut(i,q,ee)},b=(q,ee)=>{Ut(n.errors,q,ee),m.state.next({errors:n.errors})},w=q=>{n.errors=q,m.state.next({errors:n.errors,isValid:!1})},N=(q,ee,W,oe)=>{const fe=ke(r,q);if(fe){const xe=ke(i,q,Bn(W)?ke(a,q):W);Bn(xe)||oe&&oe.defaultChecked||ee?Ut(i,q,ee?xe:eR(fe._f)):I(q,xe),o.mount&&p()}},j=(q,ee,W,oe,fe)=>{let xe=!1,we=!1;const Re={name:q};if(!t.disabled){if(!W||oe){(d.isDirty||f.isDirty)&&(we=n.isDirty,n.isDirty=Re.isDirty=E(),xe=we!==Re.isDirty);const Me=to(ke(a,q),ee);we=!!ke(n.dirtyFields,q),Me?Hn(n.dirtyFields,q):Ut(n.dirtyFields,q,!0),Re.dirtyFields=n.dirtyFields,xe=xe||(d.dirtyFields||f.dirtyFields)&&we!==!Me}if(W){const Me=ke(n.touchedFields,q);Me||(Ut(n.touchedFields,q,W),Re.touchedFields=n.touchedFields,xe=xe||(d.touchedFields||f.touchedFields)&&Me!==W)}xe&&fe&&m.state.next(Re)}return xe?Re:{}},S=(q,ee,W,oe)=>{const fe=ke(n.errors,q),xe=(d.isValid||f.isValid)&&Rs(ee)&&n.isValid!==ee;if(t.delayError&&W?(c=g(()=>b(q,W)),c(t.delayError)):(clearTimeout(u),c=null,W?Ut(n.errors,q,W):Hn(n.errors,q)),(W?!to(fe,W):fe)||!hs(oe)||xe){const we={...oe,...xe&&Rs(ee)?{isValid:ee}:{},errors:n.errors,name:q};n={...n,...we},m.state.next(we)}},C=async q=>{x(q,!0);const ee=await t.resolver(i,t.context,Vie(q||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return x(q),ee},P=async q=>{const{errors:ee}=await C(q);if(q)for(const W of q){const oe=ke(ee,W);oe?Ut(n.errors,W,oe):Hn(n.errors,W)}else n.errors=ee;return ee},A=async(q,ee,W={valid:!0})=>{for(const oe in q){const fe=q[oe];if(fe){const{_f:xe,...we}=fe;if(xe){const Re=l.array.has(xe.name),Me=fe._f&&Uie(fe._f);Me&&d.validatingFields&&x([oe],!0);const et=await iR(fe,l.disabled,i,h,t.shouldUseNativeValidation&&!ee,Re);if(Me&&d.validatingFields&&x([oe]),et[xe.name]&&(W.valid=!1,ee))break;!ee&&(ke(et,xe.name)?Re?Gie(n.errors,et,xe.name):Ut(n.errors,xe.name,et[xe.name]):Hn(n.errors,xe.name))}!hs(we)&&await A(we,ee,W)}}return W.valid},T=()=>{for(const q of l.unMount){const ee=ke(r,q);ee&&(ee._f.refs?ee._f.refs.every(W=>!cN(W)):!cN(ee._f.ref))&&$(q)}l.unMount=new Set},E=(q,ee)=>!t.disabled&&(q&&ee&&Ut(i,q,ee),!to(z(),a)),k=(q,ee,W)=>rU(q,l,{...o.mount?i:Bn(ee)?a:bi(q)?{[q]:ee}:ee},W,ee),R=q=>rE(ke(o.mount?i:a,q,t.shouldUnregister?ke(a,q,[]):[])),I=(q,ee,W={})=>{const oe=ke(r,q);let fe=ee;if(oe){const xe=oe._f;xe&&(!xe.disabled&&Ut(i,q,cU(ee,xe)),fe=jv(xe.ref)&&Jr(ee)?"":ee,aU(xe.ref)?[...xe.ref.options].forEach(we=>we.selected=fe.includes(we.value)):xe.refs?Vg(xe.ref)?xe.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(fe)?we.checked=!!fe.find(Re=>Re===we.value):we.checked=fe===we.value||!!fe)}):xe.refs.forEach(we=>we.checked=we.value===fe):oE(xe.ref)?xe.ref.value="":(xe.ref.value=fe,xe.ref.type||m.state.next({name:q,values:nr(i)})))}(W.shouldDirty||W.shouldTouch)&&j(q,fe,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&_(q)},D=(q,ee,W)=>{for(const oe in ee){if(!ee.hasOwnProperty(oe))return;const fe=ee[oe],xe=q+"."+oe,we=ke(r,xe);(l.array.has(q)||Wn(fe)||we&&!we._f)&&!Fc(fe)?D(xe,fe,W):I(xe,fe,W)}},B=(q,ee,W={})=>{const oe=ke(r,q),fe=l.array.has(q),xe=nr(ee);Ut(i,q,xe),fe?(m.array.next({name:q,values:nr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&m.state.next({name:q,dirtyFields:Wm(a,i),isDirty:E(q,xe)})):oe&&!oe._f&&!Jr(xe)?D(q,xe,W):I(q,xe,W),rR(q,l)&&m.state.next({...n,name:q}),m.state.next({name:o.mount?q:void 0,values:nr(i)})},V=async q=>{o.mount=!0;const ee=q.target;let W=ee.name,oe=!0;const fe=ke(r,W),xe=Me=>{oe=Number.isNaN(Me)||Fc(Me)&&isNaN(Me.getTime())||to(Me,ke(i,W,Me))},we=tR(t.mode),Re=tR(t.reValidateMode);if(fe){let Me,et;const Ln=ee.type?eR(fe._f):JV(q),Zt=q.type===wv.BLUR||q.type===wv.FOCUS_OUT,Kr=!zie(fe._f)&&!t.resolver&&!ke(n.errors,W)&&!fe._f.deps||Hie(Zt,ke(n.touchedFields,W),n.isSubmitted,Re,we),As=rR(W,l,Zt);Ut(i,W,Ln),Zt?(!ee||!ee.readOnly)&&(fe._f.onBlur&&fe._f.onBlur(q),c&&c(0)):fe._f.onChange&&fe._f.onChange(q);const dr=j(W,Ln,Zt),ds=!hs(dr)||As;if(!Zt&&m.state.next({name:W,type:q.type,values:nr(i)}),Kr)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Zt&&p():Zt||p()),ds&&m.state.next({name:W,...As?{}:dr});if(!Zt&&As&&m.state.next({...n}),t.resolver){const{errors:Jn}=await C([W]);if(xe(Ln),oe){const Vo=sR(n.errors,r,W),zi=sR(Jn,r,Vo.name||W);Me=zi.error,W=zi.name,et=hs(Jn)}}else x([W],!0),Me=(await iR(fe,l.disabled,i,h,t.shouldUseNativeValidation))[W],x([W]),xe(Ln),oe&&(Me?et=!1:(d.isValid||f.isValid)&&(et=await A(r,!0)));oe&&(fe._f.deps&&_(fe._f.deps),S(W,et,Me,dr))}},O=(q,ee)=>{if(ke(n.errors,ee)&&q.focus)return q.focus(),1},_=async(q,ee={})=>{let W,oe;const fe=Eh(q);if(t.resolver){const xe=await P(Bn(q)?q:fe);W=hs(xe),oe=q?!fe.some(we=>ke(xe,we)):W}else q?(oe=(await Promise.all(fe.map(async xe=>{const we=ke(r,xe);return await A(we&&we._f?{[xe]:we}:we)}))).every(Boolean),!(!oe&&!n.isValid)&&p()):oe=W=await A(r);return m.state.next({...!bi(q)||(d.isValid||f.isValid)&&W!==n.isValid?{}:{name:q},...t.resolver||!q?{isValid:W}:{},errors:n.errors}),ee.shouldFocus&&!oe&&kh(r,O,q?fe:l.mount),oe},z=q=>{const ee={...o.mount?i:a};return Bn(q)?ee:bi(q)?ke(ee,q):q.map(W=>ke(ee,W))},ne=(q,ee)=>({invalid:!!ke((ee||n).errors,q),isDirty:!!ke((ee||n).dirtyFields,q),error:ke((ee||n).errors,q),isValidating:!!ke(n.validatingFields,q),isTouched:!!ke((ee||n).touchedFields,q)}),Y=q=>{q&&Eh(q).forEach(ee=>Hn(n.errors,ee)),m.state.next({errors:q?n.errors:{}})},Q=(q,ee,W)=>{const oe=(ke(r,q,{_f:{}})._f||{}).ref,fe=ke(n.errors,q)||{},{ref:xe,message:we,type:Re,...Me}=fe;Ut(n.errors,q,{...Me,...ee,ref:oe}),m.state.next({name:q,errors:n.errors,isValid:!1}),W&&W.shouldFocus&&oe&&oe.focus&&oe.focus()},ie=(q,ee)=>Ba(q)?m.state.subscribe({next:W=>"values"in W&&q(k(void 0,ee),W)}):k(q,ee,!0),ae=q=>m.state.subscribe({next:ee=>{qie(q.name,ee.name,q.exact)&&Wie(ee,q.formState||d,Fe,q.reRenderRoot)&&q.callback({values:{...i},...n,...ee,defaultValues:a})}}).unsubscribe,ge=q=>(o.mount=!0,f={...f,...q.formState},ae({...q,formState:f})),$=(q,ee={})=>{for(const W of q?Eh(q):l.mount)l.mount.delete(W),l.array.delete(W),ee.keepValue||(Hn(r,W),Hn(i,W)),!ee.keepError&&Hn(n.errors,W),!ee.keepDirty&&Hn(n.dirtyFields,W),!ee.keepTouched&&Hn(n.touchedFields,W),!ee.keepIsValidating&&Hn(n.validatingFields,W),!t.shouldUnregister&&!ee.keepDefaultValue&&Hn(a,W);m.state.next({values:nr(i)}),m.state.next({...n,...ee.keepDirty?{isDirty:E()}:{}}),!ee.keepIsValid&&p()},J=({disabled:q,name:ee})=>{(Rs(q)&&o.mount||q||l.disabled.has(ee))&&(q?l.disabled.add(ee):l.disabled.delete(ee))},Z=(q,ee={})=>{let W=ke(r,q);const oe=Rs(ee.disabled)||Rs(t.disabled);return Ut(r,q,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:q}},name:q,mount:!0,...ee}}),l.mount.add(q),W?J({disabled:Rs(ee.disabled)?ee.disabled:t.disabled,name:q}):N(q,!0,ee.value),{...oe?{disabled:ee.disabled||t.disabled}:{},...t.progressive?{required:!!ee.required,min:qm(ee.min),max:qm(ee.max),minLength:qm(ee.minLength),maxLength:qm(ee.maxLength),pattern:qm(ee.pattern)}:{},name:q,onChange:V,onBlur:V,ref:fe=>{if(fe){Z(q,ee),W=ke(r,q);const xe=Bn(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,we=Lie(xe),Re=W._f.refs||[];if(we?Re.find(Me=>Me===xe):xe===W._f.ref)return;Ut(r,q,{_f:{...W._f,...we?{refs:[...Re.filter(cN),xe,...Array.isArray(ke(a,q))?[{}]:[]],ref:{type:xe.type,name:q}}:{ref:xe}}}),N(q,!1,void 0,xe)}else W=ke(r,q,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||ee.shouldUnregister)&&!(eU(l.array,q)&&o.action)&&l.unMount.add(q)}}},L=()=>t.shouldFocusError&&kh(r,O,l.mount),ce=q=>{Rs(q)&&(m.state.next({disabled:q}),kh(r,(ee,W)=>{const oe=ke(r,W);oe&&(ee.disabled=oe._f.disabled||q,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(fe=>{fe.disabled=oe._f.disabled||q}))},0,!1))},H=(q,ee)=>async W=>{let oe;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let fe=nr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:we}=await C();n.errors=xe,fe=nr(we)}else await A(r);if(l.disabled.size)for(const xe of l.disabled)Hn(fe,xe);if(Hn(n.errors,"root"),hs(n.errors)){m.state.next({errors:{}});try{await q(fe,W)}catch(xe){oe=xe}}else ee&&await ee({...n.errors},W),L(),setTimeout(L);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:hs(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},Se=(q,ee={})=>{ke(r,q)&&(Bn(ee.defaultValue)?B(q,nr(ke(a,q))):(B(q,ee.defaultValue),Ut(a,q,nr(ee.defaultValue))),ee.keepTouched||Hn(n.touchedFields,q),ee.keepDirty||(Hn(n.dirtyFields,q),n.isDirty=ee.defaultValue?E(q,nr(ke(a,q))):E()),ee.keepError||(Hn(n.errors,q),d.isValid&&p()),m.state.next({...n}))},U=(q,ee={})=>{const W=q?nr(q):a,oe=nr(W),fe=hs(q),xe=fe?a:oe;if(ee.keepDefaultValues||(a=W),!ee.keepValues){if(ee.keepDirtyValues){const we=new Set([...l.mount,...Object.keys(Wm(a,i))]);for(const Re of Array.from(we))ke(n.dirtyFields,Re)?Ut(xe,Re,ke(i,Re)):B(Re,ke(xe,Re))}else{if(nE&&Bn(q))for(const we of l.mount){const Re=ke(r,we);if(Re&&Re._f){const Me=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(jv(Me)){const et=Me.closest("form");if(et){et.reset();break}}}}if(ee.keepFieldsRef)for(const we of l.mount)B(we,ke(xe,we));else r={}}i=t.shouldUnregister?ee.keepDefaultValues?nr(a):{}:nr(xe),m.array.next({values:{...xe}}),m.state.next({values:{...xe}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:ee.keepSubmitCount?n.submitCount:0,isDirty:fe?!1:ee.keepDirty?n.isDirty:!!(ee.keepDefaultValues&&!to(q,a)),isSubmitted:ee.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:fe?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?Wm(a,i):n.dirtyFields:ee.keepDefaultValues&&q?Wm(a,q):ee.keepDirty?n.dirtyFields:{},touchedFields:ee.keepTouched?n.touchedFields:{},errors:ee.keepErrors?n.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},re=(q,ee)=>U(Ba(q)?q(i):q,ee),me=(q,ee={})=>{const W=ke(r,q),oe=W&&W._f;if(oe){const fe=oe.refs?oe.refs[0]:oe.ref;fe.focus&&(fe.focus(),ee.shouldSelect&&Ba(fe.select)&&fe.select())}},Fe=q=>{n={...n,...q}},mt={control:{register:Z,unregister:$,getFieldState:ne,handleSubmit:H,setError:Q,_subscribe:ae,_runSchema:C,_focusError:L,_getWatch:k,_getDirty:E,_setValid:p,_setFieldArray:v,_setDisabledField:J,_setErrors:w,_getFieldArray:R,_reset:U,_resetDefaultValues:()=>Ba(t.defaultValues)&&t.defaultValues().then(q=>{re(q,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:ce,_subjects:m,_proxyFormState:d,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(q){o=q},get _defaultValues(){return a},get _names(){return l},set _names(q){l=q},get _formState(){return n},get _options(){return t},set _options(q){t={...t,...q}}},subscribe:ge,trigger:_,register:Z,handleSubmit:H,watch:ie,setValue:B,getValues:z,reset:re,resetField:Se,clearErrors:Y,unregister:$,setError:Q,setFocus:me,getFieldState:ne};return{...mt,formControl:mt}}function Fi(e={}){const t=M.useRef(void 0),n=M.useRef(void 0),[r,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Ba(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ba(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ba(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Xie(e);t.current={...l,formState:r}}const i=t.current.control;return i._options=e,iE(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),M.useEffect(()=>{e.values&&!to(e.values,n.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),n.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=nU(r,i),t.current}const oR=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ke(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},dU=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?oR(r.ref,n,e):r.refs&&r.refs.forEach(a=>oR(a,n,e))}},Qie=(e,t)=>{t.shouldUseNativeValidation&&dU(e,t);const n={};for(const r in e){const a=ke(t.fields,r),i=Object.assign(e[r]||{},{ref:a&&a.ref});if(Zie(t.names||Object.keys(e),r)){const o=Object.assign({},ke(n,r));Ut(o,"root",i),Ut(n,r,o)}else Ut(n,r,i)}return n},Zie=(e,t)=>e.some(n=>n.startsWith(t+"."));var Jie=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=sU(o,t,n,a,u?[].concat(u,r.message):r.message)}e.shift()}return n},lc=function(e,t,n){return n===void 0&&(n={}),function(r,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return i.shouldUseNativeValidation&&dU({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Qie(Jie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ot;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Ot||(Ot={}));var lR;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(lR||(lR={}));const Be=Ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),el=e=>{switch(typeof e){case"undefined":return Be.undefined;case"string":return Be.string;case"number":return Number.isNaN(e)?Be.nan:Be.number;case"boolean":return Be.boolean;case"function":return Be.function;case"bigint":return Be.bigint;case"symbol":return Be.symbol;case"object":return Array.isArray(e)?Be.array:e===null?Be.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Be.promise:typeof Map<"u"&&e instanceof Map?Be.map:typeof Set<"u"&&e instanceof Set?Be.set:typeof Date<"u"&&e instanceof Date?Be.date:Be.object;default:return Be.unknown}},Ce=Ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ao extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),r}static assert(t){if(!(t instanceof Ao))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];n[i]=n[i]||[],n[i].push(t(a))}else r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ao.create=e=>new Ao(e);const VS=(e,t)=>{let n;switch(e.code){case Ce.invalid_type:e.received===Be.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ot.jsonStringifyReplacer)}`;break;case Ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ot.joinValues(e.keys,", ")}`;break;case Ce.invalid_union:n="Invalid input";break;case Ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ot.joinValues(e.options)}`;break;case Ce.invalid_enum_value:n=`Invalid enum value. Expected ${Ot.joinValues(e.options)}, received '${e.received}'`;break;case Ce.invalid_arguments:n="Invalid function arguments";break;case Ce.invalid_return_type:n="Invalid function return type";break;case Ce.invalid_date:n="Invalid date";break;case Ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ot.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ce.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ce.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ce.custom:n="Invalid input";break;case Ce.invalid_intersection_types:n="Intersection results could not be merged";break;case Ce.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ce.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ot.assertNever(e)}return{message:n}};let eoe=VS;function toe(){return eoe}const noe=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function _e(e,t){const n=toe(),r=noe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===VS?void 0:VS].filter(a=>!!a)});e.common.issues.push(r)}class Hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return tt;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const i=await a.key,o=await a.value;r.push({key:i,value:o})}return Hs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return tt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const tt=Object.freeze({status:"aborted"}),mh=e=>({status:"dirty",value:e}),ja=e=>({status:"valid",value:e}),cR=e=>e.status==="aborted",uR=e=>e.status==="dirty",df=e=>e.status==="valid",Cv=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class Yl{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const dR=(e,t)=>{if(df(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ao(e.common.issues);return this._error=n,this._error}}};function pt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:a}}class Tt{get description(){return this._def.description}_getType(t){return el(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Hs,ctx:{common:t.parent.common,data:t.data,parsedType:el(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Cv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},a=this._parseSync({data:t,path:r.path,parent:r});return dR(r,a)}"~validate"(t){var r,a;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return df(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(a=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>df(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:el(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(Cv(a)?a:Promise.resolve(a));return dR(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:Ce.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new hf({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Il.create(this,this._def)}nullable(){return pf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pi.create(this)}promise(){return kv.create(this,this._def)}or(t){return Av.create([this,t],this._def)}and(t){return Ev.create(this,t,this._def)}transform(t){return new hf({...pt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new WS({...pt(this._def),innerType:this,defaultValue:n,typeName:nt.ZodDefault})}brand(){return new Coe({typeName:nt.ZodBranded,type:this,...pt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new qS({...pt(this._def),innerType:this,catchValue:n,typeName:nt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return cE.create(this,t)}readonly(){return HS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const roe=/^c[^\s-]{8,}$/i,soe=/^[0-9a-z]+$/,aoe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ioe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ooe=/^[a-z0-9_-]{21}$/i,loe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,coe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,uoe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,doe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uN;const foe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,moe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hoe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,poe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,goe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,xoe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yoe=new RegExp(`^${fU}$`);function mU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function voe(e){return new RegExp(`^${mU(e)}$`)}function boe(e){let t=`${fU}T${mU(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function woe(e,t){return!!((t==="v4"||!t)&&foe.test(e)||(t==="v6"||!t)&&hoe.test(e))}function joe(e,t){if(!loe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Noe(e,t){return!!((t==="v4"||!t)&&moe.test(e)||(t==="v6"||!t)&&poe.test(e))}class bl extends Tt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Be.string){const i=this._getOrReturnCtx(t);return _e(i,{code:Ce.invalid_type,expected:Be.string,received:i.parsedType}),tt}const r=new Hs;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?_e(a,{code:Ce.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&_e(a,{code:Ce.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")uoe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"email",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")uN||(uN=new RegExp(doe,"u")),uN.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"emoji",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")ioe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"uuid",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")ooe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"nanoid",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")roe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")soe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cuid2",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")aoe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"ulid",code:Ce.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),_e(a,{validation:"url",code:Ce.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"regex",code:Ce.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?boe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?yoe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?voe(i).test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?coe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"duration",code:Ce.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?woe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"ip",code:Ce.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?joe(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"jwt",code:Ce.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Noe(t.data,i.version)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"cidr",code:Ce.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?goe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"base64",code:Ce.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?xoe.test(t.data)||(a=this._getOrReturnCtx(t,a),_e(a,{validation:"base64url",code:Ce.invalid_string,message:i.message}),r.dirty()):Ot.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:Ce.invalid_string,...Ue.errToObj(r)})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ue.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ue.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ue.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ue.errToObj(n)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new bl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bl.create=e=>new bl({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...pt(e)});function Soe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class ff extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Be.number){const i=this._getOrReturnCtx(t);return _e(i,{code:Ce.invalid_type,expected:Be.number,received:i.parsedType}),tt}let r;const a=new Hs;for(const i of this._def.checks)i.kind==="int"?Ot.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Soe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.not_finite,message:i.message}),a.dirty()):Ot.assertNever(i);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ue.toString(n))}setLimit(t,n,r,a){return new ff({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ue.toString(a)}]})}_addCheck(t){return new ff({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ot.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ff.create=e=>new ff({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...pt(e)});class wp extends Tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Be.bigint)return this._getInvalidInput(t);let r;const a=new Hs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),_e(r,{code:Ce.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Ot.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return _e(n,{code:Ce.invalid_type,expected:Be.bigint,received:n.parsedType}),tt}gte(t,n){return this.setLimit("min",t,!0,Ue.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ue.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ue.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ue.toString(n))}setLimit(t,n,r,a){return new wp({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ue.toString(a)}]})}_addCheck(t){return new wp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}wp.create=e=>new wp({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...pt(e)});class US extends Tt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Be.boolean){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.boolean,received:r.parsedType}),tt}return ja(t.data)}}US.create=e=>new US({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...pt(e)});class Pv extends Tt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Be.date){const i=this._getOrReturnCtx(t);return _e(i,{code:Ce.invalid_type,expected:Be.date,received:i.parsedType}),tt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return _e(i,{code:Ce.invalid_date}),tt}const r=new Hs;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),_e(a,{code:Ce.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ot.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pv({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Pv.create=e=>new Pv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...pt(e)});class fR extends Tt{_parse(t){if(this._getType(t)!==Be.symbol){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.symbol,received:r.parsedType}),tt}return ja(t.data)}}fR.create=e=>new fR({typeName:nt.ZodSymbol,...pt(e)});class mR extends Tt{_parse(t){if(this._getType(t)!==Be.undefined){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.undefined,received:r.parsedType}),tt}return ja(t.data)}}mR.create=e=>new mR({typeName:nt.ZodUndefined,...pt(e)});class hR extends Tt{_parse(t){if(this._getType(t)!==Be.null){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.null,received:r.parsedType}),tt}return ja(t.data)}}hR.create=e=>new hR({typeName:nt.ZodNull,...pt(e)});class pR extends Tt{constructor(){super(...arguments),this._any=!0}_parse(t){return ja(t.data)}}pR.create=e=>new pR({typeName:nt.ZodAny,...pt(e)});class gR extends Tt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ja(t.data)}}gR.create=e=>new gR({typeName:nt.ZodUnknown,...pt(e)});class Xl extends Tt{_parse(t){const n=this._getOrReturnCtx(t);return _e(n,{code:Ce.invalid_type,expected:Be.never,received:n.parsedType}),tt}}Xl.create=e=>new Xl({typeName:nt.ZodNever,...pt(e)});class xR extends Tt{_parse(t){if(this._getType(t)!==Be.undefined){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.void,received:r.parsedType}),tt}return ja(t.data)}}xR.create=e=>new xR({typeName:nt.ZodVoid,...pt(e)});class Pi extends Tt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Be.array)return _e(n,{code:Ce.invalid_type,expected:Be.array,received:n.parsedType}),tt;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(_e(n,{code:o?Ce.too_big:Ce.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(_e(n,{code:Ce.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(_e(n,{code:Ce.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new Yl(n,o,n.path,l)))).then(o=>Hs.mergeArray(r,o));const i=[...n.data].map((o,l)=>a.type._parseSync(new Yl(n,o,n.path,l)));return Hs.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Pi({...this._def,minLength:{value:t,message:Ue.toString(n)}})}max(t,n){return new Pi({...this._def,maxLength:{value:t,message:Ue.toString(n)}})}length(t,n){return new Pi({...this._def,exactLength:{value:t,message:Ue.toString(n)}})}nonempty(t){return this.min(1,t)}}Pi.create=(e,t)=>new Pi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...pt(t)});function Xu(e){if(e instanceof Gn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Il.create(Xu(r))}return new Gn({...e._def,shape:()=>t})}else return e instanceof Pi?new Pi({...e._def,type:Xu(e.element)}):e instanceof Il?Il.create(Xu(e.unwrap())):e instanceof pf?pf.create(Xu(e.unwrap())):e instanceof wu?wu.create(e.items.map(t=>Xu(t))):e}class Gn extends Tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ot.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==Be.object){const u=this._getOrReturnCtx(t);return _e(u,{code:Ce.invalid_type,expected:Be.object,received:u.parsedType}),tt}const{status:r,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Xl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Yl(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Xl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(_e(a,{code:Ce.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Yl(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Hs.mergeObjectSync(r,u)):Hs.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new Gn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Gn({...this._def,unknownKeys:"strip"})}passthrough(){return new Gn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Gn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Gn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Gn({...this._def,catchall:t})}pick(t){const n={};for(const r of Ot.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Gn({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ot.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Gn({...this._def,shape:()=>n})}deepPartial(){return Xu(this)}partial(t){const n={};for(const r of Ot.objectKeys(this.shape)){const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}return new Gn({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ot.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Il;)i=i._def.innerType;n[r]=i}return new Gn({...this._def,shape:()=>n})}keyof(){return hU(Ot.objectKeys(this.shape))}}Gn.create=(e,t)=>new Gn({shape:()=>e,unknownKeys:"strip",catchall:Xl.create(),typeName:nt.ZodObject,...pt(t)});Gn.strictCreate=(e,t)=>new Gn({shape:()=>e,unknownKeys:"strict",catchall:Xl.create(),typeName:nt.ZodObject,...pt(t)});Gn.lazycreate=(e,t)=>new Gn({shape:e,unknownKeys:"strip",catchall:Xl.create(),typeName:nt.ZodObject,...pt(t)});class Av extends Tt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ao(l.ctx.common.issues));return _e(n,{code:Ce.invalid_union,unionErrors:o}),tt}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ao(c));return _e(n,{code:Ce.invalid_union,unionErrors:l}),tt}}get options(){return this._def.options}}Av.create=(e,t)=>new Av({options:e,typeName:nt.ZodUnion,...pt(t)});function zS(e,t){const n=el(e),r=el(t);if(e===t)return{valid:!0,data:e};if(n===Be.object&&r===Be.object){const a=Ot.objectKeys(t),i=Ot.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=zS(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Be.array&&r===Be.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=zS(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Be.date&&r===Be.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ev extends Tt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,o)=>{if(cR(i)||cR(o))return tt;const l=zS(i.value,o.value);return l.valid?((uR(i)||uR(o))&&n.dirty(),{status:n.value,value:l.data}):(_e(r,{code:Ce.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ev.create=(e,t,n)=>new Ev({left:e,right:t,typeName:nt.ZodIntersection,...pt(n)});class wu extends Tt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.array)return _e(r,{code:Ce.invalid_type,expected:Be.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return _e(r,{code:Ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:Ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Yl(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Hs.mergeArray(n,o)):Hs.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new wu({...this._def,rest:t})}}wu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wu({items:e,typeName:nt.ZodTuple,rest:null,...pt(t)})};class yR extends Tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.map)return _e(r,{code:Ce.invalid_type,expected:Be.map,received:r.parsedType}),tt;const a=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:a._parse(new Yl(r,l,r.path,[u,"key"])),value:i._parse(new Yl(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}yR.create=(e,t,n)=>new yR({valueType:t,keyType:e,typeName:nt.ZodMap,...pt(n)});class jp extends Tt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Be.set)return _e(r,{code:Ce.invalid_type,expected:Be.set,received:r.parsedType}),tt;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(_e(r,{code:Ce.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(_e(r,{code:Ce.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return tt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Yl(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new jp({...this._def,minSize:{value:t,message:Ue.toString(n)}})}max(t,n){return new jp({...this._def,maxSize:{value:t,message:Ue.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}jp.create=(e,t)=>new jp({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...pt(t)});class vR extends Tt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vR.create=(e,t)=>new vR({getter:e,typeName:nt.ZodLazy,...pt(t)});class bR extends Tt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return _e(n,{received:n.data,code:Ce.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:t.data}}get value(){return this._def.value}}bR.create=(e,t)=>new bR({value:e,typeName:nt.ZodLiteral,...pt(t)});function hU(e,t){return new mf({values:e,typeName:nt.ZodEnum,...pt(t)})}class mf extends Tt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return _e(n,{expected:Ot.joinValues(r),received:n.parsedType,code:Ce.invalid_type}),tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return _e(n,{received:n.data,code:Ce.invalid_enum_value,options:r}),tt}return ja(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return mf.create(t,{...this._def,...n})}exclude(t,n=this._def){return mf.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}mf.create=hU;class wR extends Tt{_parse(t){const n=Ot.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Be.string&&r.parsedType!==Be.number){const a=Ot.objectValues(n);return _e(r,{expected:Ot.joinValues(a),received:r.parsedType,code:Ce.invalid_type}),tt}if(this._cache||(this._cache=new Set(Ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Ot.objectValues(n);return _e(r,{received:r.data,code:Ce.invalid_enum_value,options:a}),tt}return ja(t.data)}get enum(){return this._def.values}}wR.create=(e,t)=>new wR({values:e,typeName:nt.ZodNativeEnum,...pt(t)});class kv extends Tt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Be.promise&&n.common.async===!1)return _e(n,{code:Ce.invalid_type,expected:Be.promise,received:n.parsedType}),tt;const r=n.parsedType===Be.promise?n.data:Promise.resolve(n.data);return ja(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kv.create=(e,t)=>new kv({type:e,typeName:nt.ZodPromise,...pt(t)});class hf extends Tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{_e(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return tt;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?tt:c.status==="dirty"||n.value==="dirty"?mh(c.value):c});{if(n.value==="aborted")return tt;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?tt:l.status==="dirty"||n.value==="dirty"?mh(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?tt:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!df(o))return tt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>df(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:n.value,value:l})):tt);Ot.assertNever(a)}}hf.create=(e,t,n)=>new hf({schema:e,typeName:nt.ZodEffects,effect:t,...pt(n)});hf.createWithPreprocess=(e,t,n)=>new hf({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...pt(n)});class Il extends Tt{_parse(t){return this._getType(t)===Be.undefined?ja(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Il.create=(e,t)=>new Il({innerType:e,typeName:nt.ZodOptional,...pt(t)});class pf extends Tt{_parse(t){return this._getType(t)===Be.null?ja(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}pf.create=(e,t)=>new pf({innerType:e,typeName:nt.ZodNullable,...pt(t)});class WS extends Tt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}WS.create=(e,t)=>new WS({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...pt(t)});class qS extends Tt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Cv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ao(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ao(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}qS.create=(e,t)=>new qS({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...pt(t)});class jR extends Tt{_parse(t){if(this._getType(t)!==Be.nan){const r=this._getOrReturnCtx(t);return _e(r,{code:Ce.invalid_type,expected:Be.nan,received:r.parsedType}),tt}return{status:"valid",value:t.data}}}jR.create=e=>new jR({typeName:nt.ZodNaN,...pt(e)});class Coe extends Tt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cE extends Tt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?tt:i.status==="dirty"?(n.dirty(),mh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new cE({in:t,out:n,typeName:nt.ZodPipeline})}}class HS extends Tt{_parse(t){const n=this._def.innerType._parse(t),r=a=>(df(a)&&(a.value=Object.freeze(a.value)),a);return Cv(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}HS.create=(e,t)=>new HS({innerType:e,typeName:nt.ZodReadonly,...pt(t)});var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const ot=bl.create,Ub=ff.create,Poe=US.create;Xl.create;const Eo=Pi.create,Mr=Gn.create;Av.create;Ev.create;wu.create;const Aoe=mf.create;kv.create;Il.create;pf.create;const ye=y.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ye.displayName="Input";var Eoe="Label",pU=y.forwardRef((e,t)=>s.jsx(Te.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pU.displayName=Eoe;var gU=pU;const koe=Xf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),te=y.forwardRef(({className:e,...t},n)=>s.jsx(gU,{ref:n,className:se(koe(),e),...t}));te.displayName=gU.displayName;const Toe=Mr({email:ot().email("Invalid email address"),password:ot().min(1,"Password is required")}),Ooe=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState(!1),c=Rt(),{login:u}=Cs();y.useEffect(()=>{const g=setTimeout(()=>l(!0),100);return()=>clearTimeout(g)},[]);const{register:d,handleSubmit:f,formState:{errors:m}}=Fi({resolver:lc(Toe)}),h=async g=>{r(!0),i(null);try{const p=await fetch("/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),x=await p.json();p.ok?(u(x.token,x.user),c("/dashboard")):i(x.message||"Login failed")}catch{i("Network error. Please try again.")}finally{r(!1)}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container relative min-h-[calc(100vh-4rem)] flex-col items-center justify-center flex lg:max-w-none lg:px-0",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[s.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Sign in to your account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your email and password to access your account"})]}),s.jsx(K,{className:`transition-all duration-[1600ms] ease-out ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:s.jsxs("form",{onSubmit:f(h),children:[s.jsxs(X,{className:"pt-6 space-y-4",children:[a&&s.jsx(Ft,{variant:"destructive",children:s.jsx(Bt,{children:a})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",type:"email",placeholder:"name@company.com",...d("email"),disabled:n}),m.email&&s.jsx("p",{className:"text-sm text-destructive",children:m.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"password",type:e?"text":"password",...d("password"),disabled:n}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>t(!e),disabled:n,children:e?s.jsx(sf,{className:"h-4 w-4"}):s.jsx(Ws,{className:"h-4 w-4"})})]}),m.password&&s.jsx("p",{className:"text-sm text-destructive",children:m.password.message})]})]}),s.jsxs(sm,{className:"flex flex-col space-y-4",children:[s.jsxs(F,{type:"submit",className:"w-full",disabled:n,children:[n&&s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Sign In"]}),s.jsxs(F,{type:"button",variant:"outline",className:"w-full",disabled:n,onClick:async()=>{r(!0),i(null);try{const g=await fetch("/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"test-1761057880863-pxseqx@example.com",password:"secure_dev_admin_2024"})}),p=await g.json();g.ok?(u(p.token,p.user),c("/dashboard")):i(p.message||"Test login failed")}catch{i("Network error. Please try again.")}finally{r(!1)}},children:[n&&s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Test Login (Dev Only)"]}),s.jsx(F,{type:"button",variant:"secondary",className:"w-full",disabled:n,onClick:()=>c("/admin/login"),"data-testid":"button-admin-login",children:"Admin Login"})]})]})}),s.jsx("div",{className:"px-8 text-center text-sm text-muted-foreground",children:s.jsx(xp,{to:"/forgot-password",className:"hover:text-primary underline underline-offset-4",children:"Forgot your password?"})}),s.jsxs("div",{className:"px-8 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",s.jsx(xp,{to:"/register",className:"hover:text-primary underline underline-offset-4",children:"Sign up"})]})]})})})})};function Ug(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zb="Checkbox",[_oe,b9e]=Zn(zb),[Roe,uE]=_oe(zb);function Moe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[m,h]=zs({prop:n,defaultProp:a??!1,onChange:c,caller:zb}),[g,p]=y.useState(null),[x,v]=y.useState(null),b=y.useRef(!1),w=g?!!o||!!g.closest("form"):!0,N={checked:m,disabled:i,setChecked:h,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Dl(a)?!1:a,isFormControl:w,bubbleInput:x,setBubbleInput:v};return s.jsx(Roe,{scope:t,...N,children:Ioe(f)?f(N):r})}var xU="CheckboxTrigger",yU=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:h,bubbleInput:g}=uE(xU,e),p=Ke(a,d),x=y.useRef(c);return y.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const b=()=>f(x.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,f]),s.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":Dl(c)?"mixed":c,"aria-required":u,"data-state":NU(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:p,onKeyDown:be(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:be(n,v=>{f(b=>Dl(b)?!0:!b),g&&h&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});yU.displayName=xU;var dE=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(Moe,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(yU,{...f,ref:t,__scopeCheckbox:n}),m&&s.jsx(jU,{__scopeCheckbox:n})]})})});dE.displayName=zb;var vU="CheckboxIndicator",bU=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=uE(vU,n);return s.jsx(wr,{present:r||Dl(i.checked)||i.checked===!0,children:s.jsx(Te.span,{"data-state":NU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bU.displayName=vU;var wU="CheckboxBubbleInput",jU=y.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:m,setBubbleInput:h}=uE(wU,e),g=Ke(n,h),p=Ug(i),x=_g(r);y.useEffect(()=>{const b=m;if(!b)return;const w=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(w,"checked").set,S=!a.current;if(p!==i&&j){const C=new Event("click",{bubbles:S});b.indeterminate=Dl(i),j.call(b,Dl(i)?!1:i),b.dispatchEvent(C)}},[m,p,i,a]);const v=y.useRef(Dl(i)?!1:i);return s.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});jU.displayName=wU;function Ioe(e){return typeof e=="function"}function Dl(e){return e==="indeterminate"}function NU(e){return Dl(e)?"indeterminate":e?"checked":"unchecked"}const Pr=y.forwardRef(({className:e,...t},n)=>s.jsx(dE,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(bU,{className:se("flex items-center justify-center text-current"),children:s.jsx(xn,{className:"h-4 w-4"})})}));Pr.displayName=dE.displayName;function Doe({type:e,open:t,onOpenChange:n}){const{toast:r}=Ys(),[a,i]=y.useState(null),o=e==="PRIVACY_POLICY"?"Privacy Policy":"Terms of Service",{data:l,isLoading:c}=$e({queryKey:["legal-document",e],queryFn:()=>Jo.getActive(e),enabled:t}),u=l==null?void 0:l.data;return y.useEffect(()=>{u!=null&&u.id&&t&&Jo.getDownloadUrl(u.id).then(d=>{d.success&&d.data?i(d.data):r({title:"Error",description:"Failed to load document",variant:"destructive"})})},[u==null?void 0:u.id,t,r]),y.useEffect(()=>{t||i(null)},[t]),s.jsx(Jt,{open:t,onOpenChange:n,children:s.jsxs(Gt,{className:"max-w-4xl h-[80vh] flex flex-col p-0",children:[s.jsxs(Yt,{className:"px-6 pt-6 pb-2",children:[s.jsx(Xt,{children:o}),s.jsx(Qt,{children:u?`Version ${u.version}`:"Loading..."})]}),s.jsxs("div",{className:"flex-1 overflow-hidden px-6 pb-6",children:[c&&s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(Ye,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!c&&!u&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsxs("p",{className:"text-muted-foreground mb-4",children:["No ",o.toLowerCase()," available at this time."]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please contact support for more information."})]}),u&&a&&s.jsx("iframe",{src:`${a}#toolbar=0&navpanes=0&scrollbar=1`,className:"w-full h-full border rounded-md",title:o})]})]})})}function Tv({type:e,className:t,children:n}){const[r,a]=y.useState(!1),i=e==="PRIVACY_POLICY"?"Privacy Policy":"Terms of Service";return s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>a(!0),className:t||"text-primary hover:underline",children:n||i}),s.jsx(Doe,{type:e,open:r,onOpenChange:a})]})}const $oe=["gmail.com","googlemail.com","yahoo.com","yahoo.co.uk","yahoo.fr","yahoo.de","hotmail.com","hotmail.co.uk","hotmail.fr","hotmail.de","outlook.com","outlook.fr","outlook.de","live.com","live.co.uk","live.fr","aol.com","aol.co.uk","icloud.com","me.com","mac.com","protonmail.com","proton.me","mail.com","gmx.com","gmx.de","yandex.com","zoho.com","mail.ru","qq.com","163.com"];function Loe(e){const t=e.toLowerCase().trim(),n=t.indexOf("@");if(n===-1)return"";const r=t.substring(n+1),a=r.split(".");return a.length>=2?a.slice(-2).join("."):r}function Foe(e){const t=Loe(e);return t?$oe.includes(t):!1}const Boe=Mr({firstName:ot().min(1,"First name is required"),lastName:ot().min(1,"Last name is required"),email:ot().email("Invalid email address").refine(e=>!Foe(e),{message:"Personal email addresses are not allowed. Please use your business email address."}),organizationName:ot().min(1,"Organization name is required"),password:ot().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Password must contain uppercase, lowercase, number, and special character"),confirmPassword:ot(),agreeToTerms:Poe().refine(e=>e===!0,{message:"You must agree to the terms and conditions"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),Voe=()=>{const[e,t]=y.useState(!1),[n,r]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(!1),d=Rt(),{login:f}=Cs();y.useEffect(()=>{const w=setTimeout(()=>u(!0),100);return()=>clearTimeout(w)},[]);const{register:m,handleSubmit:h,formState:{errors:g},setValue:p,watch:x}=Fi({resolver:lc(Boe),defaultValues:{agreeToTerms:!1}}),v=x("agreeToTerms"),b=async w=>{i(!0),l(null);try{const{confirmPassword:N,agreeToTerms:j,...S}=w,C=await fetch("/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),P=await C.json();C.ok?(f(P.token,P.user),d("/dashboard")):l(P.message||"Registration failed")}catch(N){console.error("Registration error:",N),l(`Network error: ${N instanceof Error?N.message:"Please try again."}`)}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"container relative min-h-[calc(100vh-4rem)] flex-col items-center justify-center flex lg:max-w-none lg:px-0",children:s.jsx("div",{className:"p-8",children:s.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[400px]",children:[s.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Create your account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Join Heliolus to start your compliance journey"})]}),s.jsx(K,{className:`transition-all duration-[1600ms] ease-out ${c?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:s.jsxs("form",{onSubmit:h(b),children:[s.jsxs(X,{className:"pt-6 space-y-4",children:[o&&s.jsx(Ft,{variant:"destructive",children:s.jsx(Bt,{children:o})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"firstName",children:"First Name"}),s.jsx(ye,{id:"firstName",placeholder:"John",...m("firstName"),disabled:a}),g.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:g.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"lastName",children:"Last Name"}),s.jsx(ye,{id:"lastName",placeholder:"Doe",...m("lastName"),disabled:a}),g.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:g.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email"}),s.jsx(ye,{id:"email",type:"email",placeholder:"name@company.com",...m("email"),disabled:a}),g.email&&s.jsx("p",{className:"text-sm text-destructive",children:g.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"organizationName",children:"Organization Name"}),s.jsx(ye,{id:"organizationName",placeholder:"Your Company Inc.",...m("organizationName"),disabled:a}),g.organizationName&&s.jsx("p",{className:"text-sm text-destructive",children:g.organizationName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"password",type:e?"text":"password",...m("password"),disabled:a}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>t(!e),disabled:a,children:e?s.jsx(sf,{className:"h-4 w-4"}):s.jsx(Ws,{className:"h-4 w-4"})})]}),g.password&&s.jsx("p",{className:"text-sm text-destructive",children:g.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"confirmPassword",type:n?"text":"password",...m("confirmPassword"),disabled:a}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),disabled:a,children:n?s.jsx(sf,{className:"h-4 w-4"}):s.jsx(Ws,{className:"h-4 w-4"})})]}),g.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:g.confirmPassword.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:"agreeToTerms",checked:v,onCheckedChange:w=>p("agreeToTerms",w),disabled:a}),s.jsxs(te,{htmlFor:"agreeToTerms",className:"text-sm",children:["I agree to the"," ",s.jsx(Tv,{type:"TERMS_OF_SERVICE",className:"hover:text-primary underline underline-offset-4"})," ","and"," ",s.jsx(Tv,{type:"PRIVACY_POLICY",className:"hover:text-primary underline underline-offset-4"})]})]}),g.agreeToTerms&&s.jsx("p",{className:"text-sm text-destructive",children:g.agreeToTerms.message})]}),s.jsx(sm,{className:"flex flex-col space-y-4",children:s.jsxs(F,{type:"submit",className:"w-full",disabled:a,children:[a&&s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Account"]})})]})}),s.jsxs("div",{className:"px-8 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(xp,{to:"/login",className:"hover:text-primary underline underline-offset-4",children:"Sign in"})]})]})})})})},Uoe=Mr({email:ot().email("Please enter a valid email address")});function zoe(){var i;const[e,t]=y.useState(!1),n=Fi({resolver:lc(Uoe),defaultValues:{email:""}}),r=it({mutationFn:o=>rB.forgotPassword(o.email),onSuccess:()=>{t(!0),n.reset()}}),a=o=>{r.mutate(o)};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(K,{className:"w-full max-w-md p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"If an account exists with the email you provided, you will receive a password reset link shortly."}),s.jsx(xp,{to:"/login",children:s.jsx(F,{className:"w-full",children:"Back to Login"})})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(K,{className:"w-full max-w-md p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Forgot Password"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your email and we'll send you a link to reset your password."}),s.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ye,{...n.register("email"),type:"email",placeholder:"your.email@company.com",disabled:r.isPending,autoFocus:!0}),n.formState.errors.email&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:n.formState.errors.email.message})]}),r.isError&&s.jsx(Ft,{variant:"destructive",children:s.jsx(Bt,{children:((i=r.error)==null?void 0:i.message)||"Failed to send reset email. Please try again."})}),s.jsx(F,{type:"submit",className:"w-full",disabled:r.isPending,children:r.isPending?"Sending...":"Send Reset Link"}),s.jsx(xp,{to:"/login",className:"block text-center text-sm text-primary hover:underline",children:"Back to Login"})]})]})})}const Woe=Mr({password:ot().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/,"Password must contain uppercase, lowercase, number, and special character"),confirmPassword:ot()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function qoe(){var p;const[e]=ic(),t=Rt(),[n,r]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=e.get("token"),u=Fi({resolver:lc(Woe),defaultValues:{password:"",confirmPassword:""}}),d=u.watch("password")||"",f=it({mutationFn:x=>rB.resetPassword(c,x.password),onSuccess:()=>{l(!0),setTimeout(()=>t("/login"),3e3)}}),m=x=>{c&&f.mutate(x)},h=[{label:"At least 8 characters",met:d.length>=8},{label:"Contains uppercase letter",met:/[A-Z]/.test(d)},{label:"Contains lowercase letter",met:/[a-z]/.test(d)},{label:"Contains number",met:/\d/.test(d)},{label:"Contains special character",met:/[@$!%*?&]/.test(d)}],g=h.every(x=>x.met);return c?o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsx(K,{className:"w-full max-w-md p-8",children:s.jsx(Ft,{children:s.jsx(Bt,{children:"Password reset successfully! Redirecting to login..."})})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(K,{className:"w-full max-w-md p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Enter your new password below."}),s.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(ye,{...u.register("password"),type:n?"text":"password",placeholder:"New password",disabled:f.isPending,autoFocus:!0}),s.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:n?s.jsx(sf,{size:20}):s.jsx(Ws,{size:20})})]}),s.jsx("div",{className:"mt-2 space-y-1",children:h.map(x=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.met?s.jsx(xn,{size:16,className:"text-green-600 flex-shrink-0"}):s.jsx(kr,{size:16,className:"text-gray-400 flex-shrink-0"}),s.jsx("span",{className:x.met?"text-green-600":"text-gray-600",children:x.label})]},x.label))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"relative",children:[s.jsx(ye,{...u.register("confirmPassword"),type:a?"text":"password",placeholder:"Confirm new password",disabled:f.isPending}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",tabIndex:-1,children:a?s.jsx(sf,{size:20}):s.jsx(Ws,{size:20})})]}),u.formState.errors.confirmPassword&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.formState.errors.confirmPassword.message})]}),f.isError&&s.jsx(Ft,{variant:"destructive",children:s.jsx(Bt,{children:((p=f.error)==null?void 0:p.message)||"Failed to reset password. Please try again."})}),s.jsx(F,{type:"submit",className:"w-full",disabled:f.isPending||!g,children:f.isPending?"Resetting...":"Reset Password"})]})]})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(K,{className:"w-full max-w-md p-8",children:[s.jsx(Ft,{variant:"destructive",children:s.jsx(Bt,{children:"Invalid reset link. Please request a new password reset."})}),s.jsx(F,{className:"w-full mt-4",onClick:()=>t("/forgot-password"),children:"Request New Link"})]})})}const Hoe=Xf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function le({className:e,variant:t,...n}){return s.jsx("div",{className:se(Hoe({variant:t}),e),...n})}const Koe={incomplete:{icon:Pt,borderColor:"border-orange-500",bgColor:"bg-white dark:bg-gray-900",iconColor:"text-orange-500",iconBg:"bg-orange-500/20"},active:{icon:null,borderColor:"border-blue-500",bgColor:"bg-blue-50 dark:bg-blue-950/20",iconColor:"text-blue-500",iconBg:"bg-blue-500/20"},processing:{icon:Ye,borderColor:"border-cyan-500",bgColor:"bg-gray-900/50 dark:bg-gray-900/30",iconColor:"text-cyan-500",iconBg:"bg-cyan-500/20"},complete:{icon:at,borderColor:"border-green-500/30",bgColor:"bg-green-50/50 dark:bg-green-950/10",iconColor:"text-green-500",iconBg:"bg-green-500/20"},pending:{icon:cr,borderColor:"border-gray-700",bgColor:"bg-gray-800/50",iconColor:"text-gray-500",iconBg:"bg-gray-500/20"}};function Hm({title:e,description:t,icon:n,state:r,isExpandable:a=!1,isExpanded:i=!1,onToggle:o,children:l,processingProgress:c,className:u}){const d=Koe[r],f=d.icon||n,m=a&&r!=="pending",h=r==="processing"&&c!==void 0;return s.jsxs(K,{className:se("transition-all duration-300 backdrop-blur-sm",d.borderColor,d.bgColor,m&&"cursor-pointer hover:shadow-lg",r==="pending"&&"opacity-60",u),children:[s.jsx(de,{className:se("p-6",m&&"cursor-pointer"),onClick:m?o:void 0,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:se("p-3 rounded-lg",d.iconBg),children:s.jsx(f,{className:se("h-6 w-6",d.iconColor,r==="processing"&&"animate-spin")})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:e}),s.jsx("p",{className:"text-sm text-gray-400",children:t}),h&&s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-1",children:[s.jsx("span",{children:"Processing..."}),s.jsxs("span",{children:[c,"%"]})]}),s.jsx("div",{className:"h-1.5 bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-500",style:{width:`${c}%`}})})]})]})]}),a&&r!=="pending"&&s.jsx("div",{className:se("transition-transform duration-200",i&&"rotate-90"),children:s.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),i&&l&&s.jsx(X,{className:"px-6 pb-6 pt-0 animate-in slide-in-from-top-2 duration-300",children:l})]})}function Np(e,[t,n]){return Math.min(n,Math.max(t,e))}var Goe=[" ","Enter","ArrowUp","ArrowDown"],Yoe=[" ","Enter"],ju="Select",[Wb,qb,Xoe]=Ag(ju),[im,w9e]=Zn(ju,[Xoe,em]),Hb=em(),[Qoe,cc]=im(ju),[Zoe,Joe]=im(ju),SU=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:g}=e,p=Hb(t),[x,v]=y.useState(null),[b,w]=y.useState(null),[N,j]=y.useState(!1),S=_u(u),[C,P]=zs({prop:r,defaultProp:a??!1,onChange:i,caller:ju}),[A,T]=zs({prop:o,defaultProp:l,onChange:c,caller:ju}),E=y.useRef(null),k=x?g||!!x.closest("form"):!0,[R,I]=y.useState(new Set),D=Array.from(R).map(B=>B.props.value).join(";");return s.jsx(NA,{...p,children:s.jsxs(Qoe,{required:h,scope:t,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:ga(),value:A,onValueChange:T,open:C,onOpenChange:P,dir:S,triggerPointerDownPosRef:E,disabled:m,children:[s.jsx(Wb.Provider,{scope:t,children:s.jsx(Zoe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(B=>{I(V=>new Set(V).add(B))},[]),onNativeOptionRemove:y.useCallback(B=>{I(V=>{const O=new Set(V);return O.delete(B),O})},[]),children:n})}),k?s.jsxs(GU,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:B=>T(B.target.value),disabled:m,form:g,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},D):null]})})};SU.displayName=ju;var CU="SelectTrigger",PU=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Hb(n),o=cc(CU,n),l=o.disabled||r,c=Ke(t,o.onTriggerChange),u=qb(n),d=y.useRef("touch"),[f,m,h]=XU(p=>{const x=u().filter(w=>!w.disabled),v=x.find(w=>w.value===o.value),b=QU(x,p,v);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),h()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(SA,{asChild:!0,...i,children:s.jsx(Te.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":YU(o.value)?"":void 0,...a,ref:c,onClick:be(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:be(a.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:be(a.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&Goe.includes(p.key)&&(g(),p.preventDefault())})})})});PU.displayName=CU;var AU="SelectValue",EU=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:o="",...l}=e,c=cc(AU,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ke(t,c.onValueNodeChange);return $n(()=>{u(d)},[u,d]),s.jsx(Te.span,{...l,ref:f,style:{pointerEvents:"none"},children:YU(c.value)?s.jsx(s.Fragment,{children:o}):i})});EU.displayName=AU;var ele="SelectIcon",kU=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(Te.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});kU.displayName=ele;var tle="SelectPortal",TU=e=>s.jsx(Eg,{asChild:!0,...e});TU.displayName=tle;var Nu="SelectContent",OU=y.forwardRef((e,t)=>{const n=cc(Nu,e.__scopeSelect),[r,a]=y.useState();if($n(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?da.createPortal(s.jsx(_U,{scope:e.__scopeSelect,children:s.jsx(Wb.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(RU,{...e,ref:t})});OU.displayName=Nu;var Ta=10,[_U,uc]=im(Nu),nle="SelectContentImpl",rle=pu("SelectContent.RemoveScroll"),RU=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:p,avoidCollisions:x,...v}=e,b=cc(Nu,n),[w,N]=y.useState(null),[j,S]=y.useState(null),C=Ke(t,$=>N($)),[P,A]=y.useState(null),[T,E]=y.useState(null),k=qb(n),[R,I]=y.useState(!1),D=y.useRef(!1);y.useEffect(()=>{if(w)return UA(w)},[w]),FA();const B=y.useCallback($=>{const[J,...Z]=k().map(H=>H.ref.current),[L]=Z.slice(-1),ce=document.activeElement;for(const H of $)if(H===ce||(H==null||H.scrollIntoView({block:"nearest"}),H===J&&j&&(j.scrollTop=0),H===L&&j&&(j.scrollTop=j.scrollHeight),H==null||H.focus(),document.activeElement!==ce))return},[k,j]),V=y.useCallback(()=>B([P,w]),[B,P,w]);y.useEffect(()=>{R&&V()},[R,V]);const{onOpenChange:O,triggerPointerDownPosRef:_}=b;y.useEffect(()=>{if(w){let $={x:0,y:0};const J=L=>{var ce,H;$={x:Math.abs(Math.round(L.pageX)-(((ce=_.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(L.pageY)-(((H=_.current)==null?void 0:H.y)??0))}},Z=L=>{$.x<=10&&$.y<=10?L.preventDefault():w.contains(L.target)||O(!1),document.removeEventListener("pointermove",J),_.current=null};return _.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,O,_]),y.useEffect(()=>{const $=()=>O(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[O]);const[z,ne]=XU($=>{const J=k().filter(ce=>!ce.disabled),Z=J.find(ce=>ce.ref.current===document.activeElement),L=QU(J,$,Z);L&&setTimeout(()=>L.ref.current.focus())}),Y=y.useCallback(($,J,Z)=>{const L=!D.current&&!Z;(b.value!==void 0&&b.value===J||L)&&(A($),L&&(D.current=!0))},[b.value]),Q=y.useCallback(()=>w==null?void 0:w.focus(),[w]),ie=y.useCallback(($,J,Z)=>{const L=!D.current&&!Z;(b.value!==void 0&&b.value===J||L)&&E($)},[b.value]),ae=r==="popper"?KS:MU,ge=ae===KS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return s.jsx(_U,{scope:n,content:w,viewport:j,onViewportChange:S,itemRefCallback:Y,selectedItem:P,onItemLeave:Q,itemTextRefCallback:ie,focusSelectedItem:V,selectedItemText:T,position:r,isPositioned:R,searchRef:z,children:s.jsx(Ib,{as:rle,allowPinchZoom:!0,children:s.jsx(Rb,{asChild:!0,trapped:b.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:be(a,$=>{var J;(J=b.trigger)==null||J.focus({preventScroll:!0}),$.preventDefault()}),children:s.jsx(Yf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ae,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:$=>$.preventDefault(),...v,...ge,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:be(v.onKeyDown,$=>{const J=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!J&&$.key.length===1&&ne($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let L=k().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes($.key)&&(L=L.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ce=$.target,H=L.indexOf(ce);L=L.slice(H+1)}setTimeout(()=>B(L)),$.preventDefault()}})})})})})})});RU.displayName=nle;var sle="SelectItemAlignedPosition",MU=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=cc(Nu,n),o=uc(Nu,n),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Ke(t,C=>d(C)),m=qb(n),h=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&v){const C=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(i.dir!=="rtl"){const ce=T.left-P.left,H=A.left-ce,Se=C.left-H,U=C.width+Se,re=Math.max(U,P.width),me=window.innerWidth-Ta,Fe=Np(H,[Ta,Math.max(Ta,me-re)]);l.style.minWidth=U+"px",l.style.left=Fe+"px"}else{const ce=P.right-T.right,H=window.innerWidth-A.right-ce,Se=window.innerWidth-C.right-H,U=C.width+Se,re=Math.max(U,P.width),me=window.innerWidth-Ta,Fe=Np(H,[Ta,Math.max(Ta,me-re)]);l.style.minWidth=U+"px",l.style.right=Fe+"px"}const E=m(),k=window.innerHeight-Ta*2,R=p.scrollHeight,I=window.getComputedStyle(u),D=parseInt(I.borderTopWidth,10),B=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),_=D+B+R+O+V,z=Math.min(x.offsetHeight*5,_),ne=window.getComputedStyle(p),Y=parseInt(ne.paddingTop,10),Q=parseInt(ne.paddingBottom,10),ie=C.top+C.height/2-Ta,ae=k-ie,ge=x.offsetHeight/2,$=x.offsetTop+ge,J=D+B+$,Z=_-J;if(J<=ie){const ce=E.length>0&&x===E[E.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-p.offsetTop-p.offsetHeight,Se=Math.max(ae,ge+(ce?Q:0)+H+V),U=J+Se;l.style.height=U+"px"}else{const ce=E.length>0&&x===E[0].ref.current;l.style.top="0px";const Se=Math.max(ie,D+p.offsetTop+(ce?Y:0)+ge)+Z;l.style.height=Se+"px",p.scrollTop=J-ie+p.offsetTop}l.style.margin=`${Ta}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,i.trigger,i.valueNode,l,u,p,x,v,i.dir,r]);$n(()=>w(),[w]);const[N,j]=y.useState();$n(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(C=>{C&&g.current===!0&&(w(),b==null||b(),g.current=!1)},[w,b]);return s.jsx(ile,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Te.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});MU.displayName=sle;var ale="SelectPopperPosition",KS=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ta,...i}=e,o=Hb(n);return s.jsx(CA,{...o,...i,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});KS.displayName=ale;var[ile,fE]=im(Nu,{}),GS="SelectViewport",IU=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=uc(GS,n),o=fE(GS,n),l=Ke(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Wb.Slot,{scope:n,children:s.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:be(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-Ta*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<g){const b=v+h,w=Math.min(g,b),N=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});IU.displayName=GS;var DU="SelectGroup",[ole,lle]=im(DU),cle=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=ga();return s.jsx(ole,{scope:n,id:a,children:s.jsx(Te.div,{role:"group","aria-labelledby":a,...r,ref:t})})});cle.displayName=DU;var $U="SelectLabel",LU=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=lle($U,n);return s.jsx(Te.div,{id:a.id,...r,ref:t})});LU.displayName=$U;var Ov="SelectItem",[ule,FU]=im(Ov),BU=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...o}=e,l=cc(Ov,n),c=uc(Ov,n),u=l.value===r,[d,f]=y.useState(i??""),[m,h]=y.useState(!1),g=Ke(t,b=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,b,r,a)}),p=ga(),x=y.useRef("touch"),v=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(ule,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(b=>{f(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(Wb.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:s.jsx(Te.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:be(o.onFocus,()=>h(!0)),onBlur:be(o.onBlur,()=>h(!1)),onClick:be(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:be(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:be(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:be(o.onPointerMove,b=>{var w;x.current=b.pointerType,a?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:be(o.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:be(o.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(Yoe.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});BU.displayName=Ov;var hh="SelectItemText",VU=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,o=cc(hh,n),l=uc(hh,n),c=FU(hh,n),u=Joe(hh,n),[d,f]=y.useState(null),m=Ke(t,v=>f(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return $n(()=>(p(g),()=>x(g)),[p,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(Te.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?da.createPortal(i.children,o.valueNode):null]})});VU.displayName=hh;var UU="SelectItemIndicator",zU=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return FU(UU,n).isSelected?s.jsx(Te.span,{"aria-hidden":!0,...r,ref:t}):null});zU.displayName=UU;var YS="SelectScrollUpButton",WU=y.forwardRef((e,t)=>{const n=uc(YS,e.__scopeSelect),r=fE(YS,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,r.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(HU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});WU.displayName=YS;var XS="SelectScrollDownButton",qU=y.forwardRef((e,t)=>{const n=uc(XS,e.__scopeSelect),r=fE(XS,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,r.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?s.jsx(HU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qU.displayName=XS;var HU=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=uc("SelectScrollButton",n),o=y.useRef(null),l=qb(n),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),$n(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Te.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:be(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:be(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:be(a.onPointerLeave,()=>{c()})})}),dle="SelectSeparator",KU=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Te.div,{"aria-hidden":!0,...r,ref:t})});KU.displayName=dle;var QS="SelectArrow",fle=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Hb(n),i=cc(QS,n),o=uc(QS,n);return i.open&&o.position==="popper"?s.jsx(PA,{...a,...r,ref:t}):null});fle.displayName=QS;var mle="SelectBubbleInput",GU=y.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const a=y.useRef(null),i=Ke(r,a),o=Ug(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Te.select,{...n,style:{...mF,...n.style},ref:i,defaultValue:t})});GU.displayName=mle;function YU(e){return e===""||e===void 0}function XU(e){const t=Dn(e),n=y.useRef(""),r=y.useRef(0),a=y.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function QU(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=hle(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function hle(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ple=SU,ZU=PU,gle=EU,xle=kU,yle=TU,JU=OU,vle=IU,e8=LU,t8=BU,ble=VU,wle=zU,n8=WU,r8=qU,s8=KU;const vt=ple,bt=gle,gt=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(ZU,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(xle,{asChild:!0,children:s.jsx(eo,{className:"h-4 w-4 opacity-50"})})]}));gt.displayName=ZU.displayName;const a8=y.forwardRef(({className:e,...t},n)=>s.jsx(n8,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Rc,{className:"h-4 w-4"})}));a8.displayName=n8.displayName;const i8=y.forwardRef(({className:e,...t},n)=>s.jsx(r8,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(eo,{className:"h-4 w-4"})}));i8.displayName=r8.displayName;const xt=y.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(yle,{children:s.jsxs(JU,{ref:a,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(a8,{}),s.jsx(vle,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(i8,{})]})}));xt.displayName=JU.displayName;const jle=y.forwardRef(({className:e,...t},n)=>s.jsx(e8,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));jle.displayName=e8.displayName;const ue=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(t8,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(wle,{children:s.jsx(xn,{className:"h-4 w-4"})})}),s.jsx(ble,{children:t})]}));ue.displayName=t8.displayName;const Nle=y.forwardRef(({className:e,...t},n)=>s.jsx(s8,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));Nle.displayName=s8.displayName;const vn=y.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));vn.displayName="Textarea";class Sle extends Error{constructor(t,n){super(t),this.status=n,this.name="AnonymousApiError"}}async function Ea(e,t={}){const n=`/v1/anon${e}`,{sessionId:r,...a}=t,i={"Content-Type":"application/json",...a.headers||{}};r&&(i["x-anonymous-session-id"]=r);const o=await fetch(n,{...a,credentials:"include",headers:i});if(!o.ok){const l=await o.json().catch(()=>null);throw new Sle((l==null?void 0:l.error)||`HTTP ${o.status}: ${o.statusText}`,o.status)}return o.json()}const _v={async initializeSession(){return Ea("/sessions",{method:"POST",body:JSON.stringify({})})},async getProfile(e){return Ea("/profile",{sessionId:e})},async updateProfile(e,t){return Ea("/profile",{method:"PUT",body:JSON.stringify(e),sessionId:t})},async saveProfile(e,t){return this.updateProfile(e,t)},async getDocuments(e){return Ea("/documents",{sessionId:e})},async generateUploadUrl(e,t){return Ea("/documents/upload-url",{method:"POST",body:JSON.stringify(e),sessionId:t})},async deleteDocument(e,t){return Ea(`/documents/${e}`,{method:"DELETE",sessionId:t})},async getAssessments(e){return Ea("/assessments",{sessionId:e})},async createAssessment(e,t){return Ea("/assessments",{method:"POST",body:JSON.stringify(e),sessionId:t})},async updateAssessment(e,t,n){return Ea(`/assessments/${e}`,{method:"PUT",body:JSON.stringify(t),sessionId:n})},async getStatus(e){return Ea("/status",{sessionId:e})},async claimSession(){return Ea("/claim",{method:"POST"})}};function Et({className:e,...t}){return s.jsx("div",{className:se("animate-pulse rounded-md bg-muted",e),...t})}function Cle(e){const[t,n]=y.useState(null),r=wt(),a=it({mutationFn:async({organizationId:l,websiteUrl:c})=>{const u=await Co.parseWebsite(l,c);return console.log("[useWebsiteExtraction] API response:",JSON.stringify(u,null,2)),console.log("[useWebsiteExtraction] extractedData keys:",u!=null&&u.extractedData?Object.keys(u.extractedData):"undefined"),console.log("[useWebsiteExtraction] confidence keys:",u!=null&&u.confidence?Object.keys(u.confidence):"undefined"),console.log("[useWebsiteExtraction] metadata:",u==null?void 0:u.metadata),u},onSuccess:l=>{var m;console.log("[useWebsiteExtraction] onSuccess called with:",JSON.stringify(l,null,2)),n(l),r.invalidateQueries({queryKey:Je.myOrganization});const c=(l==null?void 0:l.extractedData)||{},u=Object.entries(c).filter(([h,g])=>g&&typeof g=="object"&&"value"in g?g.value!==null&&g.value!==void 0:g!=null),d=u.length,f=((m=l==null?void 0:l.metadata)==null?void 0:m.avgConfidence)??0;console.log("[useWebsiteExtraction] Field count:",d,"Extracted values:",u.map(([h])=>h)),Ae({title:"Website Analyzed Successfully",description:`Extracted ${d} fields with ${Math.round(f*100)}% average confidence`}),e!=null&&e.onSuccess&&e.onSuccess(l)},onError:l=>{console.error("Website extraction failed:",l),Ae({title:"Website Analysis Failed",description:l.message||"Failed to analyze website. Please try again.",variant:"destructive"}),e!=null&&e.onError&&e.onError(l)}});return{extract:async(l,c)=>{let u=c.trim();return u.startsWith("http")||(u=`https://${u}`),a.mutateAsync({organizationId:l,websiteUrl:u})},reset:()=>{n(null),a.reset()},isExtracting:a.isPending,extractionResult:t,error:a.error,isSuccess:a.isSuccess,isError:a.isError}}const o8=({onProfileComplete:e,onNextStep:t,onPreviousStep:n,onProfileSaved:r,onProfileSaving:a,hideButtons:i=!1,isAnonymous:o=!1})=>{const{user:l}=Cs(),c=wt(),[u,d]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState({companyName:"",industry:"",companySize:"",annualRevenue:"",geography:"",businessModel:"",customerTypes:"",complianceTeamSize:"",currentMaturityLevel:"",riskAppetite:"",regulatoryRequirements:"",description:"",companyWebsite:"",financialCrimeRisk:"",complianceBudget:"",currentSolutions:"",painPoints:"",regulatoryJurisdictions:""}),[p,x]=y.useState(null),[v,b]=y.useState(null),{extract:w,isExtracting:N}=Cle({onSuccess:$=>{if(console.log("[BusinessProfile] Extraction success, result:",$),b($),$.extractedData){const J=$.extractedData;console.log("[BusinessProfile] Extracted data keys:",Object.keys(J)),g(Z=>{var L,ce,H,Se,U,re,me,Fe,ut,mt,q;return{...Z,companyName:((L=J.name)==null?void 0:L.value)||Z.companyName,industry:((ce=J.industry)==null?void 0:ce.value)||Z.industry,companySize:((Se=(H=J.size)==null?void 0:H.value)==null?void 0:Se.toLowerCase())||Z.companySize,description:((U=J.description)==null?void 0:U.value)||Z.description,annualRevenue:((me=(re=J.annualRevenue)==null?void 0:re.value)==null?void 0:me.toLowerCase().replace(/_/g,"-"))||Z.annualRevenue,complianceTeamSize:((ut=(Fe=J.complianceTeamSize)==null?void 0:Fe.value)==null?void 0:ut.toLowerCase().replace(/_/g,"-"))||Z.complianceTeamSize,geography:((q=(mt=J.geography)==null?void 0:mt.value)==null?void 0:q.toLowerCase())||Z.geography}}),console.log("[BusinessProfile] Form data updated with extracted values")}}}),{data:j,isLoading:S,error:C,refetch:P}=$e({queryKey:Je.myOrganization,queryFn:Co.getMyOrganization,enabled:!!(l!=null&&l.id)&&!o,staleTime:3e4,gcTime:5*60*1e3,retry:1}),{data:A,isLoading:T,error:E,refetch:k}=$e({queryKey:["anonymous-profile"],queryFn:()=>_v.getProfile(),enabled:o,staleTime:3e4,gcTime:5*60*1e3,retry:1}),R=o?T:S,I=o?E:C,D=o?A==null?void 0:A.profile:j,B=$=>{switch($){case"UNDER_1M":return"under-1m";case"FROM_1M_10M":return"1m-10m";case"FROM_10M_100M":return"10m-100m";case"OVER_100M":return"over-100m";default:return""}},V=$=>{switch($){case"NONE":return"none";case"ONE_TWO":return"1-2";case"THREE_TEN":return"3-10";case"OVER_TEN":return"over-10";default:return""}},O=$=>{switch($){case"US":return"us";case"EU":return"eu";case"UK":return"uk";case"APAC":return"apac";case"GLOBAL":return"global";default:return""}};M.useEffect(()=>{var $,J;if(D){const Z=o?{companyName:D.name||"",industry:D.industry||"",companySize:(($=D.size)==null?void 0:$.toLowerCase())||"",description:D.description||"",companyWebsite:D.website||"",annualRevenue:B(D.annualRevenue)||"",complianceTeamSize:V(D.complianceTeamSize)||"",geography:O(D.geography)||"",riskAppetite:D.riskAppetite||"",regulatoryRequirements:D.regulatoryRequirements||"",financialCrimeRisk:D.financialCrimeRisk||"",complianceBudget:D.complianceBudget||"",painPoints:D.painPoints||"",businessModel:"",customerTypes:"",currentMaturityLevel:"",currentSolutions:"",regulatoryJurisdictions:""}:{companyName:D.name||"",industry:D.industry||"",companySize:((J=D.size)==null?void 0:J.toLowerCase())||"",description:D.description||"",companyWebsite:D.website||"",annualRevenue:B(D.annualRevenue)||"",complianceTeamSize:V(D.complianceTeamSize)||"",geography:O(D.geography)||"",businessModel:"",customerTypes:"",currentMaturityLevel:"",riskAppetite:"",regulatoryRequirements:"",financialCrimeRisk:"",complianceBudget:"",currentSolutions:"",painPoints:"",regulatoryJurisdictions:""};g(Z),r&&r(!0),u||d(!1)}else!R&&!I&&(d(!0),r&&r(!1))},[D,R,I,r,o]);const _=it({...RS(c).updateOrganization((j==null?void 0:j.id)||""),onSuccess:$=>{var J;if($){const Z={companyName:$.name||"",industry:$.industry||"",companySize:((J=$.size)==null?void 0:J.toLowerCase())||"",description:$.description||"",companyWebsite:$.website||"",annualRevenue:B($.annualRevenue)||"",complianceTeamSize:V($.complianceTeamSize)||"",geography:O($.geography)||"",businessModel:"",customerTypes:"",currentMaturityLevel:"",riskAppetite:"",regulatoryRequirements:"",financialCrimeRisk:"",complianceBudget:"",currentSolutions:"",painPoints:"",regulatoryJurisdictions:""};g(Z)}d(!1),r&&r(!0),Ae({title:"Profile Saved",description:"Your business profile has been saved successfully."})},onError:$=>{Ae({title:"Save Failed",description:$.message||"Failed to save business profile. Please try again.",variant:"destructive"})}}),z=it({mutationFn:_v.updateProfile,onSuccess:$=>{var Z;c.setQueryData(["anonymous-profile"],L=>({...L,profile:$.profile})),c.invalidateQueries({queryKey:["anonymous-profile"]});const J={companyName:$.profile.name||"",industry:$.profile.industry||"",companySize:((Z=$.profile.size)==null?void 0:Z.toLowerCase())||"",description:$.profile.description||"",companyWebsite:$.profile.website||"",annualRevenue:B($.profile.annualRevenue)||"",complianceTeamSize:V($.profile.complianceTeamSize)||"",geography:O($.profile.geography)||"",riskAppetite:$.profile.riskAppetite||"",regulatoryRequirements:$.profile.regulatoryRequirements||"",financialCrimeRisk:$.profile.financialCrimeRisk||"",complianceBudget:$.profile.complianceBudget||"",painPoints:$.profile.painPoints||"",businessModel:"",customerTypes:"",currentMaturityLevel:"",currentSolutions:"",regulatoryJurisdictions:""};g(J),d(!1),r&&r(!0),Ae({title:"Profile Saved",description:"Your business profile has been saved successfully."})},onError:$=>{Ae({title:"Save Failed",description:$.message||"Failed to save business profile. Please try again.",variant:"destructive"})}}),ne=it({...RS(c).createOrganization,onSuccess:$=>{var Z,L;if($.token&&(localStorage.setItem("token",$.token),console.log("[BusinessProfile] Updated token with organizationId")),$){const ce={companyName:$.name||"",industry:$.industry||"",companySize:((Z=$.size)==null?void 0:Z.toLowerCase())||"",description:$.description||"",companyWebsite:$.website||"",annualRevenue:B($.annualRevenue)||"",complianceTeamSize:V($.complianceTeamSize)||"",geography:O($.geography)||"",businessModel:"",customerTypes:"",currentMaturityLevel:"",riskAppetite:"",regulatoryRequirements:"",financialCrimeRisk:"",complianceBudget:"",currentSolutions:"",painPoints:"",regulatoryJurisdictions:""};g(ce)}d(!1),r&&r(!0);const J=(L=$==null?void 0:$.message)==null?void 0:L.includes("already exists");Ae({title:J?"Profile Retrieved":"Profile Created",description:J?"Found and loaded your existing organization profile.":"Your business profile has been created successfully."})},onError:$=>{Ae({title:"Create Failed",description:$.message||"Failed to create business profile. Please try again.",variant:"destructive"})}}),Y=($,J)=>{g(Z=>({...Z,[$]:J}))},Q=async()=>{if(!h.companyWebsite){Ae({title:"Website URL Required",description:"Please enter a company website URL to analyze.",variant:"destructive"});return}if(!(j!=null&&j.id)){Ae({title:"Save Profile First",description:"Please save your business profile before analyzing the website.",variant:"destructive"});return}await w(j.id,h.companyWebsite)},ie=async()=>{var $;m(!0),a&&a(!0);try{if(!h.companyName||!h.geography){Ae({title:"Required Fields Missing",description:"Please fill in Company Name and Geography.",variant:"destructive"}),m(!1),a&&a(!1);return}const J=H=>{switch(H){case"under-1m":return"UNDER_1M";case"1m-10m":return"FROM_1M_10M";case"10m-100m":return"FROM_10M_100M";case"over-100m":return"OVER_100M";default:return}},Z=H=>{switch(H){case"none":return"NONE";case"1-2":return"ONE_TWO";case"3-10":return"THREE_TEN";case"over-10":return"OVER_TEN";default:return}},L=H=>{switch(H){case"us":return"US";case"eu":return"EU";case"uk":return"UK";case"apac":return"APAC";case"global":return"GLOBAL";default:return}},ce=H=>{switch(H){case"us":return"US";case"uk":return"GB";case"eu":return"DE";case"apac":return"SG";case"global":return"US";default:return"US"}};if(o){const H={name:h.companyName,industry:h.industry,size:($=h.companySize)==null?void 0:$.toUpperCase(),description:h.description,website:h.companyWebsite,annualRevenue:J(h.annualRevenue),complianceTeamSize:Z(h.complianceTeamSize),geography:L(h.geography),riskAppetite:h.riskAppetite,complianceBudget:h.complianceBudget,financialCrimeRisk:h.financialCrimeRisk,regulatoryRequirements:h.regulatoryRequirements,painPoints:h.painPoints};await z.mutateAsync(H)}else{const H=Se=>{switch(Se){case"startup":return"STARTUP";case"scaleup":return"SMB";case"smb":return"SMB";case"midmarket":return"MIDMARKET";case"enterprise":return"ENTERPRISE";default:return}};if(j!=null&&j.id){const Se={name:h.companyName,website:h.companyWebsite&&h.companyWebsite.trim()?h.companyWebsite.startsWith("http")?h.companyWebsite.trim():`https://${h.companyWebsite.trim()}`:void 0,industry:h.industry||void 0,size:H(h.companySize),description:h.description||void 0,annualRevenue:J(h.annualRevenue),complianceTeamSize:Z(h.complianceTeamSize),geography:L(h.geography)};_.mutate(Se)}else{const Se={name:h.companyName,website:h.companyWebsite&&h.companyWebsite.trim()?h.companyWebsite.startsWith("http")?h.companyWebsite.trim():`https://${h.companyWebsite.trim()}`:void 0,industry:h.industry||void 0,size:H(h.companySize),country:ce(h.geography),region:void 0,description:h.description||void 0};ne.mutate(Se)}}}catch(J){console.error("Error preparing save:",J),Ae({title:"Save Failed",description:J.message||"Failed to prepare save operation.",variant:"destructive"})}finally{m(!1),a&&a(!1)}},ae=()=>s.jsxs(K,{className:"bg-gray-800/80 border-gray-700 transition-all duration-500 hover:border-cyan-600/50 group shadow-lg",children:[s.jsx(de,{className:"pb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg border border-cyan-500/30",children:s.jsx(Bl,{className:"h-6 w-6 text-cyan-400"})}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-xl font-bold text-white",children:(j==null?void 0:j.name)||h.companyName||"Your Company"}),s.jsx(Ve,{className:"text-sm text-gray-300",children:"Business Profile"})]})]}),s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 border-gray-600 text-white transition-colors","data-testid":"button-edit-profile",children:[s.jsx(Vr,{className:"h-4 w-4"}),"Edit Profile"]})]})}),s.jsxs(X,{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-green-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-green-500/30 flex-shrink-0",children:s.jsx(fa,{className:"h-4 w-4 text-green-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Website"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-all",children:h.companyWebsite||"Not provided"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-purple-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-purple-500/30 flex-shrink-0",children:s.jsx(JQ,{className:"h-4 w-4 text-purple-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Industry"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-words",children:h.industry?h.industry.charAt(0).toUpperCase()+h.industry.slice(1):"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-orange-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-orange-500/30 flex-shrink-0",children:s.jsx(Hr,{className:"h-4 w-4 text-orange-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Company Size"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-words",children:h.companySize?h.companySize.charAt(0).toUpperCase()+h.companySize.slice(1):"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-red-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-red-500/30 flex-shrink-0",children:s.jsx(iS,{className:"h-4 w-4 text-red-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Geography"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-words",children:h.geography?h.geography==="uk"?"UK":h.geography==="us"?"US":h.geography==="eu"?"EU":h.geography.charAt(0).toUpperCase()+h.geography.slice(1):"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-blue-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-blue-500/30 flex-shrink-0",children:s.jsx(Or,{className:"h-4 w-4 text-blue-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Annual Revenue"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-words",children:h.annualRevenue||"Not specified"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 group/item min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-yellow-500/20 rounded-md mt-0.5 transition-colors group-hover/item:bg-yellow-500/30 flex-shrink-0",children:s.jsx(Hr,{className:"h-4 w-4 text-yellow-400"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-200 mb-1",children:"Team Size"}),s.jsx("p",{className:"text-sm text-gray-300 font-medium break-words",children:h.complianceTeamSize||"Not specified"})]})]})]}),h.description&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-200 mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed font-medium",children:h.description})]}),s.jsx("div",{className:"border-t border-gray-600 pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(at,{className:"h-5 w-5 text-green-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-200",children:"Profile Complete"})]}),s.jsx(le,{className:"bg-green-500/30 text-green-300 border border-green-500/40 font-medium",children:"Ready for Assessment"})]})})]})]}),ge=o?!!(A!=null&&A.profile):!!j;return s.jsxs("div",{className:"space-y-6",children:[ge&&!u?s.jsx(ae,{}):s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 transition-all duration-500 hover:border-cyan-600/50",children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Bl,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent",children:ge?"Edit Business Profile":"Business Profile Setup"})]}),s.jsx(Ve,{className:"text-gray-400",children:ge?"Update your organization details":"Tell us about your organization to receive tailored compliance recommendations"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",children:"Company Name *"}),s.jsx(ye,{id:"companyName","data-testid":"input-company-name",value:h.companyName,onChange:$=>Y("companyName",$.target.value),placeholder:"Your Company Name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"industry",children:"Industry *"}),s.jsxs(vt,{value:h.industry,onValueChange:$=>Y("industry",$),children:[s.jsx(gt,{id:"industry","data-testid":"select-industry",children:s.jsx(bt,{placeholder:"Select industry"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"fintech",children:"Fintech"}),s.jsx(ue,{value:"banking",children:"Banking"}),s.jsx(ue,{value:"insurance",children:"Insurance"}),s.jsx(ue,{value:"crypto",children:"Cryptocurrency"}),s.jsx(ue,{value:"payments",children:"Payments"}),s.jsx(ue,{value:"lending",children:"Lending"}),s.jsx(ue,{value:"trading",children:"Trading"}),s.jsx(ue,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companySize",children:"Company Size *"}),s.jsxs(vt,{value:h.companySize,onValueChange:$=>Y("companySize",$),children:[s.jsx(gt,{id:"companySize","data-testid":"select-company-size",children:s.jsx(bt,{placeholder:"Select company size"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"startup",children:"Startup (1-50)"}),s.jsx(ue,{value:"smb",children:"SMB (51-500)"}),s.jsx(ue,{value:"midmarket",children:"Mid-Market (501-5000)"}),s.jsx(ue,{value:"enterprise",children:"Enterprise (5000+)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"annualRevenue",children:"Annual Revenue"}),s.jsxs(vt,{value:h.annualRevenue,onValueChange:$=>Y("annualRevenue",$),children:[s.jsx(gt,{id:"annualRevenue","data-testid":"select-revenue",children:s.jsx(bt,{placeholder:"Select revenue range"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"under-1m",children:"Under $1M"}),s.jsx(ue,{value:"1m-10m",children:"$1M - $10M"}),s.jsx(ue,{value:"10m-100m",children:"$10M - $100M"}),s.jsx(ue,{value:"over-100m",children:"Over $100M"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"geography",children:"Geography *"}),s.jsxs(vt,{value:h.geography,onValueChange:$=>Y("geography",$),children:[s.jsx(gt,{id:"geography","data-testid":"select-geography",children:s.jsx(bt,{placeholder:"Select primary region"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"us",children:"United States"}),s.jsx(ue,{value:"uk",children:"United Kingdom"}),s.jsx(ue,{value:"eu",children:"European Union"}),s.jsx(ue,{value:"apac",children:"Asia Pacific"}),s.jsx(ue,{value:"global",children:"Global"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"complianceTeamSize",children:"Compliance Team Size"}),s.jsxs(vt,{value:h.complianceTeamSize,onValueChange:$=>Y("complianceTeamSize",$),children:[s.jsx(gt,{id:"complianceTeamSize","data-testid":"select-team-size",children:s.jsx(bt,{placeholder:"Select team size"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"none",children:"No dedicated team"}),s.jsx(ue,{value:"1-2",children:"1-2 people"}),s.jsx(ue,{value:"3-10",children:"3-10 people"}),s.jsx(ue,{value:"over-10",children:"Over 10 people"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyWebsite",className:"text-gray-300",children:"Company Website"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{id:"companyWebsite","data-testid":"input-website",type:"url",value:h.companyWebsite,onChange:$=>Y("companyWebsite",$.target.value),placeholder:"https://www.yourcompany.com",className:"bg-gray-800 border-gray-700 text-white placeholder:text-gray-500 focus:border-cyan-600 transition-colors"}),s.jsxs(F,{onClick:Q,disabled:N||!h.companyWebsite,variant:"outline","data-testid":"button-analyze-website",title:"Analyze website with AI to auto-fill profile fields",children:[N?s.jsx(Ye,{className:"h-4 w-4 animate-spin"}):s.jsx(dZ,{className:"h-4 w-4"}),N?"Analyzing...":"Analyze"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"description",children:"Business Description"}),s.jsx(vn,{id:"description","data-testid":"textarea-description",value:h.description,onChange:$=>Y("description",$.target.value),placeholder:"Describe your business model, products, and services...",rows:4})]}),s.jsxs("div",{className:"flex gap-4",children:[ge&&s.jsxs(F,{variant:"outline",onClick:()=>d(!1),disabled:f,children:[s.jsx(kr,{className:"mr-2 h-4 w-4"}),"Cancel"]}),s.jsx(F,{onClick:ie,disabled:f||!h.companyName||!h.industry,"data-testid":"button-save-profile",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),ge?"Update Profile":"Save Profile"]})})]})]})]}),(u||!ge)&&s.jsxs(s.Fragment,{children:[p&&s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 transition-all duration-500 hover:border-cyan-600/50",children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent",children:"Compliance Maturity Assessment"})]}),s.jsx(Ve,{className:"text-gray-400",children:"Based on your profile, here's your recommended compliance approach"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-500/20 to-cyan-500/20 rounded-lg border border-green-500/30",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium text-green-400",children:"Maturity Score"}),s.jsxs(le,{className:"text-lg px-3 py-1 bg-green-500/20 text-green-400 border-green-500/30",children:[p.score,"/15"]})]}),s.jsx("p",{className:"font-semibold text-white mb-1",children:p.level})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-gray-300",children:"Recommended Actions"}),s.jsx("ul",{className:"space-y-2",children:p.recommendations.map(($,J)=>s.jsxs("li",{className:"flex items-start gap-2 p-2 bg-gray-800/50 rounded-lg hover:bg-gray-800 transition-colors",children:[s.jsx(at,{className:"h-4 w-4 text-green-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-300",children:$})]},J))})]})]})]}),v&&s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 transition-all duration-500 hover:border-cyan-600/50",children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent",children:"Website Analysis Insights"})]}),s.jsx(Ve,{className:"text-gray-400",children:"Extracted compliance information from your website"})]}),s.jsx(X,{children:v.gaps&&v.gaps.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-gray-300",children:"Identified Compliance Gaps"}),s.jsx("div",{className:"space-y-2",children:v.gaps.map(($,J)=>s.jsxs("div",{className:"flex items-start gap-2 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[s.jsx(Rr,{className:"h-4 w-4 text-yellow-400 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-300",children:$})]},J))})]})})]})]}),!i&&s.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-800",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[n&&s.jsxs(F,{variant:"outline",onClick:n,className:"flex items-center gap-2 text-gray-300 border-gray-700 hover:bg-gray-800","data-testid":"button-previous-step",children:[s.jsx(ri,{className:"h-4 w-4"}),"Back"]}),!n&&s.jsx("div",{}),(j==null?void 0:j.id)&&t&&s.jsxs(F,{size:"lg",onClick:()=>{e(h),t()},className:"bg-cyan-600 hover:bg-cyan-700 text-white font-semibold px-8 py-3 shadow-lg","data-testid":"button-continue-assessment",children:["Continue to Risk Assessment",s.jsx(Er,{className:"ml-2 h-5 w-5"})]})]}),!(j!=null&&j.id)&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-yellow-400 flex items-center justify-center gap-2","data-testid":"text-status-profile-required",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Save your business profile to continue"]})})]})]})},Ple=({organizationId:e,className:t,onAnalysisComplete:n,onNextStep:r,onSelectionChange:a,onUploadingChange:i,hideButtons:o=!1,isAnonymous:l=!1,anonymousSessionId:c=null})=>{const u=wt(),[d,f]=y.useState(new Set),[m,h]=y.useState(!1),[g,p]=y.useState(!1),{data:x=[],isLoading:v,error:b,refetch:w}=$e({queryKey:e?Je.organizationDocuments(e):["documents",null],queryFn:()=>e?es.getOrganizationDocuments(e):Promise.resolve([]),enabled:!!e&&!l,staleTime:3e4,gcTime:5*60*1e3}),{data:N,isLoading:j,error:S,refetch:C}=$e({queryKey:["anonymous-documents",c],queryFn:()=>_v.getDocuments(c||void 0),enabled:l&&!!c,staleTime:3e4,gcTime:5*60*1e3}),P=l?(N==null?void 0:N.documents)||[]:x,A=l?j:v,T=l?S:b,E=l?C:w,k=(Q,ie)=>{f(ae=>{const ge=new Set(ae);return ie?ge.add(Q):ge.delete(Q),a&&a(ge),ge})},R=()=>{const Q=d.size===P.length?new Set:new Set(P.map(ie=>ie.id));f(Q),a&&a(Q)},I=Q=>Q.includes("pdf")?"POLICY":Q.includes("word")||Q.includes("document")?"COMPLIANCE_CERT":Q.includes("spreadsheet")||Q.includes("excel")?"AUDIT_REPORT":(Q.includes("image"),"OTHER"),D=async Q=>{const ie=Q==null?void 0:Q[0];if(ie&&!(!l&&!e)&&!(l&&!c)){h(!0),i&&i(!0);try{let ae,ge,$;l?(ae=await _v.generateUploadUrl({filename:ie.name,mimeType:ie.type,size:ie.size,documentType:I(ie.type)}),$=ae.presignedUrl,ge={id:ae.documentId}):(ae=await es.getUploadUrl({organizationId:e,filename:ie.name,mimeType:ie.type,size:ie.size,documentType:I(ie.type)}),ge=ae.document,$=ae.uploadUrl);const J=await fetch($,{method:"PUT",body:ie,headers:{"Content-Type":ie.type}});if(!J.ok)throw new Error(`Failed to upload file to storage: ${J.status} ${J.statusText}`);l?u.invalidateQueries({queryKey:["anonymous-documents",c]}):u.invalidateQueries({queryKey:Je.organizationDocuments(e)}),f(Z=>new Set([...Z,ge.id])),a&&a(new Set([...d,ge.id])),Ae({title:"Document Uploaded",description:`${ie.name} uploaded and selected for risk assessment.`})}catch(ae){console.error("Error uploading document:",ae),Ae({title:"Upload Failed",description:ae.message||"Failed to upload document. Please try again.",variant:"destructive"})}finally{h(!1),i&&i(!1)}}},B=y.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),Q.type==="dragenter"||Q.type==="dragover"?p(!0):Q.type==="dragleave"&&p(!1)},[]),V=y.useCallback(Q=>{Q.preventDefault(),Q.stopPropagation(),p(!1),Q.dataTransfer.files&&Q.dataTransfer.files[0]&&D(Q.dataTransfer.files)},[]),O=(Q,ie)=>{var $;const ae=($=Q.split(".").pop())==null?void 0:$.toLowerCase(),ge=(ie==null?void 0:ie.toLowerCase())||"";return ge.includes("pdf")||ae==="pdf"?s.jsx(ft,{className:"h-4 w-4 text-red-400"}):ge.includes("word")||ge.includes("document")||["doc","docx"].includes(ae||"")?s.jsx(ft,{className:"h-4 w-4 text-blue-400"}):ge.includes("spreadsheet")||ge.includes("excel")||["xls","xlsx"].includes(ae||"")?s.jsx(cA,{className:"h-4 w-4 text-green-400"}):ge.includes("image")||["png","jpg","jpeg","gif"].includes(ae||"")?s.jsx(BF,{className:"h-4 w-4 text-purple-400"}):s.jsx(FF,{className:"h-4 w-4 text-gray-400"})},_=Q=>{if(Q===0)return"0 Bytes";const ie=1024,ae=["Bytes","KB","MB","GB"],ge=Math.floor(Math.log(Q)/Math.log(ie));return parseFloat((Q/Math.pow(ie,ge)).toFixed(2))+" "+ae[ge]},z=Q=>{if(!Q)return"Recent";const ie=new Date(Q);return isNaN(ie.getTime())?"Recent":ie.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})};if(!(l?!!c:!!e))return s.jsxs("div",{className:se("bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg transition-all duration-500",t),children:[s.jsx("div",{className:"p-6 border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-orange-500/20 rounded-lg",children:s.jsx(tn,{className:"h-6 w-6 text-orange-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold bg-gradient-to-r from-orange-400 to-red-400 bg-clip-text text-transparent",children:"Document Selection"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Choose documents for your risk assessment"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pt,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Create your business profile first to enable document processing"})]})})]});if(A)return s.jsxs("div",{className:se("bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg transition-all duration-500",t),children:[s.jsx("div",{className:"p-6 border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-10 w-10 rounded-lg bg-gray-800"}),s.jsx(Et,{className:"h-6 w-64 bg-gray-800"})]})}),s.jsx("div",{className:"p-6 space-y-4",children:[1,2,3].map(Q=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-4 w-4 bg-gray-800"}),s.jsx(Et,{className:"h-4 flex-1 bg-gray-800"}),s.jsx(Et,{className:"h-4 w-16 bg-gray-800"})]},Q))})]});if(T)return s.jsx("div",{className:se("bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg transition-all duration-500",t),children:s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-white",children:"Failed to Load Documents"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please try refreshing the page"})]}),s.jsx(F,{onClick:()=>E(),className:"mt-4 bg-red-600 hover:bg-red-700 text-white transition-colors","data-testid":"button-retry-documents",children:"Try Again"})]})})});const Y=d.size>0;return s.jsxs(K,{className:se("bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg transition-all duration-500",t),children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5 text-orange-400"}),s.jsx("span",{className:"text-white",children:"Document Selection"}),Y&&s.jsx(at,{className:"h-5 w-5 text-green-400 ml-1"})]}),s.jsx(Ve,{className:"text-gray-400",children:"Choose documents for your risk assessment analysis"})]}),s.jsxs(X,{className:"space-y-6",children:[P.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pr,{checked:d.size===P.length&&P.length>0,onCheckedChange:R,className:"border-gray-600 data-[state=checked]:bg-orange-500 data-[state=checked]:border-orange-500","data-testid":"checkbox-select-all"}),s.jsxs("span",{className:"text-sm font-medium text-white",children:["Select All (",P.length," documents)"]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:"Choose documents for risk assessment analysis"})]}),s.jsx("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:P.map(Q=>s.jsxs("div",{className:se("flex items-center gap-3 p-3 rounded-lg border transition-all duration-200",d.has(Q.id)?"bg-orange-500/10 border-orange-500/30 shadow-sm":"bg-gray-800/30 border-gray-700 hover:border-gray-600 hover:bg-gray-800/50"),children:[s.jsx(Pr,{checked:d.has(Q.id),onCheckedChange:ie=>k(Q.id,ie),className:"border-gray-600 data-[state=checked]:bg-orange-500 data-[state=checked]:border-orange-500","data-testid":`checkbox-document-${Q.id}`}),s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("div",{className:"p-1.5 bg-gray-700 rounded-md",children:O(Q.filename,Q.mimeType)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:Q.filename}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx("span",{children:_(Q.size)}),s.jsx("span",{children:"•"}),s.jsx("span",{children:z(Q.createdAt||Q.uploadedAt)})]})]})]}),s.jsx(le,{variant:"outline",className:"text-xs bg-gray-700/50 text-gray-300 border-gray-600",children:Q.documentType})]},Q.id))})]}),s.jsxs("div",{className:se("relative border-2 border-dashed rounded-lg p-6 transition-all duration-300",g?"border-orange-500 bg-orange-500/10":"border-gray-600 hover:border-orange-500/50 hover:bg-orange-500/5"),onDragEnter:B,onDragLeave:B,onDragOver:B,onDrop:V,children:[s.jsx("input",{type:"file",onChange:Q=>D(Q.target.files),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg",disabled:m,"data-testid":"input-file-upload"}),s.jsx("div",{className:"text-center",children:m?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Ye,{className:"h-8 w-8 text-orange-400 animate-spin"}),s.jsx("p",{className:"text-sm font-medium text-white",children:"Uploading document..."}),s.jsx("p",{className:"text-xs text-gray-400",children:"Please wait while we upload your file"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:s.jsx(Wa,{className:"h-6 w-6 text-purple-400"})}),s.jsx("p",{className:"text-sm font-medium text-white",children:"Add New Document"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Drag & drop files here or click to browse"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supports PDF, Word, Excel, and image files"})]})})]}),!o&&s.jsx("div",{className:"flex justify-center pt-6 border-t border-gray-700",children:s.jsxs(F,{onClick:()=>{r&&r()},className:"flex items-center gap-2 px-6 py-3 text-base font-medium bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white transition-all duration-300 shadow-lg hover:shadow-xl","data-testid":"button-proceed-document-selection",children:[s.jsx(Er,{className:"h-5 w-5"}),"Proceed to Next Step"]})})]})]})};function Ale(){const{assessmentId:e}=Pb(),t=Rt(),{user:n}=Cs(),[r,a]=y.useState("profile"),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(new Set),[f,m]=y.useState(!1),[h,g]=y.useState(!1),[p,x]=y.useState(0),{data:v}=$e({queryKey:Je.myOrganization,queryFn:Co.getMyOrganization,enabled:!!(n!=null&&n.id),retry:1}),{data:b}=$e({queryKey:["assessment",e],queryFn:()=>Wt.getAssessment(e),enabled:!!e,retry:1,onError:k=>{console.error("Error fetching assessment:",k)}}),{data:w,refetch:N}=$e({queryKey:["assessment-progress",e],queryFn:()=>Wt.getAssessmentProgress(e),enabled:!1,retry:!1,onError:k=>{console.log("Progress endpoint not available yet")}}),j=k=>{if(!w&&!i&&!u.size)switch(k){case"profile":return r==="profile"?"active":"incomplete";case"documents":return i?r==="documents"?"active":"incomplete":"pending";default:return"pending"}switch(w!=null&&w.status,w!=null&&w.answeredQuestions,w!=null&&w.totalQuestions,k){case"profile":return i?"complete":r==="profile"?"active":"incomplete";case"documents":return i?u.size>0?"complete":r==="documents"?"active":"incomplete":"pending";case"risk-identification":return!i||u.size===0?"pending":h&&p>0&&p<=33?"processing":p>33?"complete":"pending";case"gap-analysis":return!i||u.size===0?"pending":h&&p>33&&p<=66?"processing":p>66?"complete":"pending";case"risk-scoring":return!i||u.size===0?"pending":h&&p>66&&p<100?"processing":p>=100?"complete":"pending";default:return"pending"}},S=()=>{let k=0;if(i&&(k+=20),u.size>0&&(k+=20),h||p>0){const R=p*.6;k+=R}else if(w&&w.totalQuestions>0){const R=w.answeredQuestions/w.totalQuestions*60;k+=R}return Math.min(k,100)},C=()=>{if(!w||w.totalQuestions===0)return"7 minutes";const{answeredQuestions:k,totalQuestions:R}=w,B=(R-k)*2,V=Math.ceil(B/60);return`${V} minute${V!==1?"s":""}`},P=async()=>{if(e)try{g(!0);let k=0;const R=setInterval(()=>{k+=5,x(k),k>=100&&(clearInterval(R),g(!1),Ae({title:"Assessment Complete",description:"Redirecting to results..."}),setTimeout(()=>{t(`/assessment/results/${e}`)},1500))},500);try{await Wt.executeAssessment(e)}catch{console.log("API call failed, using simulation mode")}Ae({title:"AI Analysis Started",description:"Your assessment is being processed."})}catch(k){console.error("Failed to start assessment:",k),Ae({title:"Error",description:"Failed to start AI analysis. Please try again.",variant:"destructive"}),g(!1)}};y.useEffect(()=>{i&&u.size>0&&!h&&(!w||w.status==="DRAFT")&&P()},[i,u.size,w==null?void 0:w.status]);const A=k=>{a(r===k?null:k)},T=S(),E=h||p>0?p:w&&w.totalQuestions>0?w.answeredQuestions/w.totalQuestions*100:0;return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(50)].map((k,R)=>s.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`},children:s.jsx("div",{className:"w-1 h-1 bg-white rounded-full opacity-50"})},R))}),s.jsx("div",{className:"relative z-10 border-b border-gray-800 bg-gray-900/50 backdrop-blur-sm",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(tn,{className:"h-6 w-6 text-cyan-400"}),s.jsx("span",{className:"text-lg font-semibold text-white",children:"Heliolus AI"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(F,{variant:"ghost",className:"text-gray-400",children:"Dashboard"}),s.jsx(F,{variant:"ghost",className:"text-cyan-400 bg-cyan-500/10",children:"Assessments"}),s.jsx(F,{variant:"ghost",className:"text-gray-400",children:"Marketplace"}),s.jsx(F,{variant:"ghost",className:"text-gray-400",children:"Reports"})]})]})})}),s.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center space-y-6 mb-12",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"p-4 rounded-full",children:s.jsx(rf,{className:"h-16 w-16 text-gray-400"})})}),s.jsx("h1",{className:"text-4xl font-bold text-white",children:"AI Risk Analysis in Progress"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Our advanced AI is analyzing your compliance framework"}),(b==null?void 0:b.template)&&s.jsx(le,{className:"bg-cyan-600/20 text-cyan-400 border-cyan-500/50 px-4 py-1.5 text-sm",children:b.template.name||"Trade Compliance Assessment"})]}),s.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-lg border border-gray-800 p-6 mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Overall Progress"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Estimated time remaining: ",C()]})]}),s.jsxs("div",{className:"text-3xl font-bold text-white",children:[Math.round(T),"%"]})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"h-2 bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-cyan-400 transition-all duration-500",style:{width:`${T}%`}})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hm,{title:"Initializing Assessment",description:i?"Setting up your risk assessment environment":"Complete your business profile to begin",icon:tn,state:j("profile"),isExpandable:!0,isExpanded:r==="profile",onToggle:()=>A("profile"),children:s.jsx(o8,{onProfileComplete:()=>{},onProfileSaved:o,onProfileSaving:c,hideButtons:!0,isAnonymous:!1})}),s.jsx(Hm,{title:"Analyzing Documents",description:u.size>0?"Processing uploaded compliance documents":"Upload documents for AI analysis",icon:ft,state:j("documents"),isExpandable:i,isExpanded:r==="documents",onToggle:()=>i&&A("documents"),children:s.jsx(Ple,{organizationId:(v==null?void 0:v.id)||null,onSelectionChange:d,onUploadingChange:m,hideButtons:!0,isAnonymous:!1,onAnalysisComplete:()=>{}})}),s.jsx(Hm,{title:"Identifying Risks",description:"Detecting potential compliance risks and vulnerabilities",icon:Rr,state:j("risk-identification"),processingProgress:j("risk-identification")==="processing"?Math.min(E*3,100):void 0}),s.jsx(Hm,{title:"Gap Analysis",description:"Comparing current state with compliance requirements",icon:is,state:j("gap-analysis"),processingProgress:j("gap-analysis")==="processing"?Math.min((E-33.33)*3,100):void 0}),s.jsx(Hm,{title:"Risk Scoring",description:"Calculating comprehensive risk scores",icon:Vl,state:j("risk-scoring"),processingProgress:j("risk-scoring")==="processing"?Math.min((E-66.66)*3,100):void 0})]}),h&&s.jsxs("div",{className:"fixed bottom-8 right-8 p-4 rounded-lg bg-gray-900/90 backdrop-blur-sm border border-gray-800 shadow-xl",children:[s.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Assessment Created"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Starting AI analysis..."})]}),p>=100&&s.jsxs("div",{className:"mt-8 p-6 rounded-lg bg-green-500/10 border border-green-500/30 text-center",children:[s.jsx(at,{className:"h-12 w-12 text-green-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-2",children:"Assessment Complete!"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Your risk assessment has been analyzed. Redirecting to results..."})]})]})]})}var l8="AlertDialog",[Ele,j9e]=Zn(l8,[MV]),$o=MV(),c8=e=>{const{__scopeAlertDialog:t,...n}=e,r=$o(t);return s.jsx(eE,{...r,...n,modal:!0})};c8.displayName=l8;var kle="AlertDialogTrigger",Tle=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=$o(n);return s.jsx(XV,{...a,...r,ref:t})});Tle.displayName=kle;var Ole="AlertDialogPortal",u8=e=>{const{__scopeAlertDialog:t,...n}=e,r=$o(t);return s.jsx(tE,{...r,...n})};u8.displayName=Ole;var _le="AlertDialogOverlay",d8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=$o(n);return s.jsx($g,{...a,...r,ref:t})});d8.displayName=_le;var _d="AlertDialogContent",[Rle,Mle]=Ele(_d),Ile=cF("AlertDialogContent"),f8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=$o(n),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return s.jsx(Aie,{contentName:_d,titleName:m8,docsSlug:"alert-dialog",children:s.jsx(Rle,{scope:n,cancelRef:c,children:s.jsxs(Lg,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:be(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Ile,{children:r}),s.jsx($le,{contentRef:o})]})})})});f8.displayName=_d;var m8="AlertDialogTitle",h8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=$o(n);return s.jsx(Fg,{...a,...r,ref:t})});h8.displayName=m8;var p8="AlertDialogDescription",g8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=$o(n);return s.jsx(Bg,{...a,...r,ref:t})});g8.displayName=p8;var Dle="AlertDialogAction",x8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=$o(n);return s.jsx(Bb,{...a,...r,ref:t})});x8.displayName=Dle;var y8="AlertDialogCancel",v8=y.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=Mle(y8,n),i=$o(n),o=Ke(t,a);return s.jsx(Bb,{...i,...r,ref:o})});v8.displayName=y8;var $le=({contentRef:e})=>{const t=`\`${_d}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_d}\` by passing a \`${p8}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_d}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Lle=c8,Fle=u8,b8=d8,w8=f8,j8=x8,N8=v8,S8=h8,C8=g8;const mE=Lle,Ble=Fle,P8=y.forwardRef(({className:e,...t},n)=>s.jsx(b8,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));P8.displayName=b8.displayName;const Kb=y.forwardRef(({className:e,...t},n)=>s.jsxs(Ble,{children:[s.jsx(P8,{}),s.jsx(w8,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Kb.displayName=w8.displayName;const Gb=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gb.displayName="AlertDialogHeader";const Yb=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Yb.displayName="AlertDialogFooter";const Xb=y.forwardRef(({className:e,...t},n)=>s.jsx(S8,{ref:n,className:se("text-lg font-semibold",e),...t}));Xb.displayName=S8.displayName;const Qb=y.forwardRef(({className:e,...t},n)=>s.jsx(C8,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Qb.displayName=C8.displayName;const Zb=y.forwardRef(({className:e,...t},n)=>s.jsx(j8,{ref:n,className:se(LA(),e),...t}));Zb.displayName=j8.displayName;const Jb=y.forwardRef(({className:e,...t},n)=>s.jsx(N8,{ref:n,className:se(LA({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jb.displayName=N8.displayName;const A8=({organizationId:e,className:t,selectionMode:n=!1,selectedDocuments:r=[],onSelectionChange:a,maxSelection:i=5})=>{const o=wt(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(new Set),{data:p,isLoading:x,error:v,refetch:b}=$e({queryKey:e?Je.organizationDocuments(e):["documents",null],queryFn:()=>e?es.getOrganizationDocuments(e):Promise.resolve({data:[]}),enabled:!!e,staleTime:3e4,gcTime:5*60*1e3,refetchInterval:_=>((_==null?void 0:_.data)||[]).some(Y=>!Y.evidenceTier)?2e3:!1}),w=(p==null?void 0:p.data)||[],N=_=>{if(!a)return;const z=r.includes(_);let ne;if(z)ne=r.filter(Y=>Y!==_);else{if(r.length>=i){Ae({title:"Selection limit reached",description:`You can select up to ${i} documents`,variant:"destructive"});return}ne=[...r,_]}a(ne)},j=it({mutationFn:es.deleteDocument,onMutate:async _=>{if(!e)return;const z=Je.organizationDocuments(e);await o.cancelQueries({queryKey:z});const ne=o.getQueryData(z);return o.setQueryData(z,Y=>Y?{...Y,data:Y.data.filter(Q=>Q.id!==_),pagination:{...Y.pagination,total:Y.pagination.total-1}}:{data:[],pagination:{total:0,page:1,limit:10,totalPages:0}}),m(null),{previousData:ne,queryKey:z}},onSuccess:()=>{Ae({title:"Document Deleted",description:"Document has been successfully removed."})},onError:(_,z,ne)=>{var Q,ie;ne!=null&&ne.previousData&&(ne!=null&&ne.queryKey)&&o.setQueryData(ne.queryKey,ne.previousData);const Y=_.message||"Failed to delete document. Please try again.";(Q=_.message)!=null&&Q.includes("404")||(ie=_.message)!=null&&ie.includes("not found")?Ae({title:"Document Already Deleted",description:"This document was already removed."}):Ae({title:"Delete Failed",description:Y,variant:"destructive"})},onSettled:()=>{e&&o.invalidateQueries({queryKey:Je.organizationDocuments(e)})}}),S=()=>{f&&j.mutate(f.id)},C=async _=>{if(!_||!e)return;c(!0);const z=[],ne=Array.from(_);for(const Y of ne)z.push(P(Y));try{const Y=await Promise.allSettled(z),Q=Y.filter(ae=>ae.status==="fulfilled").length,ie=Y.filter(ae=>ae.status==="rejected").length;await o.invalidateQueries({queryKey:Je.organizationDocuments(e)}),Q>0&&ie===0?Ae({title:"Upload Complete",description:`Successfully uploaded ${Q} document${Q!==1?"s":""}. Processing tier classification...`}):Q>0&&ie>0?Ae({title:"Partial Upload Success",description:`Uploaded ${Q} document${Q!==1?"s":""}, ${ie} failed.`,variant:"default"}):ie>0&&Q===0&&Ae({title:"Upload Failed",description:`Failed to upload ${ie} document${ie!==1?"s":""}.`,variant:"destructive"}),setTimeout(async()=>{await o.invalidateQueries({queryKey:Je.organizationDocuments(e)})},3e3)}finally{c(!1)}},P=async _=>{try{let z=_.type;_.name.toLowerCase().endsWith(".csv")&&(!_.type||_.type==="application/octet-stream")&&(z="text/csv");const ne=await es.getUploadUrl({organizationId:e,filename:_.name,mimeType:z,size:_.size,documentType:D(z)}),{document:Y,uploadUrl:Q}=ne,ie=await fetch(Q,{method:"PUT",body:_,headers:{"Content-Type":z}});if(!ie.ok)throw new Error(`Failed to upload ${_.name}: ${ie.status}`);await es.confirmUpload(Y.id)}catch(z){throw console.error(`Error uploading ${_.name}:`,z),z}},A=y.useCallback(_=>{_.preventDefault(),_.stopPropagation(),_.type==="dragenter"||_.type==="dragover"?d(!0):_.type==="dragleave"&&d(!1)},[]),T=y.useCallback(_=>{_.preventDefault(),_.stopPropagation(),d(!1),C(_.dataTransfer.files)},[e]),E=_=>{var Y;const z=_.filename.toLowerCase();if(z.includes("audit"))return"Audit Report";if(z.includes("cert")||z.includes("certificate"))return"Compliance Certificate";if(z.includes("risk")&&z.includes("assessment"))return"Risk Assessment";if(z.includes("policy")||z.includes("policies"))return"Policy";if(z.includes("procedure")||z.includes("process"))return"Procedure";if(z.includes("framework")||z.includes("standard"))return"Framework";if(z.includes("contract")||z.includes("agreement"))return"Contract";if(z.includes("financial")||z.includes("finance"))return"Financial Document";if(z.includes("report")||z.includes("annual"))return"Report";if(z.includes("compliance"))return"Compliance Document";const ne=(Y=z.split(".").pop())==null?void 0:Y.toLowerCase();return ne==="csv"||ne==="xls"||ne==="xlsx"?"Spreadsheet":"Document"},k=_=>{switch(_.toLowerCase()){case"policy":return"bg-blue-500/20 text-blue-400 border-blue-500/50";case"audit report":return"bg-purple-500/20 text-purple-400 border-purple-500/50";case"compliance certificate":return"bg-green-500/20 text-green-400 border-green-500/50";case"risk assessment":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"contract":return"bg-pink-500/20 text-pink-400 border-pink-500/50";case"procedure":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/50";case"framework":return"bg-indigo-500/20 text-indigo-400 border-indigo-500/50";case"report":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"financial document":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"compliance document":return"bg-teal-500/20 text-teal-400 border-teal-500/50";case"spreadsheet":return"bg-lime-500/20 text-lime-400 border-lime-500/50";case"document":default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},R=_=>{switch(_){case"TIER_2":return{color:"bg-green-500/20 text-green-400 border-green-500/50",label:"System-Generated",icon:"✓✓"};case"TIER_1":return{color:"bg-blue-500/20 text-blue-400 border-blue-500/50",label:"Policy Document",icon:"✓"};case"TIER_0":return{color:"bg-amber-500/20 text-amber-400 border-amber-500/50",label:"Self-Declared",icon:"○"};default:return{color:"bg-gray-500/20 text-gray-400 border-gray-500/50",label:"Processing...",icon:"⟳"}}},I=_=>_.evidenceTier,D=_=>_.includes("pdf")?"POLICY":_.includes("image")?"CERTIFICATE":_.includes("spreadsheet")||_.includes("excel")?"REPORT":"POLICY",B=(_,z)=>z!=null&&z.includes("image")?s.jsx(BF,{className:"h-4 w-4 text-gray-400"}):z!=null&&z.includes("spreadsheet")||z!=null&&z.includes("excel")?s.jsx(cA,{className:"h-4 w-4 text-gray-400"}):_.endsWith(".pdf")?s.jsx(ft,{className:"h-4 w-4 text-gray-400"}):s.jsx(FF,{className:"h-4 w-4 text-gray-400"}),V=_=>{if(_===0)return"0 Bytes";const z=1024,ne=["Bytes","KB","MB","GB"],Y=Math.floor(Math.log(_)/Math.log(z));return parseFloat((_/Math.pow(z,Y)).toFixed(2))+" "+ne[Y]},O=_=>new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e?s.jsxs(K,{className:se("bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-500",t),children:[!n&&s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:s.jsx(qa,{className:"h-5 w-5 text-blue-400"})}),"Document Storage"]}),s.jsx(Ve,{className:"text-gray-400",children:"Upload and manage your organization documents"})]}),s.jsxs(X,{className:se(n?"p-2 sm:p-6":"space-y-6"),children:[!n&&s.jsx("div",{className:se("border-2 border-dashed rounded-lg p-8 text-center transition-colors",u?"border-blue-400 bg-blue-50":"border-gray-200",l?"pointer-events-none opacity-50":"cursor-pointer hover:border-blue-300"),onDragEnter:A,onDragLeave:A,onDragOver:A,onDrop:T,onClick:()=>{if(!l){const _=document.createElement("input");_.type="file",_.accept=".pdf,.doc,.docx,.xls,.xlsx,.csv,.jpg,.jpeg,.png",_.multiple=!0,_.onchange=z=>C(z.target.files),_.click()}},"data-testid":"document-upload-area",children:l?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(Ye,{className:"h-8 w-8 animate-spin text-blue-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Uploading documents..."})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(qa,{className:"h-8 w-8 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, Word, Excel, CSV, Images (max 10MB) - Multiple files supported"})]})]})}),s.jsxs("div",{className:se(n?"space-y-2":"space-y-4"),children:[!n&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Uploaded Documents"}),w.length>0&&s.jsxs(le,{variant:"secondary",className:"text-xs",children:[w.length," document",w.length!==1?"s":""]})]}),x&&s.jsx("div",{className:"space-y-2",children:[1,2,3].map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Et,{className:"h-4 w-4"}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx(Et,{className:"h-4 w-48"}),s.jsx(Et,{className:"h-3 w-32"})]})]}),s.jsx(Et,{className:"h-8 w-8"})]},_))}),v&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Pt,{className:"h-4 w-4 text-red-500"}),s.jsx("p",{className:"text-sm text-red-700",children:"Failed to load documents. Please try again."}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>b(),className:"ml-auto","data-testid":"button-retry-documents",children:"Retry"})]}),!x&&!v&&w.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-gray-500",children:"No documents uploaded yet"}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Upload your first document to get started"})]}),!x&&!v&&w.length>0&&s.jsx("div",{className:"space-y-2","data-testid":"documents-list",children:w.map(_=>{const z=E(_),ne=I(_),Y=R(ne);return s.jsxs("div",{className:se(n?"flex items-center gap-2 p-2 border border-gray-700 rounded hover:bg-gray-800/50 transition-all":"flex items-center justify-between p-3 border border-gray-700 rounded-lg hover:bg-gray-800/50 hover:border-cyan-600/50 transition-all duration-200",n&&r.includes(_.id)&&"bg-cyan-900/20 border-cyan-600"),"data-testid":`document-${_.id}`,children:[s.jsxs("div",{className:se("flex items-center flex-1 min-w-0",n?"gap-2":"gap-3"),children:[n&&s.jsx(Pr,{checked:r.includes(_.id),onCheckedChange:()=>N(_.id),className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),!n&&s.jsx("div",{className:"flex-shrink-0 p-1.5 bg-gray-800 rounded-md",children:B(_.filename,_.mimeType)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:se("font-medium text-gray-100 truncate",n?"text-xs sm:text-sm":"text-sm"),children:_.filename}),!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx("span",{children:V(_.size)}),s.jsx("span",{children:"•"}),s.jsx("span",{children:O(_.createdAt)})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(le,{className:`text-xs px-2 py-0.5 ${k(z)}`,children:z}),s.jsxs(le,{className:`text-xs px-2 py-0.5 ${Y.color}`,children:[s.jsx("span",{className:"mr-1",children:Y.icon}),Y.label]})]})]}),n&&s.jsxs("div",{className:"hidden sm:flex items-center gap-1 text-xs text-gray-400 mt-0.5",children:[s.jsx("span",{children:V(_.size)}),ne&&ne!=="TIER_0"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"text-cyan-400",children:Y.icon})]})]})]})]}),!n&&s.jsx("div",{className:"flex items-center gap-1 flex-shrink-0",children:s.jsx(F,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>m(_),disabled:j.isPending||l,"data-testid":`button-delete-${_.id}`,children:s.jsx(cp,{className:"h-4 w-4 text-gray-400 hover:text-red-500"})})})]},_.id)})})]}),s.jsx(mE,{open:!!f,onOpenChange:()=>m(null),children:s.jsxs(Kb,{"data-testid":"delete-confirmation-dialog",children:[s.jsxs(Gb,{children:[s.jsx(Xb,{children:"Delete Document"}),s.jsxs(Qb,{children:['Are you sure you want to delete "',f==null?void 0:f.filename,'"? This action cannot be undone.']})]}),s.jsxs(Yb,{children:[s.jsx(Jb,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(Zb,{onClick:S,disabled:j.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-confirm-delete",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})})]})]}):s.jsxs(K,{className:se("bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-500",t),children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-3 text-white",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20",children:s.jsx(qa,{className:"h-5 w-5 text-blue-400"})}),"Document Storage"]}),s.jsx(Ve,{className:"text-gray-400",children:"Upload and manage your organization documents"})]}),s.jsx(X,{children:s.jsx("div",{className:"flex items-center justify-center h-32 border-2 border-dashed border-gray-700 rounded-lg bg-gray-800/30",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Please save your business profile first to upload documents"})})})]})};var ew="Tabs",[Vle,N9e]=Zn(ew,[am]),E8=am(),[Ule,hE]=Vle(ew),k8=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_u(l),[f,m]=zs({prop:r,onChange:a,defaultProp:i??"",caller:ew});return s.jsx(Ule,{scope:n,baseId:ga(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(Te.div,{dir:d,"data-orientation":o,...u,ref:t})})});k8.displayName=ew;var T8="TabsList",O8=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=hE(T8,n),o=E8(n);return s.jsx(BA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:s.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});O8.displayName=T8;var _8="TabsTrigger",R8=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,o=hE(_8,n),l=E8(n),c=D8(o.baseId,r),u=$8(o.baseId,r),d=r===o.value;return s.jsx(VA,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:be(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:be(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:be(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});R8.displayName=_8;var M8="TabsContent",I8=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...o}=e,l=hE(M8,n),c=D8(l.baseId,r),u=$8(l.baseId,r),d=r===l.value,f=y.useRef(d);return y.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(wr,{present:a||d,children:({present:m})=>s.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});I8.displayName=M8;function D8(e,t){return`${e}-trigger-${t}`}function $8(e,t){return`${e}-content-${t}`}var zle=k8,L8=O8,F8=R8,B8=I8;const dc=zle,Lo=y.forwardRef(({className:e,...t},n)=>s.jsx(L8,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Lo.displayName=L8.displayName;const mn=y.forwardRef(({className:e,...t},n)=>s.jsx(F8,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));mn.displayName=F8.displayName;const Un=y.forwardRef(({className:e,...t},n)=>s.jsx(B8,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Un.displayName=B8.displayName;const Wle=()=>{var h,g;const{data:e=[],isLoading:t}=$e({queryKey:Je.assessments,queryFn:Wt.getAssessments}),{data:n=[],isLoading:r}=$e({queryKey:["rfps"],queryFn:()=>DA.getRFPs()}),a=e.filter(p=>p.status==="COMPLETED"),i=a.length>0?a.sort((p,x)=>new Date(x.completedAt||x.updatedAt).getTime()-new Date(p.completedAt||p.updatedAt).getTime())[0]:null,{data:o,isLoading:l}=$e({queryKey:["assessmentResults",i==null?void 0:i.id],queryFn:()=>Wt.getAssessmentResults(i.id),enabled:!!(i!=null&&i.id)}),c=n.filter(p=>p.status==="SENT").length,u=((h=o==null?void 0:o.risks)==null?void 0:h.filter(p=>p.riskLevel==="HIGH"||p.riskLevel==="CRITICAL").length)||0,d=(i==null?void 0:i.riskScore)||(o==null?void 0:o.overallRiskScore)||0,f=a.length,m=p=>{switch(p){case"completed":case"resolved":return"bg-green-500/20 text-green-400 border-green-500/30";case"in-progress":case"assessed":return"bg-blue-500/20 text-blue-400 border-blue-500/30";case"pending":case"identified":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/30";case"mitigated":return"bg-purple-500/20 text-purple-400 border-purple-500/30";default:return"bg-gray-800/50 text-gray-400 border-gray-700"}};return s.jsx("div",{className:"space-y-6",children:s.jsxs(dc,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Lo,{className:"grid w-full grid-cols-2 bg-gray-900/50 border border-gray-800 p-1 h-auto",children:[s.jsx(mn,{value:"overview",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400 text-gray-400 hover:text-gray-300 transition-all duration-300",children:"Overview"}),s.jsx(mn,{value:"assessments",className:"data-[state=active]:bg-cyan-500/20 data-[state=active]:text-cyan-400 text-gray-400 hover:text-gray-300 transition-all duration-300",children:"Assessment History"})]}),s.jsx(Un,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-300 group",children:[s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/20 group-hover:bg-blue-500/30 transition-colors",children:s.jsx(lp,{className:"h-5 w-5 text-blue-400"})}),s.jsx(pe,{className:"text-sm font-medium text-gray-300",children:"RFPs Sent"})]})}),s.jsx(X,{children:r?s.jsx(Ye,{className:"h-8 w-8 text-gray-400 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:c}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[n.length," total RFPs"]})]})})]}),s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-300 group",children:[s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-500/20 group-hover:bg-red-500/30 transition-colors",children:s.jsx(Pt,{className:"h-5 w-5 text-red-400"})}),s.jsx(pe,{className:"text-sm font-medium text-gray-300",children:"High/Critical Risks"})]})}),s.jsx(X,{children:l?s.jsx(Ye,{className:"h-8 w-8 text-gray-400 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:u}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[((g=o==null?void 0:o.risks)==null?void 0:g.length)||0," total risks identified"]})]})})]}),s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-300 group",children:[s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-500/20 group-hover:bg-green-500/30 transition-colors",children:s.jsx(Tl,{className:"h-5 w-5 text-green-400"})}),s.jsx(pe,{className:"text-sm font-medium text-gray-300",children:"Latest Score"})]})}),s.jsx(X,{children:t||l?s.jsx(Ye,{className:"h-8 w-8 text-gray-400 animate-spin"}):d>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold text-white",children:[Math.round(d),"%"]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Risk compliance score"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-500",children:"No data"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete an assessment"})]})})]}),s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-300 group",children:[s.jsx(de,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20 group-hover:bg-purple-500/30 transition-colors",children:s.jsx(Vl,{className:"h-5 w-5 text-purple-400"})}),s.jsx(pe,{className:"text-sm font-medium text-gray-300",children:"Assessments"})]})}),s.jsx(X,{children:t?s.jsx(Ye,{className:"h-8 w-8 text-gray-400 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:f}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:i?`Last: ${new Date(i.completedAt||i.updatedAt).toLocaleDateString()}`:"No assessments yet"})]})})]})]})}),s.jsx(Un,{value:"assessments",className:"space-y-6",children:t?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ye,{className:"h-12 w-12 text-cyan-400 animate-spin"})}):a.length===0?s.jsx(K,{className:"bg-gray-900/50 border-gray-800",children:s.jsx(X,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Vl,{className:"h-12 w-12 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"No Assessment History"}),s.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Complete your first assessment to see your compliance history and track progress over time."})]})})}):s.jsx("div",{className:"space-y-4",children:a.map((p,x)=>{var j,S;const v=new Date(p.completedAt||p.updatedAt),b=x<a.length-1?a[x+1]:null,w=(b==null?void 0:b.riskScore)||0,N=p.riskScore||0;return s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-600/50 transition-all duration-300",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg text-white",children:((j=p.template)==null?void 0:j.name)||"Assessment"}),s.jsxs(Ve,{className:"text-gray-400 flex items-center gap-3 mt-1 flex-wrap",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(tn,{className:"h-3 w-3"}),v.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),N>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("span",{className:"flex items-center gap-1",children:["Risk Score: ",Math.round(N),"%"]}),w>0&&s.jsxs("span",{className:se("inline-flex items-center text-sm",N>w?"text-green-400":N<w?"text-red-400":"text-gray-400"),children:[N>w?s.jsx(_r,{className:"h-3 w-3 mr-1"}):N<w?s.jsx(xb,{className:"h-3 w-3 mr-1"}):null,N>w?"+":"",Math.round(N-w),"%"]})]})]})]}),s.jsx(le,{className:se("border",p.status==="COMPLETED"?m("completed"):p.status==="IN_PROGRESS"?m("in-progress"):p.status==="FAILED"?"bg-red-500/20 text-red-400 border-red-500/30":m("pending")),children:p.status==="COMPLETED"?"Completed":p.status==="IN_PROGRESS"?"In Progress":p.status==="FAILED"?"Failed":p.status})]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[s.jsx("div",{className:"font-medium text-sm text-gray-400",children:"Risk Score"}),s.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:N>0?`${Math.round(N)}%`:"N/A"})]}),s.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[s.jsx("div",{className:"font-medium text-sm text-gray-400",children:"Credits Used"}),s.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:p.creditsUsed||0})]}),s.jsxs("div",{className:"text-center p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[s.jsx("div",{className:"font-medium text-sm text-gray-400",children:"Template"}),s.jsx("div",{className:"text-sm font-medium text-white mt-1 truncate",children:((S=p.template)==null?void 0:S.category)||"N/A"})]})]}),p.id&&s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/assessment/results/${p.id}`,className:"border-cyan-600/50 text-cyan-400 hover:bg-cyan-600/10",children:["View Details",s.jsx(Tl,{className:"h-4 w-4 ml-2"})]})})]})]},p.id)})})})]})})};function qle({shouldHighlight:e=!1}){var f,m;const t=wt(),[n,r]=y.useState(!1),[a,i]=y.useState(e),{data:o}=$e({queryKey:["subscription","billing-info"],queryFn:async()=>{const h=mv();if(!h)return null;const g=await fetch(`/v1/subscriptions/${h}/billing-info`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return g.ok?g.json():null},enabled:!!localStorage.getItem("token"),retry:!1}),l=(f=o==null?void 0:o.data)==null?void 0:f.plan,c=((m=o==null?void 0:o.data)==null?void 0:m.creditsBalance)||0,u=it({mutationFn:async()=>{const h=mv();if(!h)throw new Error("User not authenticated");const g=await fetch(`/v1/subscriptions/${h}/purchase-assessment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({stripePriceId:"price_1SOFEGGialFATytvvsEvrpDp"})});if(!g.ok){const p=await g.json();throw new Error(p.message||"Purchase failed")}return g.json()},onSuccess:h=>{var g,p,x;console.log("Purchase response:",h),console.log("Checkout URL:",(g=h.data)==null?void 0:g.checkoutUrl),(p=h.data)!=null&&p.checkoutUrl?(console.log("Redirecting to Stripe:",h.data.checkoutUrl),window.location.href=h.data.checkoutUrl):(console.error("No checkoutUrl in response:",h),t.invalidateQueries({queryKey:["subscription","billing-info"]}),Ae({title:"Purchase Successful!",description:`${((x=h.data)==null?void 0:x.creditsAdded)||50} credits added to your account.`}),r(!1))},onError:h=>{Ae({title:"Purchase Failed",description:h.message,variant:"destructive"})}});if(y.useEffect(()=>{if(e&&c<50&&l==="PREMIUM"){i(!0);const h=setTimeout(()=>{r(!0),i(!1)},800);return()=>clearTimeout(h)}},[e,c,l]),!l||l==="FREE"||l==="ENTERPRISE")return null;const d=c+50;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:se("relative transition-all duration-300"),children:[a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-pink-500 blur-2xl opacity-75 animate-pulse"}),s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-cyan-400 to-pink-400 rounded-lg blur-md opacity-50 animate-pulse"})]}),s.jsx(F,{onClick:()=>r(!0),className:se("relative bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700 transition-all duration-300",a&&"shadow-2xl shadow-cyan-500/50 scale-105 ring-4 ring-cyan-500/30 ring-offset-2 ring-offset-gray-900"),size:"lg",children:a?s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"mr-2 h-5 w-5 animate-pulse"}),"Purchase Additional Assessment - €299",s.jsx($t,{className:"ml-2 h-5 w-5 animate-pulse"})]}):s.jsxs(s.Fragment,{children:[s.jsx(QO,{className:"mr-2 h-5 w-5"}),"Purchase Additional Assessment - €299"]})})]}),s.jsx(Jt,{open:n,onOpenChange:r,children:s.jsxs(Gt,{className:"sm:max-w-[500px]",children:[s.jsxs(Yt,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-pink-500 rounded-full blur-lg opacity-50"}),s.jsx("div",{className:"relative bg-gray-900 rounded-full p-4 border-2 border-cyan-500/50",children:s.jsx(QO,{className:"h-8 w-8 text-cyan-400"})})]})}),s.jsx(Xt,{className:"text-center text-2xl",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx($t,{className:"h-5 w-5 text-yellow-400"}),"Purchase Additional Assessment"]})}),s.jsx(Qt,{className:"text-center text-base pt-4",children:"Add one more assessment to your Premium account"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-pink-900/20 border border-cyan-800/50 rounded-lg p-6 my-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Current Credits:"}),s.jsx("span",{className:"text-xl font-bold text-white",children:c})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"Credits Added:"}),s.jsx("span",{className:"text-xl font-bold text-cyan-400",children:"+50"})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4 flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-300",children:"New Balance:"}),s.jsx("span",{className:"text-2xl font-bold text-green-400",children:d})]})]}),s.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-300",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xn,{className:"h-4 w-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"50 credits = 1 complete assessment (all features)"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xn,{className:"h-4 w-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Full gap analysis and strategy matrix"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xn,{className:"h-4 w-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"AI-powered vendor matching"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xn,{className:"h-4 w-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"Downloadable PDF report"})]})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:"€299"}),s.jsx("p",{className:"text-xs text-gray-400",children:"One-time payment"})]})]}),s.jsxs(pn,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>r(!1),disabled:u.isPending,className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancel"}),s.jsx(F,{onClick:()=>u.mutate(),disabled:u.isPending,className:"w-full sm:w-auto bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700 order-1 sm:order-2",children:u.isPending?"Processing...":"Confirm Purchase"})]})]})})]})}const V8=()=>{const e=Rt(),t=wt(),[n,r]=y.useState(""),[a,i]=y.useState("all"),[o,l]=y.useState("all"),{data:c,isLoading:u,refetch:d}=$e({queryKey:Je.assessments,queryFn:Wt.getAssessments,staleTime:0,cacheTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0}),f=it({mutationFn:j=>Wt.deleteAssessment(j),onSuccess:()=>{t.invalidateQueries({queryKey:Je.assessments})}});y.useEffect(()=>{d();const j=()=>{d()};return window.addEventListener("focus",j),()=>window.removeEventListener("focus",j)},[d]);const h=M.useMemo(()=>c?c.filter(j=>j.status==="COMPLETED"||j.status==="IN_PROGRESS").map(j=>{var E,k,R,I;const S=j.status==="COMPLETED",C=!!j.hasPriorities,P=((E=j.gaps)==null?void 0:E.length)||0,A=((k=j.risks)==null?void 0:k.length)||0;let T;return j.status==="IN_PROGRESS"?T="generating":S&&C?T="completed":S&&!C?T="complete-priorities":T="generating",j.id==="cmh3fju610001phrlckdz3aa2"&&console.log("[Reports] Mapping assessment cmh3fju610001phrlckdz3aa2:",{isCompleted:S,hasPriorities:C,"Boolean(assessment.hasPriorities)":!!j.hasPriorities,"assessment.hasPriorities raw":j.hasPriorities,mappedStatus:T}),{id:j.id,title:((R=j.template)==null?void 0:R.name)||"Assessment Report",type:"assessment",generatedDate:j.completedAt||j.updatedAt,status:T,description:`Risk Score: ${j.riskScore||"Pending"} | ${P} gaps identified | ${A} risks analyzed`,tags:[((I=j.template)==null?void 0:I.category)||"Compliance",j.riskScore>70?"High Risk":j.riskScore>40?"Medium Risk":"Low Risk",P>10?"High Priority":"Standard"].filter(Boolean),riskScore:j.riskScore,gapCount:P,riskCount:A}}):[],[c]).filter(j=>{const S=j.title.toLowerCase().includes(n.toLowerCase())||j.description.toLowerCase().includes(n.toLowerCase())||j.tags.some(A=>A.toLowerCase().includes(n.toLowerCase())),C=a==="all"||j.type===a,P=o==="all"||j.status===o;return S&&C&&P}),g=j=>{switch(j){case"assessment":return s.jsx(Vl,{className:"h-4 w-4"});case"gap-analysis":return s.jsx(_r,{className:"h-4 w-4"});case"vendor-comparison":return s.jsx(eZ,{className:"h-4 w-4"});case"compliance-status":return s.jsx(at,{className:"h-4 w-4"});default:return s.jsx(ft,{className:"h-4 w-4"})}},p=j=>{switch(j){case"completed":return"bg-green-500/20 text-green-400 border border-green-500/30";case"complete-priorities":return"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30";case"generating":return"bg-blue-500/20 text-blue-400 border border-blue-500/30";case"failed":return"bg-red-500/20 text-red-400 border border-red-500/30";default:return"bg-gray-500/20 text-gray-400 border border-gray-500/30"}},x=j=>{switch(j){case"completed":return s.jsx(at,{className:"h-4 w-4"});case"complete-priorities":return s.jsx(Rr,{className:"h-4 w-4"});case"generating":return s.jsx(cr,{className:"h-4 w-4"});case"failed":return s.jsx(Rr,{className:"h-4 w-4"});default:return s.jsx(ft,{className:"h-4 w-4"})}},v=j=>{switch(j){case"completed":return"Completed";case"complete-priorities":return"Complete Priorities";case"generating":return"Generating";case"failed":return"Failed";default:return j}},b=j=>{e(`/assessment/results/${j.id}`)},w=async j=>{try{await Wt.downloadPDFReport(j.id)}catch(S){console.error("Failed to download report:",S)}},N=async j=>{if(window.confirm(`Are you sure you want to delete "${j.title}"? This action cannot be undone.`))try{await f.mutateAsync(j.id)}catch(S){console.error("Failed to delete report:",S)}};return u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your reports..."})]})}):s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"View, download, and manage all your compliance and assessment reports"})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ye,{placeholder:"Search reports...",value:n,onChange:j=>r(j.target.value),className:"max-w-md"})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(vt,{value:a,onValueChange:i,children:[s.jsx(gt,{className:"w-[160px]",children:s.jsx(bt,{placeholder:"Report Type"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Types"}),s.jsx(ue,{value:"assessment",children:"Assessment"}),s.jsx(ue,{value:"gap-analysis",children:"Gap Analysis"}),s.jsx(ue,{value:"vendor-comparison",children:"Vendor Comparison"}),s.jsx(ue,{value:"compliance-status",children:"Compliance Status"})]})]}),s.jsxs(vt,{value:o,onValueChange:l,children:[s.jsx(gt,{className:"w-[140px]",children:s.jsx(bt,{placeholder:"Status"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Status"}),s.jsx(ue,{value:"completed",children:"Completed"}),s.jsx(ue,{value:"generating",children:"Generating"}),s.jsx(ue,{value:"failed",children:"Failed"})]})]})]})]}),s.jsxs(dc,{defaultValue:"grid",className:"w-full",children:[s.jsxs(Lo,{className:"mb-6",children:[s.jsx(mn,{value:"grid",children:"Grid View"}),s.jsx(mn,{value:"list",children:"List View"})]}),s.jsx(Un,{value:"grid",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(j=>s.jsxs(K,{className:"hover:shadow-md transition-shadow",children:[s.jsx(de,{children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[g(j.type),s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:j.title}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs(le,{className:p(j.status),children:[x(j.status),s.jsx("span",{className:"ml-1",children:v(j.status)})]})})]})]})})}),s.jsxs(X,{children:[s.jsx(Ve,{className:"mb-4",children:j.description}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-4",children:[s.jsx(_i,{className:"h-4 w-4"}),new Date(j.generatedDate).toLocaleDateString()]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:j.tags.map(S=>s.jsx(le,{variant:"outline",className:"text-xs bg-gray-800/50 text-gray-300 border-gray-600 hover:bg-gray-700/50",children:S},S))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>b(j),disabled:j.status==="generating","data-testid":`button-view-${j.id}`,title:j.status==="generating"?"Report is generating":"View report",children:j.status==="generating"?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-4 w-4 mr-1 md:mr-2 animate-spin"}),s.jsx("span",{children:"Generating"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"View"})]})}),s.jsxs(F,{size:"sm",onClick:()=>w(j),disabled:j.status!=="completed","data-testid":`button-download-${j.id}`,title:"Download report",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"Download"})]}),s.jsxs(F,{size:"sm",variant:"destructive",onClick:()=>N(j),disabled:f.isPending,"data-testid":`button-delete-${j.id}`,title:"Delete report",children:[s.jsx(cp,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"Delete"})]})]})]})]},j.id))})}),s.jsx(Un,{value:"list",children:s.jsx("div",{className:"space-y-4",children:h.map(j=>s.jsx(K,{children:s.jsx(X,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[g(j.type),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:j.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:j.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs(le,{className:p(j.status),children:[x(j.status),s.jsx("span",{className:"ml-1",children:v(j.status)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[s.jsx(_i,{className:"h-4 w-4"}),new Date(j.generatedDate).toLocaleDateString()]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>b(j),disabled:j.status==="generating","data-testid":`button-view-list-${j.id}`,title:j.status==="generating"?"Report is generating":"View report",children:j.status==="generating"?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-4 w-4 mr-1 md:mr-2 animate-spin"}),s.jsx("span",{children:"Generating"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"View"})]})}),s.jsxs(F,{size:"sm",onClick:()=>w(j),disabled:j.status!=="completed","data-testid":`button-download-list-${j.id}`,title:"Download report",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"Download"})]}),s.jsxs(F,{size:"sm",variant:"destructive",onClick:()=>N(j),disabled:f.isPending,"data-testid":`button-delete-list-${j.id}`,title:"Delete report",children:[s.jsx(cp,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{children:"Delete"})]})]})]})})},j.id))})})]}),h.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ft,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No reports found"}),s.jsx("p",{className:"text-muted-foreground",children:n||a!=="all"||o!=="all"?"Try adjusting your search or filters":"Generate your first report by completing an assessment"})]})]})})},Hle=()=>{const[e,t]=y.useState(0),[n,r]=y.useState(null),[a,i]=y.useState(!1),{user:o}=Cs(),{startTour:l,hasCompleted:c}=$A(),[u,d]=ic(),f=u.get("purchase")==="true";y.useEffect(()=>{if(o&&!c&&o.role==="USER"){const p=setTimeout(()=>{l()},500);return()=>clearTimeout(p)}},[o,c,l]),y.useEffect(()=>{if(f){const p=setTimeout(()=>{u.delete("purchase"),d(u)},3e3);return()=>clearTimeout(p)}},[f,u,d]);const{data:m}=$e({queryKey:Je.myOrganization,queryFn:Co.getMyOrganization,enabled:!!(o!=null&&o.id),retry:1}),h=[{id:"dashboard",title:"Dashboard",icon:Vl,color:"cyan",bgClass:"bg-cyan-500/20",borderClass:"border-cyan-500/50",glowClass:"glow-cyan",auraClass:"bg-cyan-500",iconBgClass:"bg-cyan-500/20",iconTextClass:"text-cyan-400"},{id:"profile",title:"Business Profile",icon:Bl,color:"pink",bgClass:"bg-pink-500/20",borderClass:"border-pink-500/50",glowClass:"glow-pink",auraClass:"bg-pink-500",iconBgClass:"bg-pink-500/20",iconTextClass:"text-pink-400"},{id:"reports",title:"Reports",icon:ft,color:"purple",bgClass:"bg-purple-500/20",borderClass:"border-purple-500/50",glowClass:"glow-purple",auraClass:"bg-purple-500",iconBgClass:"bg-purple-500/20",iconTextClass:"text-purple-400"}],g=p=>{i(!0),setTimeout(()=>{t(p),i(!1)},300)};return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(3)].map((p,x)=>s.jsx("div",{className:"absolute opacity-5",style:{left:`${30+x*25}%`,top:`${20+x*20}%`,animation:`float ${20+x*5}s infinite ease-in-out`},children:s.jsx("div",{className:`w-96 h-96 rounded-full bg-gradient-to-br ${x%2===0?"from-cyan-500 to-cyan-400":"from-pink-500 to-pink-400"}`})},x))}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-cyan-500/20 backdrop-blur-sm",children:s.jsx(tn,{className:"h-10 w-10 text-cyan-400"})}),s.jsx("h1",{className:"text-4xl font-bold mb-4 gradient-text",children:"Risk Management Dashboard"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Comprehensive tools to manage your organization's compliance and risk assessment needs"})]}),s.jsx("div",{className:"mb-8 rounded-2xl bg-gray-900/50 backdrop-blur-sm border border-gray-800",children:s.jsx("div",{className:"flex items-stretch",children:h.map((p,x)=>{const v=p.icon,b=x===e;return s.jsxs("button",{onClick:()=>g(x),className:se("relative flex-1 px-6 py-4 flex flex-col items-center justify-center gap-2","transition-all duration-300 cursor-pointer group","first:rounded-tl-2xl first:rounded-tr-none last:rounded-tr-2xl last:rounded-tl-none","hover:bg-gray-800/30",b&&`${p.bgClass} ${p.borderClass}`),"data-testid":`tab-${p.id}`,"data-tour":p.id==="profile"?"business-profile-tab":void 0,children:[b&&s.jsx("div",{className:`absolute inset-0 ${p.auraClass} opacity-10 blur-2xl`}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[s.jsx("div",{className:se("p-2 rounded-lg transition-all duration-300",b?`${p.bgClass} ${p.borderClass} border`:"group-hover:bg-gray-800/50"),children:s.jsx(v,{className:se("h-6 w-6 transition-all duration-300",b?p.iconTextClass:"text-gray-400 group-hover:text-gray-300")})}),s.jsx("span",{className:se("text-sm font-medium transition-colors duration-300",b?p.iconTextClass:"text-gray-500 group-hover:text-gray-400"),children:p.title})]}),b&&s.jsx("div",{className:se("absolute bottom-0 left-0 right-0 h-0.5 transition-all duration-300",`bg-gradient-to-r ${p.color==="cyan"?"from-cyan-500 to-cyan-400":p.color==="pink"?"from-pink-500 to-pink-400":"from-purple-500 to-purple-400"}`)})]},p.id)})})}),s.jsxs("div",{className:se("transition-all duration-500 transform",a?"opacity-0 translate-y-4":"opacity-100 translate-y-0"),children:[e===0&&s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-cyan-500/10 border border-cyan-500/20 mb-4",children:[s.jsx($t,{className:"h-4 w-4 text-cyan-400"}),s.jsx("span",{className:"text-cyan-400 text-sm font-medium",children:"Compliance Tracking Center"})]}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Monitor Your Progress"}),s.jsx("p",{className:"text-gray-400",children:"Track compliance metrics, risks, and assessment progress in real-time"})]}),s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(qle,{shouldHighlight:f})}),s.jsx(Wle,{})]}),e===1&&s.jsxs("div",{className:"w-full space-y-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-pink-500/10 border border-pink-500/20 mb-4",children:[s.jsx(Bl,{className:"h-4 w-4 text-pink-400"}),s.jsx("span",{className:"text-pink-400 text-sm font-medium",children:"Organization Management"})]}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Business Profile & Documents"}),s.jsx("p",{className:"text-gray-400",children:"Configure your organization details and manage compliance documentation"})]}),s.jsx("div",{"data-tour":"business-profile-form",children:s.jsx(o8,{onProfileComplete:r})}),s.jsx(A8,{organizationId:(m==null?void 0:m.id)||null,className:"transition-all duration-500"})]}),e===2&&s.jsxs("div",{className:"w-full space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-purple-500/10 border border-purple-500/20 mb-4",children:[s.jsx(ft,{className:"h-4 w-4 text-purple-400"}),s.jsx("span",{className:"text-purple-400 text-sm font-medium",children:"Assessment Reports"})]}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Risk Analysis & Insights"}),s.jsx("p",{className:"text-gray-400",children:"View comprehensive risk assessment results and recommendations"})]}),s.jsx(V8,{})]})]})]})]})};var Kle="Separator",NR="horizontal",Gle=["horizontal","vertical"],U8=y.forwardRef((e,t)=>{const{decorative:n,orientation:r=NR,...a}=e,i=Yle(r)?r:NR,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Te.div,{"data-orientation":i,...l,...a,ref:t})});U8.displayName=Kle;function Yle(e){return Gle.includes(e)}var z8=U8;const At=y.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>s.jsx(z8,{ref:a,decorative:n,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));At.displayName=z8.displayName;const W8=tU,q8=y.createContext({}),ph=({...e})=>s.jsx(q8.Provider,{value:{name:e.name},children:s.jsx(Ml,{...e})}),tw=()=>{const e=y.useContext(q8),t=y.useContext(H8),{getFieldState:n,formState:r}=Li(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},H8=y.createContext({}),cd=y.forwardRef(({className:e,...t},n)=>{const r=y.useId();return s.jsx(H8.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:se("space-y-2",e),...t})})});cd.displayName="FormItem";const ud=y.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=tw();return s.jsx(te,{ref:n,className:se(r&&"text-destructive",e),htmlFor:a,...t})});ud.displayName="FormLabel";const dd=y.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:i}=tw();return s.jsx(oF,{ref:t,id:r,"aria-describedby":n?`${a} ${i}`:`${a}`,"aria-invalid":!!n,...e})});dd.displayName="FormControl";const Rv=y.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=tw();return s.jsx("p",{ref:n,id:r,className:se("text-sm text-muted-foreground",e),...t})});Rv.displayName="FormDescription";const fd=y.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:i}=tw(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:r,id:i,className:se("text-sm font-medium text-destructive",e),...n,children:o}):null});fd.displayName="FormMessage";function Xle(){const e=wt(),{toast:t}=Ys();return it({mutationFn:async({vendorId:n,...r})=>await hv.contactVendor(n,r),onSuccess:n=>{e.invalidateQueries({queryKey:["vendor"]}),e.invalidateQueries({queryKey:["vendors"]}),t({title:"Contact request sent",description:"The vendor will receive your message and respond via email."})},onError:n=>{let r="Failed to send contact request",a="An error occurred while contacting the vendor";n.status===402?(r="Premium subscription required",a="Contacting vendors requires a Premium subscription. Please upgrade your plan."):n.status===404?(r="Vendor not found",a="The vendor you are trying to contact could not be found."):n.status===400?(r="Invalid request",a=n.message||"Please check your message and try again."):n.message&&(a=n.message),t({title:r,description:a,variant:"destructive"})}})}const Qle=Mr({type:Aoe(["DEMO_REQUEST","INFO_REQUEST","RFP","PRICING","GENERAL"],{required_error:"Please select a contact type"}),message:ot().min(10,"Message must be at least 10 characters").max(2e3,"Message must not exceed 2000 characters"),budget:ot().max(100).optional(),timeline:ot().max(100).optional()}),SR=[{value:"DEMO_REQUEST",label:"Request Demo",description:"Schedule a product demonstration"},{value:"INFO_REQUEST",label:"Request Information",description:"Get more details about solutions"},{value:"PRICING",label:"Pricing Inquiry",description:"Ask about pricing and packages"},{value:"RFP",label:"Submit RFP",description:"Send a Request for Proposal"},{value:"GENERAL",label:"General Inquiry",description:"Other questions or requests"}],Zle=["1-3 months","3-6 months","6-12 months","12+ months","Flexible"],Jle=["$0 - $10K","$10K - $50K","$50K - $100K","$100K - $250K","$250K+","Not specified"];function pE({open:e,onOpenChange:t,vendorId:n,vendorName:r}){Ys();const a=Xle(),i=Fi({resolver:lc(Qle),defaultValues:{type:"INFO_REQUEST",message:"",budget:"",timeline:""}}),o=async u=>{try{await a.mutateAsync({vendorId:n,...u}),t(!1),i.reset()}catch(d){console.error("Contact vendor error:",d)}},l=i.watch("type"),c=SR.find(u=>u.value===l);return s.jsx(Jt,{open:e,onOpenChange:t,children:s.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Yt,{children:[s.jsxs(Xt,{children:["Contact ",r]}),s.jsx(Qt,{children:"Send a message to this vendor. They will receive your contact information and respond via email."})]}),s.jsx(W8,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-6",children:[s.jsx(ph,{control:i.control,name:"type",render:({field:u})=>s.jsxs(cd,{children:[s.jsx(ud,{children:"Contact Type *"}),s.jsxs(vt,{onValueChange:u.onChange,defaultValue:u.value,children:[s.jsx(dd,{children:s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select contact type"})})}),s.jsx(xt,{children:SR.map(d=>s.jsx(ue,{value:d.value,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:d.label}),s.jsx("span",{className:"text-xs text-gray-500",children:d.description})]})},d.value))})]}),c&&s.jsx(Rv,{children:c.description}),s.jsx(fd,{})]})}),s.jsx(ph,{control:i.control,name:"message",render:({field:u})=>s.jsxs(cd,{children:[s.jsx(ud,{children:"Message *"}),s.jsx(dd,{children:s.jsx(vn,{...u,placeholder:"Describe your needs, questions, or requirements...",rows:6,className:"resize-none"})}),s.jsxs(Rv,{children:[u.value.length,"/2000 characters"]}),s.jsx(fd,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ph,{control:i.control,name:"budget",render:({field:u})=>s.jsxs(cd,{children:[s.jsx(ud,{children:"Budget (Optional)"}),s.jsxs(vt,{onValueChange:u.onChange,value:u.value,children:[s.jsx(dd,{children:s.jsxs(gt,{children:[s.jsx(Or,{className:"mr-2 h-4 w-4 text-gray-500"}),s.jsx(bt,{placeholder:"Select budget range"})]})}),s.jsx(xt,{children:Jle.map(d=>s.jsx(ue,{value:d,children:d},d))})]}),s.jsx(fd,{})]})}),s.jsx(ph,{control:i.control,name:"timeline",render:({field:u})=>s.jsxs(cd,{children:[s.jsx(ud,{children:"Timeline (Optional)"}),s.jsxs(vt,{onValueChange:u.onChange,value:u.value,children:[s.jsx(dd,{children:s.jsxs(gt,{children:[s.jsx(_i,{className:"mr-2 h-4 w-4 text-gray-500"}),s.jsx(bt,{placeholder:"Select timeline"})]})}),s.jsx(xt,{children:Zle.map(d=>s.jsx(ue,{value:d,children:d},d))})]}),s.jsx(fd,{})]})})]}),s.jsx("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ft,{className:"h-5 w-5 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-100 mb-1",children:"What happens next?"}),s.jsxs("ul",{className:"space-y-1 text-xs text-blue-300",children:[s.jsx("li",{children:"• The vendor will receive your contact request via email"}),s.jsx("li",{children:"• They'll be able to see your message and contact details"}),s.jsx("li",{children:"• You'll receive their response directly to your email"}),s.jsx("li",{children:"• You can track this inquiry in the RFP Tracking dashboard"})]})]})]})}),s.jsxs(pn,{className:"flex gap-3 sm:gap-3",children:[s.jsxs(F,{type:"button",onClick:()=>{t(!1),i.reset()},variant:"outline",className:"flex-1",disabled:a.isPending,children:[s.jsx(kr,{className:"mr-2 h-4 w-4"}),"Cancel"]}),s.jsx(F,{type:"submit",disabled:a.isPending,className:"flex-1",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lp,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]})})]})})}const ece=({vendor:e,onBack:t,onSelect:n,isSelected:r=!1})=>{var u;const[a,i]=y.useState(!1),o=d=>{const f=["bg-blue-500/10 text-blue-300 border-blue-500/30","bg-purple-500/10 text-purple-300 border-purple-500/30","bg-green-500/10 text-green-300 border-green-500/30","bg-yellow-500/10 text-yellow-300 border-yellow-500/30","bg-pink-500/10 text-pink-300 border-pink-500/30"];return f[d%f.length]},l={KYC_AML:"KYC & AML",TRANSACTION_MONITORING:"Transaction Monitoring",SANCTIONS_SCREENING:"Sanctions Screening",TRADE_SURVEILLANCE:"Trade Surveillance",RISK_ASSESSMENT:"Risk Assessment",COMPLIANCE_TRAINING:"Compliance Training",REGULATORY_REPORTING:"Regulatory Reporting",DATA_GOVERNANCE:"Data Governance"},c=((u=e.categories)==null?void 0:u.map(d=>l[d]||d))||[];return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(F,{variant:"ghost",onClick:t,className:"text-gray-300 hover:text-white hover:bg-white/5","data-testid":"button-back-marketplace","aria-label":"Back to Marketplace",children:s.jsx(ri,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex space-x-3",children:n&&s.jsx(F,{variant:r?"default":"outline",onClick:()=>n(e),className:r?"bg-cyan-500 hover:bg-cyan-600":"hover:bg-cyan-500/10 hover:border-cyan-400","data-testid":"button-select-vendor",children:r?s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),"Selected"]}):"Select for Comparison"})})]}),s.jsx(K,{className:"border-cyan-500/20 bg-gradient-to-br from-card/90 to-card/60 backdrop-blur overflow-hidden",children:s.jsx(X,{className:"p-4 sm:p-6 md:p-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 sm:gap-6",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-xl bg-gradient-to-br from-cyan-500/20 to-pink-500/20 flex items-center justify-center text-2xl sm:text-3xl font-bold text-white border border-cyan-500/30",children:e.logoUrl?s.jsx("img",{src:e.logoUrl,alt:e.name,className:"w-full h-full object-cover rounded-xl"}):e.name.substring(0,2).toUpperCase()})}),s.jsxs("div",{className:"flex-1 w-full",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4 mb-4",children:[s.jsxs("div",{className:"text-center sm:text-left",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent mb-2",children:e.name}),s.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start gap-1 sm:gap-2 mb-3 sm:mb-4",children:[c.slice(0,4).map((d,f)=>s.jsx(le,{variant:"outline",className:`border text-xs sm:text-sm ${o(f)}`,children:d},f)),c.length>4&&s.jsxs(le,{variant:"outline",className:"border-gray-500/30 text-gray-400 text-xs sm:text-sm",children:["+",c.length-4," more"]})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col justify-center sm:justify-start gap-2",children:[e.featured&&s.jsx(le,{className:"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 text-yellow-200 border-yellow-500/30 text-xs sm:text-sm",children:"⭐ Featured"}),e.verified&&s.jsx(le,{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-200 border-green-500/30 text-xs sm:text-sm",children:"✓ Verified"}),s.jsx(le,{variant:"outline",className:`text-xs sm:text-sm ${e.status==="APPROVED"?"border-green-500/30 text-green-300":"border-yellow-500/30 text-yellow-300"}`,children:e.status})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[e.rating>0&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 sm:p-3 rounded-lg bg-white/5 border border-white/10",children:[s.jsx($s,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400 fill-yellow-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-base sm:text-lg font-semibold text-white",children:e.rating.toFixed(1)}),s.jsx("div",{className:"text-xs text-gray-400",children:e.reviewCount>0?`${e.reviewCount} reviews`:"No reviews yet"})]})]}),e.headquarters&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 sm:p-3 rounded-lg bg-white/5 border border-white/10",children:[s.jsx(iS,{className:"h-4 w-4 sm:h-5 sm:w-5 text-cyan-400 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:"Headquarters"}),s.jsx("div",{className:"text-xs text-gray-300 truncate",children:e.headquarters})]})]}),e.website&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 sm:p-3 rounded-lg bg-white/5 border border-white/10 sm:col-span-2 md:col-span-1",children:[s.jsx(fa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-pink-400 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-white",children:"Website"}),s.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-300 hover:text-cyan-200 flex items-center",children:[s.jsx("span",{className:"truncate",children:"Visit site"}),s.jsx(sv,{className:"ml-1 h-3 w-3 flex-shrink-0"})]})]})]})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-6 text-center",children:s.jsxs(F,{className:"w-full bg-cyan-500 hover:bg-cyan-600",onClick:()=>{hv.trackVendorClick(e.id),e.website&&window.open(e.website,"_blank")},"data-testid":"button-visit-website",children:[s.jsx(fa,{className:"mr-2 h-4 w-4"}),"Visit Website"]})})}),s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-6 text-center",children:s.jsxs(F,{onClick:()=>i(!0),variant:"outline",className:"w-full hover:bg-pink-500/10 hover:border-pink-400","data-testid":"button-contact-vendor",children:[s.jsx(af,{className:"mr-2 h-4 w-4"}),"Contact Vendor"]})})})]}),s.jsxs(dc,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Lo,{className:"grid w-full grid-cols-4 bg-card/80 backdrop-blur border-border/50",children:[s.jsx(mn,{value:"overview",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300","data-testid":"tab-overview",children:"Overview"}),s.jsx(mn,{value:"solutions",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300","data-testid":"tab-solutions",children:"Solutions"}),s.jsx(mn,{value:"capabilities",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300","data-testid":"tab-capabilities",children:"Capabilities"}),s.jsx(mn,{value:"contact",className:"data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300","data-testid":"tab-contact",children:"Contact"})]}),s.jsx(Un,{value:"overview",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center space-x-2 text-white",children:[s.jsx(wo,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{children:"Company Overview"})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx("div",{className:"text-gray-300 leading-relaxed",children:e.benefitsSnapshot||e.primaryProduct||`${e.name} is a leading compliance technology provider specializing in ${c.join(", ").toLowerCase()} solutions.`}),s.jsx(At,{className:"bg-border/30"}),s.jsxs("div",{className:"space-y-3",children:[e.customerSegments&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Target Customers"}),s.jsx("span",{className:"text-sm text-white",children:e.customerSegments})]}),e.deploymentOptions&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Deployment"}),s.jsx("span",{className:"text-sm text-white",children:e.deploymentOptions})]}),e.dataCoverage&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Data Coverage"}),s.jsx("span",{className:"text-sm text-white",children:e.dataCoverage})]})]})]})]}),s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center space-x-2 text-white",children:[s.jsx(jo,{className:"h-5 w-5 text-yellow-400"}),s.jsx("span",{children:"Key Strengths"})]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-3",children:[e.aiCapabilities&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20",children:[s.jsx(jo,{className:"h-4 w-4 text-purple-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"AI Capabilities"}),s.jsx("div",{className:"text-xs text-gray-300",children:e.aiCapabilities})]})]}),e.integrations&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gradient-to-r from-blue-500/10 to-cyan-500/10 border border-blue-500/20",children:[s.jsx(tn,{className:"h-4 w-4 text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Integrations"}),s.jsx("div",{className:"text-xs text-gray-300",children:e.integrations})]})]}),e.awards&&s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border border-yellow-500/20",children:[s.jsx(IF,{className:"h-4 w-4 text-yellow-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:"Awards & Recognition"}),s.jsx("div",{className:"text-xs text-gray-300",children:e.awards})]})]})]})})]})]})}),s.jsx(Un,{value:"solutions",className:"space-y-6",children:s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center space-x-2 text-white",children:[s.jsx(tn,{className:"h-5 w-5 text-green-400"}),s.jsx("span",{children:"Primary Solutions"})]}),s.jsxs(Ve,{className:"text-gray-400",children:["Core compliance solutions offered by ",e.name]})]}),s.jsxs(X,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map((d,f)=>s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg bg-gradient-to-r from-cyan-500/5 to-pink-500/5 border border-cyan-500/20",children:[s.jsx(at,{className:"h-5 w-5 text-green-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-white",children:d}),s.jsx("div",{className:"text-xs text-gray-400",children:"Compliance solution"})]})]},f))}),e.primaryProduct&&s.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-r from-blue-500/10 to-purple-500/10 border border-blue-500/20",children:[s.jsx("h4",{className:"font-medium text-white mb-2",children:"Primary Product"}),s.jsx("p",{className:"text-sm text-gray-300",children:e.primaryProduct})]})]})]})}),s.jsx(Un,{value:"capabilities",className:"space-y-6",children:s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center space-x-2 text-white",children:[s.jsx(Hr,{className:"h-5 w-5 text-purple-400"}),s.jsx("span",{children:"Technical Capabilities"})]}),s.jsx(Ve,{className:"text-gray-400",children:"Technology stack and deployment capabilities"})]}),s.jsxs(X,{className:"space-y-6",children:[e.maturityAssessment&&s.jsxs("div",{className:"p-4 rounded-lg bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20",children:[s.jsxs("h4",{className:"flex items-center space-x-2 font-medium text-white mb-2",children:[s.jsx(tn,{className:"h-4 w-4 text-green-400"}),s.jsx("span",{children:"Maturity Assessment"})]}),s.jsx("p",{className:"text-sm text-gray-300",children:e.maturityAssessment})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.deploymentOptions&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white",children:"Deployment Options"}),s.jsx("p",{className:"text-sm text-gray-300",children:e.deploymentOptions})]}),e.dataCoverage&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-white",children:"Data Coverage"}),s.jsx("p",{className:"text-sm text-gray-300",children:e.dataCoverage})]})]})]})]})}),s.jsx(Un,{value:"contact",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center space-x-2 text-white",children:[s.jsx(Si,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{children:"Contact Information"})]})}),s.jsxs(X,{className:"space-y-4",children:[e.website&&s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white/5",children:[s.jsx(fa,{className:"h-4 w-4 text-cyan-400"}),s.jsxs("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-cyan-300 hover:text-cyan-200 flex items-center",children:[e.website.replace("https://","").replace("http://",""),s.jsx(sv,{className:"ml-1 h-3 w-3"})]})]}),e.contactEmail&&s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white/5",children:[s.jsx(Si,{className:"h-4 w-4 text-pink-400"}),s.jsx("a",{href:`mailto:${e.contactEmail}`,className:"text-sm text-pink-300 hover:text-pink-200",children:e.contactEmail})]}),e.headquarters&&s.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-white/5",children:[s.jsx(iS,{className:"h-4 w-4 text-green-400"}),s.jsx("span",{className:"text-sm text-white",children:e.headquarters})]})]})]}),s.jsxs(K,{className:"bg-card/80 backdrop-blur border-border/50",children:[s.jsxs(de,{children:[s.jsx(pe,{className:"text-white",children:"Get Started"}),s.jsxs(Ve,{className:"text-gray-400",children:["Connect with ",e.name," to learn more about their solutions"]})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs(F,{className:"w-full bg-cyan-500 hover:bg-cyan-600",onClick:()=>{hv.trackVendorClick(e.id),e.website&&window.open(e.website,"_blank")},"data-testid":"button-visit-website-contact",children:[s.jsx(fa,{className:"mr-2 h-4 w-4"}),"Visit Website"]}),s.jsxs(F,{onClick:()=>i(!0),variant:"outline",className:"w-full hover:bg-pink-500/10 hover:border-pink-400","data-testid":"button-contact-vendor-form",children:[s.jsx(af,{className:"mr-2 h-4 w-4"}),"Contact Form"]})]})]})]})})]}),s.jsx(pE,{open:a,onOpenChange:i,vendorId:e.id,vendorName:e.name})]})})};function tce(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var gE="ScrollArea",[K8,S9e]=Zn(gE),[nce,Na]=K8(gE),G8=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState(null),[p,x]=y.useState(null),[v,b]=y.useState(0),[w,N]=y.useState(0),[j,S]=y.useState(!1),[C,P]=y.useState(!1),A=Ke(t,E=>c(E)),T=_u(a);return s.jsx(nce,{scope:n,type:r,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:N,children:s.jsx(Te.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});G8.displayName=gE;var Y8="ScrollAreaViewport",X8=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,o=Na(Y8,n),l=y.useRef(null),c=Ke(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});X8.displayName=Y8;var Bi="ScrollAreaScrollbar",xE=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Na(Bi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(rce,{...r,ref:t,forceMount:n}):a.type==="scroll"?s.jsx(sce,{...r,ref:t,forceMount:n}):a.type==="auto"?s.jsx(Q8,{...r,ref:t,forceMount:n}):a.type==="always"?s.jsx(yE,{...r,ref:t}):null});xE.displayName=Bi;var rce=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Na(Bi,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(wr,{present:n||i,children:s.jsx(Q8,{"data-state":i?"visible":"hidden",...r,ref:t})})}),sce=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Na(Bi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=rw(()=>c("SCROLL_END"),100),[l,c]=tce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,c,o]),s.jsx(wr,{present:n||l!=="hidden",children:s.jsx(yE,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:be(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:be(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Q8=y.forwardRef((e,t)=>{const n=Na(Bi,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=rw(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return gf(n.viewport,c),gf(n.content,c),s.jsx(wr,{present:r||i,children:s.jsx(yE,{"data-state":i?"visible":"hidden",...a,ref:t})})}),yE=y.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Na(Bi,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=nz(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return uce(m,o.current,l,h)}return n==="horizontal"?s.jsx(ace,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,h=CR(m,l,a.dir);i.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):n==="vertical"?s.jsx(ice,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,h=CR(m,l);i.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),ace=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Na(Bi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(J8,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":nw(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),sz(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Iv(o.paddingLeft),paddingEnd:Iv(o.paddingRight)}})}})}),ice=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Na(Bi,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(J8,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":nw(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),sz(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Iv(o.paddingTop),paddingEnd:Iv(o.paddingBottom)}})}})}),[oce,Z8]=K8(Bi),J8=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=Na(Bi,n),[g,p]=y.useState(null),x=Ke(t,A=>p(A)),v=y.useRef(null),b=y.useRef(""),w=h.viewport,N=r.content-r.viewport,j=Dn(d),S=Dn(c),C=rw(f,10);function P(A){if(v.current){const T=A.clientX-v.current.left,E=A.clientY-v.current.top;u({x:T,y:E})}}return y.useEffect(()=>{const A=T=>{const E=T.target;(g==null?void 0:g.contains(E))&&j(T,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,g,N,j]),y.useEffect(S,[r,S]),gf(g,C),gf(h.content,C),s.jsx(oce,{scope:n,scrollbar:g,hasThumb:a,onThumbChange:Dn(i),onThumbPointerUp:Dn(o),onThumbPositionChange:S,onThumbPointerDown:Dn(l),children:s.jsx(Te.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:be(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:be(e.onPointerMove,P),onPointerUp:be(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),v.current=null})})})}),Mv="ScrollAreaThumb",ez=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Z8(Mv,e.__scopeScrollArea);return s.jsx(wr,{present:n||a.hasThumb,children:s.jsx(lce,{ref:t,...r})})}),lce=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Na(Mv,n),o=Z8(Mv,n),{onThumbPositionChange:l}=o,c=Ke(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=rw(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!u.current){const h=dce(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,l]),s.jsx(Te.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:be(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,p=f.clientY-h.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:be(e.onPointerUp,o.onThumbPointerUp)})});ez.displayName=Mv;var vE="ScrollAreaCorner",tz=y.forwardRef((e,t)=>{const n=Na(vE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(cce,{...e,ref:t}):null});tz.displayName=vE;var cce=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Na(vE,n),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return gf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),gf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Te.div,{...r,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Iv(e){return e?parseInt(e,10):0}function nz(e,t){const n=e/t;return isNaN(n)?0:n}function nw(e){const t=nz(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function uce(e,t,n,r="ltr"){const a=nw(n),i=a/2,o=t||i,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return rz([c,u],f)(e)}function CR(e,t,n="ltr"){const r=nw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Np(e,c);return rz([0,o],[0,l])(u)}function rz(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function sz(e,t){return e>0&&e<t}var dce=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&t(),n=i,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function rw(e,t){const n=Dn(e),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function gf(e,t){const n=Dn(t);$n(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var az=G8,fce=X8,mce=tz;const Sp=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(az,{ref:r,className:se("relative overflow-hidden",e),...n,children:[s.jsx(fce,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(iz,{}),s.jsx(mce,{})]}));Sp.displayName=az.displayName;const iz=y.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(xE,{ref:r,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(ez,{className:"relative flex-1 rounded-full bg-border"})}));iz.displayName=xE.displayName;const bE=y.createContext({});function wE(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const jE=typeof window<"u",oz=jE?y.useLayoutEffect:y.useEffect,sw=y.createContext(null);function NE(e,t){e.indexOf(t)===-1&&e.push(t)}function SE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ko=(e,t,n)=>n>t?t:n<e?e:n;let CE=()=>{};const To={},lz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function cz(e){return typeof e=="object"&&e!==null}const uz=e=>/^0[^.\s]+$/u.test(e);function PE(e){let t;return()=>(t===void 0&&(t=e()),t)}const ya=e=>e,hce=(e,t)=>n=>t(e(n)),zg=(...e)=>e.reduce(hce),Cp=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class AE{constructor(){this.subscriptions=[]}add(t){return NE(this.subscriptions,t),()=>SE(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=e=>e*1e3,ma=e=>e/1e3;function dz(e,t){return t?e*(1e3/t):0}const fz=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pce=1e-7,gce=12;function xce(e,t,n,r,a){let i,o,l=0;do o=t+(n-t)/2,i=fz(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>pce&&++l<gce);return o}function Wg(e,t,n,r){if(e===t&&n===r)return ya;const a=i=>xce(i,0,1,e,n);return i=>i===0||i===1?i:fz(a(i),t,r)}const mz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hz=e=>t=>1-e(1-t),pz=Wg(.33,1.53,.69,.99),EE=hz(pz),gz=mz(EE),xz=e=>(e*=2)<1?.5*EE(e):.5*(2-Math.pow(2,-10*(e-1))),kE=e=>1-Math.sin(Math.acos(e)),yz=hz(kE),vz=mz(kE),yce=Wg(.42,0,1,1),vce=Wg(0,0,.58,1),bz=Wg(.42,0,.58,1),bce=e=>Array.isArray(e)&&typeof e[0]!="number",wz=e=>Array.isArray(e)&&typeof e[0]=="number",wce={linear:ya,easeIn:yce,easeInOut:bz,easeOut:vce,circIn:kE,circInOut:vz,circOut:yz,backIn:EE,backInOut:gz,backOut:pz,anticipate:xz},jce=e=>typeof e=="string",PR=e=>{if(wz(e)){CE(e.length===4);const[t,n,r,a]=e;return Wg(t,n,r,a)}else if(jce(e))return wce[e];return e},Dx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nce(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){o.has(d)&&(u.schedule(d),e()),d(l)}const u={schedule:(d,f=!1,m=!1)=>{const g=m&&a?n:r;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(l=d,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(c),n.clear(),a=!1,i&&(i=!1,u.process(d))}};return u}const Sce=40;function jz(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Dx.reduce((w,N)=>(w[N]=Nce(i),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:m,render:h,postRender:g}=o,p=()=>{const w=To.useManualTiming?a.timestamp:performance.now();n=!1,To.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(w-a.timestamp,Sce),1)),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),m.process(a),h.process(a),g.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(p))},x=()=>{n=!0,r=!0,a.isProcessing||e(p)};return{schedule:Dx.reduce((w,N)=>{const j=o[N];return w[N]=(S,C=!1,P=!1)=>(n||x(),j.schedule(S,C,P)),w},{}),cancel:w=>{for(let N=0;N<Dx.length;N++)o[Dx[N]].cancel(w)},state:a,steps:o}}const{schedule:wn,cancel:Ql,state:Cr,steps:dN}=jz(typeof requestAnimationFrame<"u"?requestAnimationFrame:ya,!0);let Ny;function Cce(){Ny=void 0}const vs={now:()=>(Ny===void 0&&vs.set(Cr.isProcessing||To.useManualTiming?Cr.timestamp:performance.now()),Ny),set:e=>{Ny=e,queueMicrotask(Cce)}},Nz=e=>t=>typeof t=="string"&&t.startsWith(e),TE=Nz("--"),Pce=Nz("var(--"),OE=e=>Pce(e)?Ace.test(e.split("/*")[0].trim()):!1,Ace=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,om={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Pp={...om,transform:e=>ko(0,1,e)},$x={...om,default:1},Th=e=>Math.round(e*1e5)/1e5,_E=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ece(e){return e==null}const kce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RE=(e,t)=>n=>!!(typeof n=="string"&&kce.test(n)&&n.startsWith(e)||t&&!Ece(n)&&Object.prototype.hasOwnProperty.call(n,t)),Sz=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,l]=r.match(_E);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Tce=e=>ko(0,255,e),fN={...om,transform:e=>Math.round(Tce(e))},Bc={test:RE("rgb","red"),parse:Sz("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fN.transform(e)+", "+fN.transform(t)+", "+fN.transform(n)+", "+Th(Pp.transform(r))+")"};function Oce(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ZS={test:RE("#"),parse:Oce,transform:Bc.transform},qg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Xo=qg("deg"),Ei=qg("%"),Ze=qg("px"),_ce=qg("vh"),Rce=qg("vw"),AR={...Ei,parse:e=>Ei.parse(e)/100,transform:e=>Ei.transform(e*100)},md={test:RE("hsl","hue"),parse:Sz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ei.transform(Th(t))+", "+Ei.transform(Th(n))+", "+Th(Pp.transform(r))+")"},Yn={test:e=>Bc.test(e)||ZS.test(e)||md.test(e),parse:e=>Bc.test(e)?Bc.parse(e):md.test(e)?md.parse(e):ZS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Bc.transform(e):md.transform(e),getAnimatableNone:e=>{const t=Yn.parse(e);return t.alpha=0,Yn.transform(t)}},Mce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ice(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_E))==null?void 0:t.length)||0)+(((n=e.match(Mce))==null?void 0:n.length)||0)>0}const Cz="number",Pz="color",Dce="var",$ce="var(",ER="${}",Lce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ap(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Lce,c=>(Yn.test(c)?(r.color.push(i),a.push(Pz),n.push(Yn.parse(c))):c.startsWith($ce)?(r.var.push(i),a.push(Dce),n.push(c)):(r.number.push(i),a.push(Cz),n.push(parseFloat(c))),++i,ER)).split(ER);return{values:n,split:l,indexes:r,types:a}}function Az(e){return Ap(e).values}function Ez(e){const{split:t,types:n}=Ap(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const l=n[o];l===Cz?i+=Th(a[o]):l===Pz?i+=Yn.transform(a[o]):i+=a[o]}return i}}const Fce=e=>typeof e=="number"?0:Yn.test(e)?Yn.getAnimatableNone(e):e;function Bce(e){const t=Az(e);return Ez(e)(t.map(Fce))}const Zl={test:Ice,parse:Az,createTransformer:Ez,getAnimatableNone:Bce};function mN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Vce({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;a=mN(c,l,e+1/3),i=mN(c,l,e),o=mN(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Dv(e,t){return n=>n>0?t:e}const Cn=(e,t,n)=>e+(t-e)*n,hN=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Uce=[ZS,Bc,md],zce=e=>Uce.find(t=>t.test(e));function kR(e){const t=zce(e);if(!t)return!1;let n=t.parse(e);return t===md&&(n=Vce(n)),n}const TR=(e,t)=>{const n=kR(e),r=kR(t);if(!n||!r)return Dv(e,t);const a={...n};return i=>(a.red=hN(n.red,r.red,i),a.green=hN(n.green,r.green,i),a.blue=hN(n.blue,r.blue,i),a.alpha=Cn(n.alpha,r.alpha,i),Bc.transform(a))},JS=new Set(["none","hidden"]);function Wce(e,t){return JS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function qce(e,t){return n=>Cn(e,t,n)}function ME(e){return typeof e=="number"?qce:typeof e=="string"?OE(e)?Dv:Yn.test(e)?TR:Gce:Array.isArray(e)?kz:typeof e=="object"?Yn.test(e)?TR:Hce:Dv}function kz(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>ME(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Hce(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=ME(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Kce(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],l=e.values[o]??0;n[a]=l,r[i]++}return n}const Gce=(e,t)=>{const n=Zl.createTransformer(t),r=Ap(e),a=Ap(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?JS.has(e)&&!a.values.length||JS.has(t)&&!r.values.length?Wce(e,t):zg(kz(Kce(r,a),a.values),n):Dv(e,t)};function Tz(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Cn(e,t,n):ME(e)(e,t)}const Yce=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>wn.update(t,n),stop:()=>Ql(t),now:()=>Cr.isProcessing?Cr.timestamp:vs.now()}},Oz=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},$v=2e4;function IE(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$v;)t+=n,r=e.next(t);return t>=$v?1/0:t}function Xce(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(IE(r),$v);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:ma(a)}}const Qce=5;function _z(e,t,n){const r=Math.max(t-Qce,0);return dz(n-e(r),t-r)}const Rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pN=.001;function Zce({duration:e=Rn.duration,bounce:t=Rn.bounce,velocity:n=Rn.velocity,mass:r=Rn.mass}){let a,i,o=1-t;o=ko(Rn.minDamping,Rn.maxDamping,o),e=ko(Rn.minDuration,Rn.maxDuration,ma(e)),o<1?(a=u=>{const d=u*o,f=d*e,m=d-n,h=eC(u,o),g=Math.exp(-f);return pN-m/h*g},i=u=>{const f=u*o*e,m=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),p=eC(Math.pow(u,2),o);return(-a(u)+pN>0?-1:1)*((m-h)*g)/p}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-pN+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=eue(a,i,l);if(e=Ai(e),isNaN(c))return{stiffness:Rn.stiffness,damping:Rn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Jce=12;function eue(e,t,n){let r=n;for(let a=1;a<Jce;a++)r=r-e(r)/t(r);return r}function eC(e,t){return e*Math.sqrt(1-t*t)}const tue=["duration","bounce"],nue=["stiffness","damping","mass"];function OR(e,t){return t.some(n=>e[n]!==void 0)}function rue(e){let t={velocity:Rn.velocity,stiffness:Rn.stiffness,damping:Rn.damping,mass:Rn.mass,isResolvedFromDuration:!1,...e};if(!OR(e,nue)&&OR(e,tue))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*ko(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Rn.mass,stiffness:a,damping:i}}else{const n=Zce(e);t={...t,...n,mass:Rn.mass},t.isResolvedFromDuration=!0}return t}function Lv(e=Rn.visualDuration,t=Rn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:h}=rue({...n,velocity:-ma(n.velocity||0)}),g=m||0,p=u/(2*Math.sqrt(c*d)),x=o-i,v=ma(Math.sqrt(c/d)),b=Math.abs(x)<5;r||(r=b?Rn.restSpeed.granular:Rn.restSpeed.default),a||(a=b?Rn.restDelta.granular:Rn.restDelta.default);let w;if(p<1){const j=eC(v,p);w=S=>{const C=Math.exp(-p*v*S);return o-C*((g+p*v*x)/j*Math.sin(j*S)+x*Math.cos(j*S))}}else if(p===1)w=j=>o-Math.exp(-v*j)*(x+(g+v*x)*j);else{const j=v*Math.sqrt(p*p-1);w=S=>{const C=Math.exp(-p*v*S),P=Math.min(j*S,300);return o-C*((g+p*v*x)*Math.sinh(P)+j*x*Math.cosh(P))/j}}const N={calculatedDuration:h&&f||null,next:j=>{const S=w(j);if(h)l.done=j>=f;else{let C=j===0?g:0;p<1&&(C=j===0?Ai(g):_z(w,j,S));const P=Math.abs(C)<=r,A=Math.abs(o-S)<=a;l.done=P&&A}return l.value=l.done?o:S,l},toString:()=>{const j=Math.min(IE(N),$v),S=Oz(C=>N.next(j*C).value,j,30);return j+"ms "+S},toTransition:()=>{}};return N}Lv.applyToOptions=e=>{const t=Xce(e,100,Lv);return e.ease=t.ease,e.duration=Ai(t.duration),e.type="keyframes",e};function tC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},h=P=>l!==void 0&&P<l||c!==void 0&&P>c,g=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let p=n*t;const x=f+p,v=o===void 0?x:o(x);v!==x&&(p=v-f);const b=P=>-p*Math.exp(-P/r),w=P=>v+b(P),N=P=>{const A=b(P),T=w(P);m.done=Math.abs(A)<=u,m.value=m.done?v:T};let j,S;const C=P=>{h(m.value)&&(j=P,S=Lv({keyframes:[m.value,g(m.value)],velocity:_z(w,P,m.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:P=>{let A=!1;return!S&&j===void 0&&(A=!0,N(P),C(P)),j!==void 0&&P>=j?S.next(P-j):(!A&&N(P),m)}}}function sue(e,t,n){const r=[],a=n||To.mix||Tz,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ya:t;l=zg(c,l)}r.push(l)}return r}function aue(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(CE(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=sue(t,r,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=Cp(e[f],e[f+1],d);return l[f](m)};return n?d=>u(ko(e[0],e[i-1],d)):u}function iue(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Cp(0,t,r);e.push(Cn(n,1,a))}}function oue(e){const t=[0];return iue(t,e.length-1),t}function lue(e,t){return e.map(n=>n*t)}function cue(e,t){return e.map(()=>t||bz).splice(0,e.length-1)}function Oh({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=bce(r)?r.map(PR):PR(r),i={done:!1,value:t[0]},o=lue(n&&n.length===t.length?n:oue(t),e),l=aue(o,t,{ease:Array.isArray(a)?a:cue(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const uue=e=>e!==null;function DE(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(uue),l=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!l||r===void 0?i[l]:r}const due={decay:tC,inertia:tC,tween:Oh,keyframes:Oh,spring:Lv};function Rz(e){typeof e.type=="string"&&(e.type=due[e.type])}class $E{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const fue=e=>e/100;class LE extends $E{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==vs.now()&&this.tick(vs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Rz(t);const{type:n=Oh,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:l}=t;const c=n||Oh;c!==Oh&&typeof l[0]!="number"&&(this.mixKeyframes=zg(fue,Tz(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=IE(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:h,type:g,onUpdate:p,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,N=r;if(f){const P=Math.min(this.currentTime,a)/l;let A=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(m==="reverse"?(T=1-T,h&&(T-=h/l)):m==="mirror"&&(N=o)),w=ko(0,1,T)*l}const j=b?{done:!1,value:d[0]}:N.next(w);i&&(j.value=i(j.value));let{done:S}=j;!b&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&g!==tC&&(j.value=DE(d,this.options,x,this.speed)),p&&p(j.value),C&&this.finish(),j}then(t,n){return this.finished.then(t,n)}get duration(){return ma(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ma(t)}get time(){return ma(this.currentTime)}set time(t){var n;t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(vs.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ma(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=Yce,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(vs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function mue(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Vc=e=>e*180/Math.PI,nC=e=>{const t=Vc(Math.atan2(e[1],e[0]));return rC(t)},hue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:nC,rotateZ:nC,skewX:e=>Vc(Math.atan(e[1])),skewY:e=>Vc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rC=e=>(e=e%360,e<0&&(e+=360),e),_R=nC,RR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),MR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RR,scaleY:MR,scale:e=>(RR(e)+MR(e))/2,rotateX:e=>rC(Vc(Math.atan2(e[6],e[5]))),rotateY:e=>rC(Vc(Math.atan2(-e[2],e[0]))),rotateZ:_R,rotate:_R,skewX:e=>Vc(Math.atan(e[4])),skewY:e=>Vc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function sC(e){return e.includes("scale")?1:0}function aC(e,t){if(!e||e==="none")return sC(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=pue,a=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=hue,a=l}if(!a)return sC(t);const i=r[t],o=a[1].split(",").map(xue);return typeof i=="function"?i(o):o[i]}const gue=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return aC(n,t)};function xue(e){return parseFloat(e.trim())}const lm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cm=new Set(lm),IR=e=>e===om||e===Ze,yue=new Set(["x","y","z"]),vue=lm.filter(e=>!yue.has(e));function bue(e){const t=[];return vue.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const su={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>aC(t,"x"),y:(e,{transform:t})=>aC(t,"y")};su.translateX=su.x;su.translateY=su.y;const au=new Set;let iC=!1,oC=!1,lC=!1;function Mz(){if(oC){const e=Array.from(au).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=bue(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var l;(l=r.getValue(i))==null||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}oC=!1,iC=!1,au.forEach(e=>e.complete(lC)),au.clear()}function Iz(){au.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(oC=!0)})}function wue(){lC=!0,Iz(),Mz(),lC=!1}class FE{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(au.add(this),iC||(iC=!0,wn.read(Iz),wn.resolveKeyframes(Mz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const l=r.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}mue(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),au.delete(this)}cancel(){this.state==="scheduled"&&(au.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jue=e=>e.startsWith("--");function Nue(e,t,n){jue(t)?e.style.setProperty(t,n):e.style[t]=n}const Sue=PE(()=>window.ScrollTimeline!==void 0),Cue={};function Pue(e,t){const n=PE(e);return()=>Cue[t]??n()}const Dz=Pue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gh=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,DR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gh([0,.65,.55,1]),circOut:gh([.55,0,1,.45]),backIn:gh([.31,.01,.66,-.59]),backOut:gh([.33,1.53,.69,.99])};function $z(e,t){if(e)return typeof e=="function"?Dz()?Oz(e,t):"ease-out":wz(e)?gh(e):Array.isArray(e)?e.map(n=>$z(n,t)||DR.easeOut):DR[e]}function Aue(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:n};c&&(d.offset=c);const f=$z(l,a);Array.isArray(f)&&(d.easing=f);const m={delay:r,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),e.animate(d,m)}function Lz(e){return typeof e=="function"&&"applyToOptions"in e}function Eue({type:e,...t}){return Lz(e)&&Dz()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kue extends $E{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,CE(typeof t.type!="string");const u=Eue(t);this.animation=Aue(n,r,a,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=DE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Nue(n,r,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ma(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ma(t)}get time(){return ma(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Sue()?(this.animation.timeline=t,ya):n(this)}}const Fz={anticipate:xz,backInOut:gz,circInOut:vz};function Tue(e){return e in Fz}function Oue(e){typeof e.ease=="string"&&Tue(e.ease)&&(e.ease=Fz[e.ease])}const $R=10;class _ue extends kue{constructor(t){Oue(t),Rz(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new LE({...o,autoplay:!1}),c=Ai(this.finishedTime??this.time);n.setWithVelocity(l.sample(c-$R).value,l.sample(c).value,$R),l.stop()}}const LR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zl.test(e)||e==="0")&&!e.startsWith("url("));function Rue(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Mue(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=LR(a,t),l=LR(i,t);return!o||!l?!1:Rue(e)||(n==="spring"||Lz(n))&&r}function cC(e){e.duration=0,e.type="keyframes"}const Iue=new Set(["opacity","clipPath","filter","transform"]),Due=PE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $ue(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Due()&&n&&Iue.has(n)&&(n!=="transform"||!u)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const Lue=40;class Fue extends $E{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var p,x;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=vs.now();const m={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:d,...f},h=(d==null?void 0:d.KeyframeResolver)||FE;this.keyframeResolver=new h(l,(p,x,v)=>this.onKeyframesResolved(p,x,m,!v),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:d}=r;this.resolvedAt=vs.now(),Mue(t,i,o,l)||((To.instantAnimations||!c)&&(d==null||d(DE(t,r,n))),t[0]=t[t.length-1],cC(r),r.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Lue?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},h=!u&&$ue(m)?new _ue({...m,element:m.motionValue.owner.current}):new LE(m);h.finished.then(()=>this.notifyFinished()).catch(ya),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wue()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Bue=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Vue(e){const t=Bue.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Bz(e,t,n=1){const[r,a]=Vue(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return lz(o)?parseFloat(o):o}return OE(a)?Bz(a,t,n+1):a}function BE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Vz=new Set(["width","height","top","left","right","bottom",...lm]),Uue={test:e=>e==="auto",parse:e=>e},Uz=e=>t=>t.test(e),zz=[om,Ze,Ei,Xo,Rce,_ce,Uue],FR=e=>zz.find(Uz(e));function zue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||uz(e):!0}const Wue=new Set(["brightness","contrast","saturate","opacity"]);function que(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(_E)||[];if(!r)return e;const a=n.replace(r,"");let i=Wue.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Hue=/\b([a-z-]*)\(.*?\)/gu,uC={...Zl,getAnimatableNone:e=>{const t=e.match(Hue);return t?t.map(que).join(" "):e}},BR={...om,transform:Math.round},Kue={rotate:Xo,rotateX:Xo,rotateY:Xo,rotateZ:Xo,scale:$x,scaleX:$x,scaleY:$x,scaleZ:$x,skew:Xo,skewX:Xo,skewY:Xo,distance:Ze,translateX:Ze,translateY:Ze,translateZ:Ze,x:Ze,y:Ze,z:Ze,perspective:Ze,transformPerspective:Ze,opacity:Pp,originX:AR,originY:AR,originZ:Ze},VE={borderWidth:Ze,borderTopWidth:Ze,borderRightWidth:Ze,borderBottomWidth:Ze,borderLeftWidth:Ze,borderRadius:Ze,radius:Ze,borderTopLeftRadius:Ze,borderTopRightRadius:Ze,borderBottomRightRadius:Ze,borderBottomLeftRadius:Ze,width:Ze,maxWidth:Ze,height:Ze,maxHeight:Ze,top:Ze,right:Ze,bottom:Ze,left:Ze,padding:Ze,paddingTop:Ze,paddingRight:Ze,paddingBottom:Ze,paddingLeft:Ze,margin:Ze,marginTop:Ze,marginRight:Ze,marginBottom:Ze,marginLeft:Ze,backgroundPositionX:Ze,backgroundPositionY:Ze,...Kue,zIndex:BR,fillOpacity:Pp,strokeOpacity:Pp,numOctaves:BR},Gue={...VE,color:Yn,backgroundColor:Yn,outlineColor:Yn,fill:Yn,stroke:Yn,borderColor:Yn,borderTopColor:Yn,borderRightColor:Yn,borderBottomColor:Yn,borderLeftColor:Yn,filter:uC,WebkitFilter:uC},Wz=e=>Gue[e];function qz(e,t){let n=Wz(e);return n!==uC&&(n=Zl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Yue=new Set(["auto","none","0"]);function Xue(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!Yue.has(i)&&Ap(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=qz(n,a)}class Que extends FE{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),OE(u))){const d=Bz(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Vz.has(r)||t.length!==2)return;const[a,i]=t,o=FR(a),l=FR(i);if(o!==l)if(IR(o)&&IR(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else su[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||zue(t[a]))&&r.push(a);r.length&&Xue(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=su[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=su[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Zue(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Hz=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Kz(e){return cz(e)&&"offsetHeight"in e}const VR=30,Jue=e=>!isNaN(parseFloat(e));class ede{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=vs.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=vs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Jue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new AE);const r=this.events[t].add(n);return t==="change"?()=>{r(),wn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=vs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>VR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,VR);return dz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xf(e,t){return new ede(e,t)}const{schedule:UE}=jz(queueMicrotask,!1),Oa={x:!1,y:!1};function Gz(){return Oa.x||Oa.y}function tde(e){return e==="x"||e==="y"?Oa[e]?null:(Oa[e]=!0,()=>{Oa[e]=!1}):Oa.x||Oa.y?null:(Oa.x=Oa.y=!0,()=>{Oa.x=Oa.y=!1})}function Yz(e,t){const n=Zue(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function UR(e){return!(e.pointerType==="touch"||Gz())}function nde(e,t,n={}){const[r,a,i]=Yz(e,n),o=l=>{if(!UR(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{UR(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,a)};return r.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const Xz=(e,t)=>t?e===t?!0:Xz(e,t.parentElement):!1,zE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,rde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sde(e){return rde.has(e.tagName)||e.tabIndex!==-1}const Sy=new WeakSet;function zR(e){return t=>{t.key==="Enter"&&e(t)}}function gN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ade=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=zR(()=>{if(Sy.has(n))return;gN(n,"down");const a=zR(()=>{gN(n,"up")}),i=()=>gN(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function WR(e){return zE(e)&&!Gz()}function ide(e,t,n={}){const[r,a,i]=Yz(e,n),o=l=>{const c=l.currentTarget;if(!WR(l))return;Sy.add(c);const u=t(c,l),d=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Sy.has(c)&&Sy.delete(c),WR(h)&&typeof u=="function"&&u(h,{success:g})},f=h=>{d(h,c===window||c===document||n.useGlobalTarget||Xz(c,h.target))},m=h=>{d(h,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",m,a)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),Kz(l)&&(l.addEventListener("focus",u=>ade(u,a)),!sde(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Qz(e){return cz(e)&&"ownerSVGElement"in e}function ode(e){return Qz(e)&&e.tagName==="svg"}const zr=e=>!!(e&&e.getVelocity),lde=[...zz,Yn,Zl],cde=e=>lde.find(Uz(e)),WE=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ude(...e){return t=>{let n=!1;const r=e.map(a=>{const i=qR(a,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():qR(e[a],null)}}}}function dde(...e){return y.useCallback(ude(...e),e)}class fde extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Kz(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mde({children:e,isPresent:t,anchorX:n,root:r}){const a=y.useId(),i=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(WE),c=dde(i,e==null?void 0:e.ref);return y.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:h}=o.current;if(t||!i.current||!u||!d)return;const g=n==="left"?`left: ${m}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");l&&(p.nonce=l);const x=r??document.head;return x.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${g}px !important;
            top: ${f}px !important;
          }
        `),()=>{x.contains(p)&&x.removeChild(p)}},[t]),s.jsx(fde,{isPresent:t,childRef:i,sizeRef:o,children:y.cloneElement(e,{ref:c})})}const hde=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const u=wE(pde),d=y.useId();let f=!0,m=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:a,onExitComplete:h=>{u.set(h,!0);for(const g of u.values())if(!g)return;r&&r()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[n,u,r]);return i&&f&&(m={...m}),y.useMemo(()=>{u.forEach((h,g)=>u.set(g,!1))},[n]),y.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(mde,{isPresent:n,anchorX:l,root:c,children:e})),s.jsx(sw.Provider,{value:m,children:e})};function pde(){return new Map}function Zz(e=!0){const t=y.useContext(sw);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=y.useId();y.useEffect(()=>{if(e)return a(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Lx=e=>e.key||"";function HR(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const gde=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=Zz(o),f=y.useMemo(()=>HR(e),[e]),m=o&&!u?[]:f.map(Lx),h=y.useRef(!0),g=y.useRef(f),p=wE(()=>new Map),[x,v]=y.useState(f),[b,w]=y.useState(f);oz(()=>{h.current=!1,g.current=f;for(let S=0;S<b.length;S++){const C=Lx(b[S]);m.includes(C)?p.delete(C):p.get(C)!==!0&&p.set(C,!1)}},[b,m.length,m.join("-")]);const N=[];if(f!==x){let S=[...f];for(let C=0;C<b.length;C++){const P=b[C],A=Lx(P);m.includes(A)||(S.splice(C,0,P),N.push(P))}return i==="wait"&&N.length&&(S=N),w(HR(S)),v(f),null}const{forceRender:j}=y.useContext(bE);return s.jsx(s.Fragment,{children:b.map(S=>{const C=Lx(S),P=o&&!u?!1:f===b||m.includes(C),A=()=>{if(p.has(C))p.set(C,!0);else return;let T=!0;p.forEach(E=>{E||(T=!1)}),T&&(j==null||j(),w(g.current),o&&(d==null||d()),r&&r())};return s.jsx(hde,{isPresent:P,initial:!h.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:P?void 0:A,anchorX:l,children:S},C)})})},Jz=y.createContext({strict:!1}),KR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yf={};for(const e in KR)yf[e]={isEnabled:t=>KR[e].some(n=>!!t[n])};function xde(e){for(const t in e)yf[t]={...yf[t],...e[t]}}const yde=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yde.has(e)}let e9=e=>!Fv(e);function vde(e){typeof e=="function"&&(e9=t=>t.startsWith("on")?!Fv(t):e(t))}try{vde(require("@emotion/is-prop-valid").default)}catch{}function bde(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(e9(a)||n===!0&&Fv(a)||!t&&!Fv(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const aw=y.createContext({});function iw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ep(e){return typeof e=="string"||Array.isArray(e)}const qE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HE=["initial",...qE];function ow(e){return iw(e.animate)||HE.some(t=>Ep(e[t]))}function t9(e){return!!(ow(e)||e.variants)}function wde(e,t){if(ow(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ep(n)?n:void 0,animate:Ep(r)?r:void 0}}return e.inherit!==!1?t:{}}function jde(e){const{initial:t,animate:n}=wde(e,y.useContext(aw));return y.useMemo(()=>({initial:t,animate:n}),[GR(t),GR(n)])}function GR(e){return Array.isArray(e)?e.join(" "):e}const kp={};function Nde(e){for(const t in e)kp[t]=e[t],TE(t)&&(kp[t].isCSSVariable=!0)}function n9(e,{layout:t,layoutId:n}){return cm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!kp[e]||e==="opacity")}const Sde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cde=lm.length;function Pde(e,t,n){let r="",a=!0;for(let i=0;i<Cde;i++){const o=lm[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Hz(l,VE[o]);if(!c){a=!1;const d=Sde[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function KE(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(cm.has(c)){o=!0;continue}else if(TE(c)){a[c]=u;continue}else{const d=Hz(u,VE[c]);c.startsWith("origin")?(l=!0,i[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=Pde(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${c} ${u} ${d}`}}const GE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r9(e,t,n){for(const r in t)!zr(t[r])&&!n9(r,n)&&(e[r]=t[r])}function Ade({transformTemplate:e},t){return y.useMemo(()=>{const n=GE();return KE(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Ede(e,t){const n=e.style||{},r={};return r9(r,n,e),Object.assign(r,Ade(e,t)),r}function kde(e,t){const n={},r=Ede(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Tde={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ode={offset:"strokeDashoffset",array:"strokeDasharray"};function _de(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?Tde:Ode;e[i.offset]=Ze.transform(-r);const o=Ze.transform(t),l=Ze.transform(n);e[i.array]=`${o} ${l}`}function s9(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,u,d){if(KE(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m}=e;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),a!==void 0&&_de(f,a,i,o,!1)}const a9=()=>({...GE(),attrs:{}}),i9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rde(e,t,n,r){const a=y.useMemo(()=>{const i=a9();return s9(i,t,i9(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};r9(i,e.style,e),a.style={...i,...a.style}}return a}const Mde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YE(e){return typeof e!="string"||e.includes("-")?!1:!!(Mde.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ide(e,t,n,{latestValues:r},a,i=!1){const l=(YE(e)?Rde:kde)(t,r,a,e),c=bde(t,typeof e=="string",i),u=e!==y.Fragment?{...c,...l,ref:n}:{},{children:d}=t,f=y.useMemo(()=>zr(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function YR(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function XE(e,t,n,r){if(typeof t=="function"){const[a,i]=YR(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=YR(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function Cy(e){return zr(e)?e.get():e}function Dde({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:$de(n,r,a,e),renderState:t()}}function $de(e,t,n,r){const a={},i=r(e,{});for(const m in i)a[m]=Cy(i[m]);let{initial:o,animate:l}=e;const c=ow(e),u=t9(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!iw(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const g=XE(e,m[h]);if(g){const{transitionEnd:p,transition:x,...v}=g;for(const b in v){let w=v[b];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(a[b]=w)}for(const b in p)a[b]=p[b]}}}return a}const o9=e=>(t,n)=>{const r=y.useContext(aw),a=y.useContext(sw),i=()=>Dde(e,t,r,a);return n?i():wE(i)};function QE(e,t,n){var i;const{style:r}=e,a={};for(const o in r)(zr(r[o])||t.style&&zr(t.style[o])||n9(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const Lde=o9({scrapeMotionValuesFromProps:QE,createRenderState:GE});function l9(e,t,n){const r=QE(e,t,n);for(const a in e)if(zr(e[a])||zr(t[a])){const i=lm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const Fde=o9({scrapeMotionValuesFromProps:l9,createRenderState:a9}),Bde=Symbol.for("motionComponentSymbol");function hd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Vde(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hd(n)&&(n.current=r))},[t])}const ZE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ude="framerAppearId",c9="data-"+ZE(Ude),u9=y.createContext({});function zde(e,t,n,r,a){var p,x;const{visualElement:i}=y.useContext(aw),o=y.useContext(Jz),l=y.useContext(sw),c=y.useContext(WE).reducedMotion,u=y.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(u9);d&&!d.projection&&a&&(d.type==="html"||d.type==="svg")&&Wde(u.current,n,a,f);const m=y.useRef(!1);y.useInsertionEffect(()=>{d&&m.current&&d.update(n,l)});const h=n[c9],g=y.useRef(!!h&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,h))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,h)));return oz(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,h)}),g.current=!1),d.enteringChildren=void 0)}),d}function Wde(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:d9(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&hd(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:c,layoutRoot:u})}function d9(e){if(e)return e.options.allowProjection!==!1?e.projection:d9(e.parent)}function xN(e,{forwardMotionProps:t=!1}={},n,r){n&&xde(n);const a=YE(e)?Fde:Lde;function i(l,c){let u;const d={...y.useContext(WE),...l,layoutId:qde(l)},{isStatic:f}=d,m=jde(l),h=a(l,f);if(!f&&jE){Hde();const g=Kde(d);u=g.MeasureLayout,m.visualElement=zde(e,h,d,r,g.ProjectionNode)}return s.jsxs(aw.Provider,{value:m,children:[u&&m.visualElement?s.jsx(u,{visualElement:m.visualElement,...d}):null,Ide(e,l,Vde(h,m.visualElement,c),h,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=y.forwardRef(i);return o[Bde]=e,o}function qde({layoutId:e}){const t=y.useContext(bE).id;return t&&e!==void 0?t+"-"+e:e}function Hde(e,t){y.useContext(Jz).strict}function Kde(e){const{drag:t,layout:n}=yf;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Gde(e,t){if(typeof Proxy>"u")return xN;const n=new Map,r=(i,o)=>xN(i,o,e,t),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,xN(o,void 0,e,t)),n.get(o))})}function f9({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Yde({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Xde(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yN(e){return e===void 0||e===1}function dC({scale:e,scaleX:t,scaleY:n}){return!yN(e)||!yN(t)||!yN(n)}function Ec(e){return dC(e)||m9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function m9(e){return XR(e.x)||XR(e.y)}function XR(e){return e&&e!=="0%"}function Bv(e,t,n){const r=e-n,a=t*r;return n+a}function QR(e,t,n,r,a){return a!==void 0&&(e=Bv(e,a,r)),Bv(e,n,r)+t}function fC(e,t=0,n=1,r,a){e.min=QR(e.min,t,n,r,a),e.max=QR(e.max,t,n,r,a)}function h9(e,{x:t,y:n}){fC(e.x,t.translate,t.scale,t.originPoint),fC(e.y,n.translate,n.scale,n.originPoint)}const ZR=.999999999999,JR=1.0000000000001;function Qde(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=n[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,h9(e,o)),r&&Ec(i.latestValues)&&gd(e,i.latestValues))}t.x<JR&&t.x>ZR&&(t.x=1),t.y<JR&&t.y>ZR&&(t.y=1)}function pd(e,t){e.min=e.min+t,e.max=e.max+t}function e4(e,t,n,r,a=.5){const i=Cn(e.min,e.max,a);fC(e,t,n,i,r)}function gd(e,t){e4(e.x,t.x,t.scaleX,t.scale,t.originX),e4(e.y,t.y,t.scaleY,t.scale,t.originY)}function p9(e,t){return f9(Xde(e.getBoundingClientRect(),t))}function Zde(e,t,n){const r=p9(e,n),{scroll:a}=t;return a&&(pd(r.x,a.offset.x),pd(r.y,a.offset.y)),r}const t4=()=>({translate:0,scale:1,origin:0,originPoint:0}),xd=()=>({x:t4(),y:t4()}),n4=()=>({min:0,max:0}),Fn=()=>({x:n4(),y:n4()}),mC={current:null},g9={current:!1};function Jde(){if(g9.current=!0,!!jE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mC.current=e.matches;e.addEventListener("change",t),t()}else mC.current=!1}const efe=new WeakMap;function tfe(e,t,n){for(const r in t){const a=t[r],i=n[r];if(zr(a))e.addValue(r,a);else if(zr(i))e.addValue(r,xf(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,xf(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const r4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nfe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=FE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=vs.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,wn.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=ow(n),this.isVariantNode=t9(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const h=f[m];c[m]!==void 0&&zr(h)&&h.set(c[m])}}mount(t){var n;this.current=t,efe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),g9.current||Jde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mC.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ql(this.notifyUpdate),Ql(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=cm.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&wn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yf){const n=yf[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r4.length;r++){const a=r4[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=tfe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=xf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(lz(r)||uz(r))?r=parseFloat(r):!cde(r)&&Zl.test(n)&&(r=qz(t,n)),this.setBaseTarget(t,zr(r)?r.get():r)),zr(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=XE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!zr(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new AE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){UE.render(this.render)}}class x9 extends nfe{constructor(){super(...arguments),this.KeyframeResolver=Que}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function y9(e,{style:t,vars:n},r,a){const i=e.style;let o;for(o in t)i[o]=t[o];a==null||a.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function rfe(e){return window.getComputedStyle(e)}class sfe extends x9{constructor(){super(...arguments),this.type="html",this.renderInstance=y9}readValueFromInstance(t,n){var r;if(cm.has(n))return(r=this.projection)!=null&&r.isProjecting?sC(n):gue(t,n);{const a=rfe(t),i=(TE(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return p9(t,n)}build(t,n,r){KE(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return QE(t,n,r)}}const v9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function afe(e,t,n,r){y9(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(v9.has(a)?a:ZE(a),t.attrs[a])}class ife extends x9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cm.has(n)){const r=Wz(n);return r&&r.default||0}return n=v9.has(n)?n:ZE(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return l9(t,n,r)}build(t,n,r){s9(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){afe(t,n,r,a)}mount(t){this.isSVGTag=i9(t.tagName),super.mount(t)}}const ofe=(e,t)=>YE(e)?new ife(t):new sfe(t,{allowProjection:e!==y.Fragment});function Rd(e,t,n){const r=e.getProps();return XE(r,t,n!==void 0?n:r.custom,e)}const hC=e=>Array.isArray(e);function lfe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xf(n))}function cfe(e){return hC(e)?e[e.length-1]||0:e}function ufe(e,t){const n=Rd(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const l=cfe(i[o]);lfe(e,o,l)}}function dfe(e){return!!(zr(e)&&e.add)}function pC(e,t){const n=e.getValue("willChange");if(dfe(n))return n.add(t);if(!n&&To.WillChange){const r=new To.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function b9(e){return e.props[c9]}const ffe=e=>e!==null;function mfe(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(ffe),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const hfe={type:"spring",stiffness:500,damping:25,restSpeed:10},pfe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gfe={type:"keyframes",duration:.8},xfe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yfe=(e,{keyframes:t})=>t.length>2?gfe:cm.has(e)?e.startsWith("scale")?pfe(t[1]):hfe:xfe;function vfe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const JE=(e,t,n,r={},a,i)=>o=>{const l=BE(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ai(c);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};vfe(l)||Object.assign(d,yfe(e,d)),d.duration&&(d.duration=Ai(d.duration)),d.repeatDelay&&(d.repeatDelay=Ai(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(cC(d),d.delay===0&&(f=!0)),(To.instantAnimations||To.skipAnimations)&&(f=!0,cC(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const m=mfe(d.keyframes,l);if(m!==void 0){wn.update(()=>{d.onUpdate(m),d.onComplete()});return}}return l.isSync?new LE(d):new Fue(d)};function bfe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function w9(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...l}=t;r&&(i=r);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&bfe(u,d))continue;const h={delay:n,...BE(i||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===g&&!h.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const v=b9(e);if(v){const b=window.MotionHandoffAnimation(v,d,wn);b!==null&&(h.startTime=b,p=!0)}}pC(e,d),f.start(JE(d,f,m,e.shouldReduceMotion&&Vz.has(d)?{type:!1}:h,e,p));const x=f.animation;x&&c.push(x)}return o&&Promise.all(c).then(()=>{wn.update(()=>{o&&ufe(e,o)})}),c}function j9(e,t,n,r=0,a=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),o=e.size,l=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:l-i*r}function gC(e,t,n={}){var c;const r=Rd(e,t,n.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(w9(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=a;return wfe(e,t,u,d,f,m,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,d]=l==="beforeChildren"?[i,o]:[o,i];return u().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function wfe(e,t,n=0,r=0,a=0,i=1,o){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(gC(c,t,{...o,delay:n+(typeof r=="function"?0:r)+j9(e.variantChildren,c,r,a,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function jfe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>gC(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=gC(e,t,n);else{const a=typeof t=="function"?Rd(e,t,n.custom):t;r=Promise.all(w9(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function N9(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Nfe=HE.length;function S9(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?S9(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Nfe;n++){const r=HE[n],a=e.props[r];(Ep(a)||a===!1)&&(t[r]=a)}return t}const Sfe=[...qE].reverse(),Cfe=qE.length;function Pfe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>jfe(e,n,r)))}function Afe(e){let t=Pfe(e),n=s4(),r=!0;const a=c=>(u,d)=>{var m;const f=Rd(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:h,transitionEnd:g,...p}=f;u={...u,...p,...g}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=S9(e.parent)||{},f=[],m=new Set;let h={},g=1/0;for(let x=0;x<Cfe;x++){const v=Sfe[x],b=n[v],w=u[v]!==void 0?u[v]:d[v],N=Ep(w),j=v===c?b.isActive:null;j===!1&&(g=x);let S=w===d[v]&&w!==u[v]&&N;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...h},!b.isActive&&j===null||!w&&!b.prevProp||iw(w)||typeof w=="boolean")continue;const C=Efe(b.prevProp,w);let P=C||v===c&&b.isActive&&!S&&N||x>g&&N,A=!1;const T=Array.isArray(w)?w:[w];let E=T.reduce(a(v),{});j===!1&&(E={});const{prevResolvedValues:k={}}=b,R={...k,...E},I=V=>{P=!0,m.has(V)&&(A=!0,m.delete(V)),b.needsAnimating[V]=!0;const O=e.getValue(V);O&&(O.liveStyle=!1)};for(const V in R){const O=E[V],_=k[V];if(h.hasOwnProperty(V))continue;let z=!1;hC(O)&&hC(_)?z=!N9(O,_):z=O!==_,z?O!=null?I(V):m.add(V):O!==void 0&&m.has(V)?I(V):b.protectedKeys[V]=!0}b.prevProp=w,b.prevResolvedValues=E,b.isActive&&(h={...h,...E}),r&&e.blockInitialAnimation&&(P=!1);const D=S&&C;P&&(!D||A)&&f.push(...T.map(V=>{const O={type:v};if(typeof V=="string"&&r&&!D&&e.manuallyAnimateOnMount&&e.parent){const{parent:_}=e,z=Rd(_,V);if(_.enteringChildren&&z){const{delayChildren:ne}=z.transition||{};O.delay=j9(_.enteringChildren,e,ne)}}return{animation:V,options:O}}))}if(m.size){const x={};if(typeof u.initial!="boolean"){const v=Rd(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(x.transition=v.transition)}m.forEach(v=>{const b=e.getBaseTarget(v),w=e.getValue(v);w&&(w.liveStyle=!0),x[v]=b??null}),f.push({animation:x})}let p=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(f):Promise.resolve()}function l(c,u){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var h;return(h=m.animationState)==null?void 0:h.setActive(c,u)}),n[c].isActive=u;const d=o(c);for(const m in n)n[m].protectedKeys={};return d}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=s4()}}}function Efe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!N9(t,e):!1}function jc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s4(){return{animate:jc(!0),whileInView:jc(),whileHover:jc(),whileTap:jc(),whileDrag:jc(),whileFocus:jc(),exit:jc()}}class fc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class kfe extends fc{constructor(t){super(t),t.animationState||(t.animationState=Afe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();iw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Tfe=0;class Ofe extends fc{constructor(){super(...arguments),this.id=Tfe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _fe={animation:{Feature:kfe},exit:{Feature:Ofe}};function Tp(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hg(e){return{point:{x:e.pageX,y:e.pageY}}}const Rfe=e=>t=>zE(t)&&e(t,Hg(t));function _h(e,t,n,r){return Tp(e,t,Rfe(n),r)}const C9=1e-4,Mfe=1-C9,Ife=1+C9,P9=.01,Dfe=0-P9,$fe=0+P9;function ts(e){return e.max-e.min}function Lfe(e,t,n){return Math.abs(e-t)<=n}function a4(e,t,n,r=.5){e.origin=r,e.originPoint=Cn(t.min,t.max,e.origin),e.scale=ts(n)/ts(t),e.translate=Cn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Mfe&&e.scale<=Ife||isNaN(e.scale))&&(e.scale=1),(e.translate>=Dfe&&e.translate<=$fe||isNaN(e.translate))&&(e.translate=0)}function Rh(e,t,n,r){a4(e.x,t.x,n.x,r?r.originX:void 0),a4(e.y,t.y,n.y,r?r.originY:void 0)}function i4(e,t,n){e.min=n.min+t.min,e.max=e.min+ts(t)}function Ffe(e,t,n){i4(e.x,t.x,n.x),i4(e.y,t.y,n.y)}function o4(e,t,n){e.min=t.min-n.min,e.max=e.min+ts(t)}function Mh(e,t,n){o4(e.x,t.x,n.x),o4(e.y,t.y,n.y)}function na(e){return[e("x"),e("y")]}const A9=({current:e})=>e?e.ownerDocument.defaultView:null,l4=(e,t)=>Math.abs(e-t);function Bfe(e,t){const n=l4(e.x,t.x),r=l4(e.y,t.y);return Math.sqrt(n**2+r**2)}class E9{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=bN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=Bfe(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!g)return;const{point:p}=m,{timestamp:x}=Cr;this.history.push({...p,timestamp:x});const{onStart:v,onMove:b}=this.handlers;h||(v&&v(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,h)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=vN(h,this.transformPagePoint),wn.update(this.updatePoint,!0)},this.handlePointerUp=(m,h)=>{this.end();const{onEnd:g,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=bN(m.type==="pointercancel"?this.lastMoveEventInfo:vN(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(m,v),p&&p(m,v)},!zE(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const l=Hg(t),c=vN(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=Cr;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,bN(c,this.history)),this.removeListeners=zg(_h(this.contextWindow,"pointermove",this.handlePointerMove),_h(this.contextWindow,"pointerup",this.handlePointerUp),_h(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ql(this.updatePoint)}}function vN(e,t){return t?{point:t(e.point)}:e}function c4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bN({point:e},t){return{point:e,delta:c4(e,k9(t)),offset:c4(e,Vfe(t)),velocity:Ufe(t,.1)}}function Vfe(e){return e[0]}function k9(e){return e[e.length-1]}function Ufe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=k9(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ai(t)));)n--;if(!r)return{x:0,y:0};const i=ma(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zfe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Cn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Cn(n,e,r.max):Math.min(e,n)),e}function u4(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Wfe(e,{top:t,left:n,bottom:r,right:a}){return{x:u4(e.x,n,a),y:u4(e.y,t,r)}}function d4(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function qfe(e,t){return{x:d4(e.x,t.x),y:d4(e.y,t.y)}}function Hfe(e,t){let n=.5;const r=ts(e),a=ts(t);return a>r?n=Cp(t.min,t.max-r,e.min):r>a&&(n=Cp(e.min,e.max-a,t.min)),ko(0,1,n)}function Kfe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xC=.35;function Gfe(e=xC){return e===!1?e=0:e===!0&&(e=xC),{x:f4(e,"left","right"),y:f4(e,"top","bottom")}}function f4(e,t,n){return{min:m4(e,t),max:m4(e,n)}}function m4(e,t){return typeof e=="number"?e:e[t]||0}const Yfe=new WeakMap;class Xfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hg(f).point)},o=(f,m)=>{const{drag:h,dragPropagation:g,onDragStart:p}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tde(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(v=>{let b=this.getAxisMotionValue(v).get()||0;if(Ei.test(b)){const{projection:w}=this.visualElement;if(w&&w.layout){const N=w.layout.layoutBox[v];N&&(b=ts(N)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&wn.postRender(()=>p(f,m)),pC(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:p,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=m;if(g&&this.currentDirection===null){this.currentDirection=Qfe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",m.point,v),this.updateAxis("y",m.point,v),this.visualElement.render(),x&&x(f,m)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>na(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new E9(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:A9(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&wn.postRender(()=>l(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Fx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=zfe(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&hd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Wfe(r.layoutBox,t):this.constraints=!1,this.elastic=Gfe(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&na(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Kfe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hd(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Zde(r,a.root,this.visualElement.getTransformPagePoint());let o=qfe(a.layout.layoutBox,i);if(n){const l=n(Yde(o));this.hasMutatedConstraints=!!l,l&&(o=f9(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=na(d=>{if(!Fx(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=a?200:1e6,h=a?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return pC(this.visualElement,t),r.start(JE(t,r,0,n,this.visualElement,!1))}stopAnimation(){na(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){na(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){na(n=>{const{drag:r}=this.getProps();if(!Fx(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[n];i.set(t[n]-Cn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hd(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};na(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Hfe({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),na(o=>{if(!Fx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Cn(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Yfe.set(this.visualElement,this);const t=this.visualElement.current,n=_h(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();hd(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),wn.read(r);const o=Tp(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(na(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=xC,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Fx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Qfe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Zfe extends fc{constructor(t){super(t),this.removeGroupControls=ya,this.removeListeners=ya,this.controls=new Xfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ya}unmount(){this.removeGroupControls(),this.removeListeners()}}const h4=e=>(t,n)=>{e&&wn.postRender(()=>e(t,n))};class Jfe extends fc{constructor(){super(...arguments),this.removePointerDownListener=ya}onPointerDown(t){this.session=new E9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:h4(t),onStart:h4(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&wn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=_h(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Py={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Km={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ze.test(e))e=parseFloat(e);else return e;const n=p4(e,t.target.x),r=p4(e,t.target.y);return`${n}% ${r}%`}},eme={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Zl.parse(e);if(a.length>5)return r;const i=Zl.createTransformer(e),o=typeof a[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=Cn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};let wN=!1;class tme extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Nde(nme),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),wN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Py.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,wN=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||wn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),UE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;wN=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function T9(e){const[t,n]=Zz(),r=y.useContext(bE);return s.jsx(tme,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(u9),isPresent:t,safeToRemove:n})}const nme={borderRadius:{...Km,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Km,borderTopRightRadius:Km,borderBottomLeftRadius:Km,borderBottomRightRadius:Km,boxShadow:eme};function rme(e,t,n){const r=zr(e)?e:xf(e);return r.start(JE("",r,t,n)),r.animation}const sme=(e,t)=>e.depth-t.depth;class ame{constructor(){this.children=[],this.isDirty=!1}add(t){NE(this.children,t),this.isDirty=!0}remove(t){SE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sme),this.isDirty=!1,this.children.forEach(t)}}function ime(e,t){const n=vs.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Ql(r),e(i-t))};return wn.setup(r,!0),()=>Ql(r)}const O9=["TopLeft","TopRight","BottomLeft","BottomRight"],ome=O9.length,g4=e=>typeof e=="string"?parseFloat(e):e,x4=e=>typeof e=="number"||Ze.test(e);function lme(e,t,n,r,a,i){a?(e.opacity=Cn(0,n.opacity??1,cme(r)),e.opacityExit=Cn(t.opacity??1,0,ume(r))):i&&(e.opacity=Cn(t.opacity??1,n.opacity??1,r));for(let o=0;o<ome;o++){const l=`border${O9[o]}Radius`;let c=y4(t,l),u=y4(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||x4(c)===x4(u)?(e[l]=Math.max(Cn(g4(c),g4(u),r),0),(Ei.test(u)||Ei.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Cn(t.rotate||0,n.rotate||0,r))}function y4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cme=_9(0,.5,yz),ume=_9(.5,.95,ya);function _9(e,t,n){return r=>r<e?0:r>t?1:n(Cp(e,t,r))}function v4(e,t){e.min=t.min,e.max=t.max}function Zs(e,t){v4(e.x,t.x),v4(e.y,t.y)}function b4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function w4(e,t,n,r,a){return e-=t,e=Bv(e,1/n,r),a!==void 0&&(e=Bv(e,1/a,r)),e}function dme(e,t=0,n=1,r=.5,a,i=e,o=e){if(Ei.test(t)&&(t=parseFloat(t),t=Cn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Cn(i.min,i.max,r);e===i&&(l-=t),e.min=w4(e.min,t,n,l,a),e.max=w4(e.max,t,n,l,a)}function j4(e,t,[n,r,a],i,o){dme(e,t[n],t[r],t[a],t.scale,i,o)}const fme=["x","scaleX","originX"],mme=["y","scaleY","originY"];function N4(e,t,n,r){j4(e.x,t,fme,n?n.x:void 0,r?r.x:void 0),j4(e.y,t,mme,n?n.y:void 0,r?r.y:void 0)}function S4(e){return e.translate===0&&e.scale===1}function R9(e){return S4(e.x)&&S4(e.y)}function C4(e,t){return e.min===t.min&&e.max===t.max}function hme(e,t){return C4(e.x,t.x)&&C4(e.y,t.y)}function P4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function M9(e,t){return P4(e.x,t.x)&&P4(e.y,t.y)}function A4(e){return ts(e.x)/ts(e.y)}function E4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class pme{constructor(){this.members=[]}add(t){NE(this.members,t),t.scheduleRender()}remove(t){if(SE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gme(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const jN=["","X","Y","Z"],xme=1e3;let yme=0;function NN(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function I9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=b9(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",wn,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&I9(r)}function D9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=yme++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wme),this.nodes.forEach(Cme),this.nodes.forEach(Pme),this.nodes.forEach(jme)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ame)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Qz(o)&&!ode(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;wn.read(()=>{f=window.innerWidth}),e(o,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,d&&d(),d=ime(m,250),Py.hasAnimatedSinceResize&&(Py.hasAnimatedSinceResize=!1,this.nodes.forEach(O4)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||Ome,{onLayoutAnimationStart:p,onLayoutAnimationComplete:x}=u.getProps(),v=!this.targetLayout||!M9(this.targetLayout,h),b=!f&&m;if(this.options.layoutRoot||this.resumeFrom||b||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...BE(g,"layout"),onPlay:p,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,b)}else f||O4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ql(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ame),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(T4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Sme),this.nodes.forEach(vme),this.nodes.forEach(bme)):this.nodes.forEach(T4),this.clearAllSnapshots();const l=vs.now();Cr.delta=ko(0,1e3/60,l-Cr.timestamp),Cr.timestamp=l,Cr.isProcessing=!0,dN.update.process(Cr),dN.preRender.process(Cr),dN.render.process(Cr),Cr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nme),this.sharedNodes.forEach(Eme)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ts(this.snapshot.measuredBox.x)&&!ts(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!R9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ec(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_me(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Fn();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Rme))){const{scroll:d}=this.root;d&&(pd(l.x,d.offset.x),pd(l.y,d.offset.y))}return l}removeElementScroll(o){var c;const l=Fn();if(Zs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Zs(l,o),pd(l.x,f.offset.x),pd(l.y,f.offset.y))}return l}applyTransform(o,l=!1){const c=Fn();Zs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&gd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ec(d.latestValues)&&gd(c,d.latestValues)}return Ec(this.latestValues)&&gd(c,this.latestValues),c}removeTransform(o){const l=Fn();Zs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ec(u.latestValues))continue;dC(u.latestValues)&&u.updateSnapshot();const d=Fn(),f=u.measurePageBox();Zs(d,f),N4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ec(this.latestValues)&&N4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Cr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Cr.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),Mh(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ffe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),h9(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),Mh(this.relativeTargetOrigin,this.target,h.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dC(this.parent.latestValues)||m9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Cr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Zs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Qde(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fn());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b4(this.prevProjectionDelta.x,this.projectionDelta.x),b4(this.prevProjectionDelta.y,this.projectionDelta.y)),Rh(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!E4(this.projectionDelta.x,this.prevProjectionDelta.x)||!E4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xd(),this.projectionDelta=xd(),this.projectionDeltaWithTransform=xd()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=xd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Fn(),h=c?c.source:void 0,g=this.layout?this.layout.source:void 0,p=h!==g,x=this.getStack(),v=!x||x.members.length<=1,b=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(Tme));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;_4(f.x,o.x,j),_4(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kme(this.relativeTarget,this.relativeTargetOrigin,m,j),w&&hme(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Fn()),Zs(w,this.relativeTarget)),p&&(this.animationValues=d,lme(d,u,this.latestValues,j,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ql(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wn.update(()=>{Py.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xf(0)),this.currentAnimation=rme(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xme),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&$9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Fn();const f=ts(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=ts(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Zs(l,c),gd(l,d),Rh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pme),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&NN("z",o,u,this.animationValues);for(let d=0;d<jN.length;d++)NN(`rotate${jN[d]}`,o,u,this.animationValues),NN(`skew${jN[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Cy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Cy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ec(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=gme(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),o.transform=f;const{x:m,y:h}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${h.origin*100}% 0`,u.animationValues?o.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in kp){if(d[g]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:v}=kp[g],b=f==="none"?d[g]:p(d[g],u);if(x){const w=x.length;for(let N=0;N<w;N++)o[x[N]]=b}else v?this.options.visualElement.renderState.vars[g]=b:o[g]=b}this.options.layoutId&&(o.pointerEvents=u===this?Cy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(k4),this.root.sharedNodes.clear()}}}function vme(e){e.updateLayout()}function bme(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?na(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],h=ts(m);m.min=r[f].min,m.max=m.min+h}):$9(i,t.layoutBox,r)&&na(f=>{const m=o?t.measuredBox[f]:t.layoutBox[f],h=ts(r[f]);m.max=m.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const l=xd();Rh(l,r,t.layoutBox);const c=xd();o?Rh(c,e.applyTransform(a,!0),t.measuredBox):Rh(c,r,t.layoutBox);const u=!R9(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const g=Fn();Mh(g,t.layoutBox,m.layoutBox);const p=Fn();Mh(p,r,h.layoutBox),M9(g,p)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function wme(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function jme(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Nme(e){e.clearSnapshot()}function k4(e){e.clearMeasurements()}function T4(e){e.isLayoutDirty=!1}function Sme(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cme(e){e.resolveTargetDelta()}function Pme(e){e.calcProjection()}function Ame(e){e.resetSkewAndRotation()}function Eme(e){e.removeLeadSnapshot()}function _4(e,t,n){e.translate=Cn(t.translate,0,n),e.scale=Cn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function R4(e,t,n,r){e.min=Cn(t.min,n.min,r),e.max=Cn(t.max,n.max,r)}function kme(e,t,n,r){R4(e.x,t.x,n.x,r),R4(e.y,t.y,n.y,r)}function Tme(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ome={duration:.45,ease:[.4,0,.1,1]},M4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),I4=M4("applewebkit/")&&!M4("chrome/")?Math.round:ya;function D4(e){e.min=I4(e.min),e.max=I4(e.max)}function _me(e){D4(e.x),D4(e.y)}function $9(e,t,n){return e==="position"||e==="preserve-aspect"&&!Lfe(A4(t),A4(n),.2)}function Rme(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Mme=D9({attachResizeListener:(e,t)=>Tp(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),SN={current:void 0},L9=D9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!SN.current){const e=new Mme({});e.mount(window),e.setOptions({layoutScroll:!0}),SN.current=e}return SN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Ime={pan:{Feature:Jfe},drag:{Feature:Zfe,ProjectionNode:L9,MeasureLayout:T9}};function $4(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&wn.postRender(()=>i(t,Hg(t)))}class Dme extends fc{mount(){const{current:t}=this.node;t&&(this.unmount=nde(t,(n,r)=>($4(this.node,r,"Start"),a=>$4(this.node,a,"End"))))}unmount(){}}class $me extends fc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zg(Tp(this.node.current,"focus",()=>this.onFocus()),Tp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L4(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&wn.postRender(()=>i(t,Hg(t)))}class Lme extends fc{mount(){const{current:t}=this.node;t&&(this.unmount=ide(t,(n,r)=>(L4(this.node,r,"Start"),(a,{success:i})=>L4(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yC=new WeakMap,CN=new WeakMap,Fme=e=>{const t=yC.get(e.target);t&&t(e)},Bme=e=>{e.forEach(Fme)};function Vme({root:e,...t}){const n=e||document;CN.has(n)||CN.set(n,{});const r=CN.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Bme,{root:e,...t})),r[a]}function Ume(e,t,n){const r=Vme(t);return yC.set(e,n),r.observe(e),()=>{yC.delete(e),r.unobserve(e)}}const zme={some:0,all:1};class Wme extends fc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:zme[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return Ume(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(qme(t,n))&&this.startObserver()}unmount(){}}function qme({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Hme={inView:{Feature:Wme},tap:{Feature:Lme},focus:{Feature:$me},hover:{Feature:Dme}},Kme={layout:{ProjectionNode:L9,MeasureLayout:T9}},Gme={..._fe,...Hme,...Ime,...Kme},xs=Gde(Gme,ofe);function Yme(){const e=wt(),{toast:t}=Ys();return it({mutationFn:n=>DA.createRFP(n),onSuccess:n=>{e.invalidateQueries({queryKey:["rfps"]}),t({title:"RFP created successfully",description:`"${n.title}" has been created as a draft.`})},onError:n=>{n.status===403?t({title:"Premium subscription required",description:"This feature requires a Premium subscription. Upgrade to create RFPs.",variant:"destructive"}):n.status===400?t({title:"Validation error",description:n.message||"Please check your inputs and try again.",variant:"destructive"}):t({title:"Failed to create RFP",description:"An error occurred. Please try again.",variant:"destructive"})}})}const Xme=Mr({title:ot().min(1,"Title is required").max(200,"Title must be 200 characters or less"),objectives:ot().optional(),requirements:ot().min(1,"Requirements are required"),timeline:ot().optional(),budget:ot().optional(),vendorIds:Eo(ot()).min(1,"At least one vendor must be selected"),documents:Eo(ot()).max(5,"Maximum 5 documents allowed").optional()});function F9({open:e,onOpenChange:t,organizationId:n,preSelectedVendorIds:r=[]}){var ie,ae,ge,$;const{toast:a}=Ys(),[i,o]=y.useState([]),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(!1),[h,g]=y.useState(null),p=Yme(),{data:x,isLoading:v}=$e({queryKey:Je.assessments,queryFn:Wt.getAssessments,enabled:e}),b=(x==null?void 0:x.filter(J=>J.status==="COMPLETED"||J.status==="IN_PROGRESS"))||[],{register:w,handleSubmit:N,formState:{errors:j,isSubmitting:S},setValue:C,watch:P,reset:A,getValues:T}=Fi({resolver:lc(Xme),defaultValues:{title:"",objectives:"",requirements:"",timeline:"",budget:"",vendorIds:r,documents:[]}}),E=P("vendorIds"),k=Array.isArray(E)?E:[],R=P("documents"),I=Array.isArray(R)?R:[],D=P("timeline"),B=P("budget");y.useEffect(()=>{e&&!h&&b.length>0&&(b.length===1?(g(b[0]),setTimeout(()=>_(),200)):m(!0))},[e,b.length]),y.useEffect(()=>{e&&V()},[e,h]);const V=async()=>{var J;c(!0);try{const Z=localStorage.getItem("token");if(h!=null&&h.id)try{const H=await fetch(`/v1/assessments/${h.id}/vendor-matches-v2?threshold=0&limit=100`,{headers:{Authorization:`Bearer ${Z}`}});if(H.ok){const re=(((J=(await H.json()).data)==null?void 0:J.matches)||[]).map(me=>({id:me.vendor.id,companyName:me.vendor.companyName,categories:me.vendor.categories||[],logo:me.vendor.logo,matchScore:me.totalScore,matchQuality:me.matchQuality}));if(re.sort((me,Fe)=>(Fe.matchScore||0)-(me.matchScore||0)),o(re),re.length>0&&k.length===0){const me=re.slice(0,3).map(Fe=>Fe.id);C("vendorIds",me)}c(!1);return}}catch(H){console.error("Error fetching vendor matches:",H)}const L=await fetch("/v1/vendors?limit=100&status=APPROVED",{headers:{Authorization:`Bearer ${Z}`}});if(!L.ok)throw new Error("Failed to fetch vendors");const ce=await L.json();o(ce.data||[])}catch(Z){console.error("Error fetching vendors:",Z),a({title:"Failed to load vendors",description:"Could not fetch vendor list. Please try again.",variant:"destructive"})}finally{c(!1)}},O=()=>{if(!h){if(b.length===0){a({title:"No assessments available",description:"Complete an assessment first to enable auto-fill.",variant:"destructive"});return}m(!0);return}_()},_=async()=>{var J,Z,L,ce,H,Se,U,re,me,Fe,ut,mt,q,ee;if(h){d(!0);try{const W=await Wt.getAssessmentResults(h.id),oe=((J=h.template)==null?void 0:J.name)||"Compliance";C("title",`RFP for ${oe} Solutions`);const fe=W.overallRiskScore!=null?(W.overallRiskScore/10).toFixed(1):"N/A",xe=`
We are seeking solutions to address compliance requirements identified in our ${oe} assessment.

Assessment Summary:
- Overall Risk Score: ${fe}/10
- Total Gaps Identified: ${((Z=W.gaps)==null?void 0:Z.length)||0}
- Critical Gaps: ${((L=W.gaps)==null?void 0:L.filter(we=>we.severity==="CRITICAL").length)||0}
- Assessment Date: ${new Date(h.completedAt||h.createdAt).toLocaleDateString()}

Our objective is to implement solutions that address these compliance gaps and improve our overall compliance posture.
      `.trim();if(C("objectives",xe),W.gaps&&W.gaps.length>0)try{const we=localStorage.getItem("token"),Re=await fetch(`/v1/assessments/${h.id}/rfp-requirements`,{headers:{Authorization:`Bearer ${we}`}});if(Re.ok){const et=(ce=(await Re.json()).data)==null?void 0:ce.formattedRequirements;et?C("requirements",`Based on our ${oe} assessment, we require solutions that address the following compliance gaps:

${et}`):C("requirements",`Based on our assessment, we identified ${W.gaps.length} compliance gaps that require solutions. Please refer to the objectives section for details.`)}else C("requirements",`Based on our assessment, we identified ${W.gaps.length} compliance gaps across key areas:

${W.gaps.slice(0,5).map((Me,et)=>`${et+1}. ${Me.title||"Compliance gap"} (${Me.severity||"MEDIUM"} severity)`).join(`
`)}`)}catch(we){console.error("Error fetching formatted requirements:",we),C("requirements",`Based on our assessment, we identified ${W.gaps.length} compliance gaps that require vendor solutions.`)}try{const we=localStorage.getItem("token"),Re=await fetch(`/v1/assessments/${h.id}/strategy-matrix`,{headers:{Authorization:`Bearer ${we}`}});if(Re.ok){const et=(await Re.json()).data,Zt=[{name:"immediate",timeline:"< 3 months",gaps:((H=et.immediate)==null?void 0:H.gapCount)||0},{name:"nearTerm",timeline:"3-6 months",gaps:((Se=et.nearTerm)==null?void 0:Se.gapCount)||0},{name:"strategic",timeline:"6-12 months",gaps:((U=et.strategic)==null?void 0:U.gapCount)||0}].reduce((ds,Jn)=>Jn.gaps>ds.gaps?Jn:ds);C("timeline",Zt.timeline);const Kr={immediate:((re=et.immediate)==null?void 0:re.estimatedCostRange)||"€0",nearTerm:((me=et.nearTerm)==null?void 0:me.estimatedCostRange)||"€0",strategic:((Fe=et.strategic)==null?void 0:Fe.estimatedCostRange)||"€0"},As=ds=>{const Jn=ds.match(/€(\d+)K-€(\d+)K/);if(Jn){const zi=parseInt(Jn[1]),Fu=parseInt(Jn[2]);return(zi+Fu)/2}const Vo=ds.match(/€(\d+)K/);return Vo?parseInt(Vo[1]):0},dr=As(Kr.immediate)+As(Kr.nearTerm)+As(Kr.strategic);dr>500?C("budget","> €1M"):dr>250?C("budget","€500K - €1M"):dr>100?C("budget","€100K - €500K"):dr>50?C("budget","€50K - €100K"):dr>0?C("budget","< €50K"):C("budget","Not specified")}else{const Me=((ut=W.gaps)==null?void 0:ut.filter(et=>et.severity==="CRITICAL").length)||0;Me>5?(C("timeline","< 3 months"),C("budget","€100K - €500K")):Me>0?(C("timeline","3-6 months"),C("budget","€50K - €100K")):(C("timeline","6-12 months"),C("budget","< €50K"))}}catch(we){console.error("Error fetching strategy matrix:",we);const Re=((mt=W.gaps)==null?void 0:mt.filter(Me=>Me.severity==="CRITICAL").length)||0;Re>5?(C("timeline","< 3 months"),C("budget","€100K - €500K")):Re>0?(C("timeline","3-6 months"),C("budget","€50K - €100K")):(C("timeline","6-12 months"),C("budget","< €50K"))}a({title:"Auto-fill complete",description:`Populated from "${(q=h.template)==null?void 0:q.name}" assessment with ${((ee=W.gaps)==null?void 0:ee.length)||0} gaps identified.`})}catch(W){console.error("Error auto-filling from assessment:",W),a({title:"Auto-fill failed",description:"Could not load assessment data. Please fill manually.",variant:"destructive"})}finally{setTimeout(()=>d(!1),500)}}},z=J=>{g(J),m(!1),setTimeout(()=>_(),100)},ne=y.useCallback(J=>{const Z=T("vendorIds")||[],L=Z.includes(J)?Z.filter(ce=>ce!==J):[...Z,J];C("vendorIds",L)},[T,C]),Y=async J=>{try{await p.mutateAsync({organizationId:n,...J}),A(),t(!1)}catch{}},Q=()=>{A(),g(null),m(!1),t(!1)};return s.jsxs(Jt,{open:e,onOpenChange:Q,children:[s.jsxs(Gt,{className:"sm:max-w-4xl h-screen sm:h-auto sm:max-h-[90vh] overflow-y-auto w-full p-3 sm:p-6",children:[s.jsxs(Yt,{className:"space-y-1 sm:space-y-2",children:[s.jsxs(Xt,{className:"flex items-center space-x-1 sm:space-x-2 text-base sm:text-xl",children:[s.jsx(ft,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),s.jsx("span",{className:"sm:hidden",children:"Create RFP"}),s.jsx("span",{className:"hidden sm:inline",children:"Create Request for Proposal"})]}),s.jsxs(Qt,{className:"text-xs sm:text-sm",children:[s.jsx("span",{className:"sm:hidden",children:"Fill details to send to vendors"}),s.jsx("span",{className:"hidden sm:inline",children:"Create a detailed RFP to send to vendors. Use auto-fill to populate with your strategic context."})]})]}),s.jsxs("form",{onSubmit:N(Y),className:"space-y-2 sm:space-y-6",children:[s.jsx("div",{className:"space-y-1 sm:space-y-2",children:h?s.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 bg-cyan-900/20 border border-cyan-600/30 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[s.jsx(ev,{className:"h-3 w-3 sm:h-4 sm:w-4 text-cyan-400 flex-shrink-0"}),s.jsxs("span",{className:"text-xs sm:text-sm text-gray-300 truncate",children:[s.jsx("span",{className:"sm:hidden",children:(ae=(ie=h.template)==null?void 0:ie.name)==null?void 0:ae.substring(0,20)}),s.jsxs("span",{className:"hidden sm:inline",children:["Using: ",(ge=h.template)==null?void 0:ge.name]})]}),s.jsx(le,{variant:"outline",className:"text-xs ml-1 px-1",children:($=h.gaps)==null?void 0:$.length})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:O,disabled:u,className:"text-cyan-400 hover:text-cyan-300 h-7 px-2 text-xs sm:text-sm","data-testid":"button-autofill",children:u?s.jsx(Ye,{className:"h-3 w-3 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline ml-1",children:"Fill"})]})}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(null),className:"text-gray-400 hover:text-gray-300 h-7 w-7 p-0","data-testid":"button-clear-assessment",children:s.jsx(kr,{className:"h-3 w-3"})})]})]}):s.jsx("div",{className:"flex justify-end",children:s.jsx(F,{type:"button",variant:"outline",size:"sm",onClick:O,disabled:v||u,className:"text-primary h-7 px-2 text-xs sm:text-sm",children:v?s.jsx(Ye,{className:"h-3 w-3 animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx($t,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"sm:hidden ml-1",children:"Auto-Fill"}),s.jsx("span",{className:"hidden sm:inline ml-1",children:"Auto-Fill from Assessment"})]})})})}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{htmlFor:"title",className:"flex items-center space-x-2 text-sm",children:[s.jsx(wo,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"RFP Title *"})]}),s.jsx(ye,{id:"title",placeholder:"e.g., SOC 2 Compliance Implementation Project",...w("title"),className:se(j.title&&"border-destructive")}),j.title&&s.jsx("p",{className:"text-sm text-destructive",children:j.title.message})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{htmlFor:"objectives",className:"flex items-center space-x-2 text-sm",children:[s.jsx(is,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Project Objectives"})]}),s.jsx(vn,{id:"objectives",placeholder:"Describe the goals and outcomes you want to achieve...",rows:3,className:se("resize-none text-sm",u&&"border-primary"),...w("objectives")}),s.jsx("p",{className:"text-xs text-gray-500",children:"Auto-populated from your organization profile and assessment results"})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{htmlFor:"requirements",className:"flex items-center space-x-2 text-sm",children:[s.jsx(sZ,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Technical Requirements *"})]}),s.jsx(vn,{id:"requirements",placeholder:"List the specific technical requirements, features, and capabilities needed...",rows:4,className:se("resize-none text-sm",j.requirements&&"border-destructive",u&&"border-primary"),...w("requirements")}),j.requirements&&s.jsx("p",{className:"text-sm text-destructive",children:j.requirements.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{htmlFor:"timeline",className:"flex items-center space-x-2 text-sm",children:[s.jsx(cr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Timeline"})]}),s.jsxs(vt,{value:D,onValueChange:J=>C("timeline",J),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select timeline"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"< 3 months",children:"Less than 3 months"}),s.jsx(ue,{value:"3-6 months",children:"3-6 months"}),s.jsx(ue,{value:"6-12 months",children:"6-12 months"}),s.jsx(ue,{value:"> 12 months",children:"More than 12 months"}),s.jsx(ue,{value:"Flexible",children:"Flexible"})]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{htmlFor:"budget",className:"flex items-center space-x-2 text-sm",children:[s.jsx(Or,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{children:"Budget Range"})]}),s.jsxs(vt,{value:B,onValueChange:J=>C("budget",J),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select budget range"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"< €50K",children:"Less than €50K"}),s.jsx(ue,{value:"€50K - €100K",children:"€50K - €100K"}),s.jsx(ue,{value:"€100K - €500K",children:"€100K - €500K"}),s.jsx(ue,{value:"€500K - €1M",children:"€500K - €1M"}),s.jsx(ue,{value:"> €1M",children:"More than €1M"}),s.jsx(ue,{value:"Not specified",children:"Not specified"})]})]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{className:"flex items-center justify-between text-xs sm:text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Hr,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsxs("span",{className:"sm:hidden",children:["Vendors (",k.length,")"]}),s.jsxs("span",{className:"hidden sm:inline",children:["Select Vendors * (",k.length," selected)"]})]}),h&&i.some(J=>J.matchScore)&&s.jsxs("span",{className:"text-xs text-cyan-400 flex items-center",children:[s.jsx($s,{className:"h-3 w-3 sm:mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Sorted by match"})]})]}),l?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(Ye,{className:"h-6 w-6 animate-spin text-primary"})}):s.jsx("div",{className:"border rounded-md p-2 max-h-32 sm:max-h-64 overflow-y-auto space-y-0.5 sm:space-y-2",children:i.length===0?s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-4",children:"No vendors available"}):i.map(J=>s.jsxs("div",{className:"flex items-center gap-2 p-1.5 sm:p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded",children:[s.jsx(Pr,{checked:k.includes(J.id),onCheckedChange:()=>ne(J.id),className:"h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between gap-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium truncate",children:J.companyName}),J.matchScore!==void 0&&s.jsxs("span",{className:"text-xs text-cyan-400 flex-shrink-0",children:[J.matchScore.toFixed(0),"%"]})]})]},J.id))}),j.vendorIds&&s.jsx("p",{className:"text-sm text-destructive",children:j.vendorIds.message})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsxs(te,{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center space-x-2",children:[s.jsx(qa,{className:"h-3 w-3 sm:h-4 sm:w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Documents (Optional)"})]}),I.length>0&&s.jsxs(le,{variant:"secondary",className:"text-xs",children:[I.length," selected"]})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Select up to 5 documents to attach to vendor emails"}),s.jsx(A8,{organizationId:n,className:"border rounded-md",selectionMode:!0,selectedDocuments:I,onSelectionChange:J=>C("documents",J),maxSelection:5})]}),s.jsxs(pn,{className:"flex flex-col sm:flex-row gap-2 sm:space-x-2 pt-2 sm:pt-4",children:[s.jsx(F,{type:"button",variant:"outline",onClick:Q,disabled:S,className:"w-full sm:w-auto h-9 sm:h-10","data-testid":"button-cancel-rfp",children:"Cancel"}),s.jsx(F,{type:"submit",disabled:S||p.isPending,className:"w-full sm:w-auto h-9 sm:h-10","data-testid":"button-submit-rfp",children:S||p.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),"Creating..."]}):"Create RFP Draft"})]})]})]}),s.jsx(Jt,{open:f,onOpenChange:m,children:s.jsxs(Gt,{className:"max-w-2xl w-[95vw] sm:w-full",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Select Assessment"}),s.jsx(Qt,{children:"Choose an assessment to auto-fill your RFP with compliance gaps and requirements"})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:b.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ft,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No completed assessments available"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Complete an assessment first to enable auto-fill"})]}):b.map(J=>{var Z;return s.jsx("div",{onClick:()=>z(J),className:"p-4 border rounded-lg hover:bg-cyan-900/10 hover:border-cyan-600/50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-white mb-1",children:((Z=J.template)==null?void 0:Z.name)||"Untitled Assessment"}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(_i,{className:"h-3 w-3"}),new Date(J.completedAt||J.createdAt).toLocaleDateString()]}),s.jsx(le,{variant:"outline",className:"text-xs",children:J.status})]}),J.gaps&&s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[J.gaps.length," gaps identified",J.gaps.filter(L=>L.severity==="CRITICAL").length>0&&s.jsxs("span",{className:"text-red-400 ml-2",children:["(",J.gaps.filter(L=>L.severity==="CRITICAL").length," critical)"]})]})]}),s.jsx(ev,{className:"h-5 w-5 text-cyan-400"})]})},J.id)})}),s.jsx(pn,{children:s.jsx(F,{variant:"outline",onClick:()=>m(!1),children:"Cancel"})})]})})]})}function B9(e){return e>=120?"Highly Relevant":e>=100?"Good Match":"Fair Match"}function V9(e){return e>=120?"bg-green-500/20 text-green-400 border-green-500/50":e>=100?"bg-blue-500/20 text-blue-400 border-blue-500/50":"bg-yellow-500/20 text-yellow-400 border-yellow-500/50"}const F4=({score:e,className:t=""})=>{const n=B9(e),r=V9(e),a=()=>e>=120?s.jsx(ev,{className:"h-4 w-4 mr-1"}):e>=100?s.jsx(xn,{className:"h-4 w-4 mr-1"}):s.jsx(Pt,{className:"h-4 w-4 mr-1"}),i=()=>e>=120?"Highly Relevant (≥120 points): Excellent match for your needs":e>=100?"Good Match (≥100 points): Strong alignment with your requirements":"Fair Match (<100 points): Meets some of your requirements";return s.jsxs(le,{className:`${r} border text-lg px-4 py-2 font-semibold ${t}`,title:i(),children:[a(),n]})};var Qme=Array.isArray,us=Qme,Zme=typeof ox=="object"&&ox&&ox.Object===Object&&ox,U9=Zme,Jme=U9,ehe=typeof self=="object"&&self&&self.Object===Object&&self,the=Jme||ehe||Function("return this")(),ii=the,nhe=ii,rhe=nhe.Symbol,um=rhe,B4=um,z9=Object.prototype,she=z9.hasOwnProperty,ahe=z9.toString,Gm=B4?B4.toStringTag:void 0;function ihe(e){var t=she.call(e,Gm),n=e[Gm];try{e[Gm]=void 0;var r=!0}catch{}var a=ahe.call(e);return r&&(t?e[Gm]=n:delete e[Gm]),a}var ohe=ihe,lhe=Object.prototype,che=lhe.toString;function uhe(e){return che.call(e)}var dhe=uhe,V4=um,fhe=ohe,mhe=dhe,hhe="[object Null]",phe="[object Undefined]",U4=V4?V4.toStringTag:void 0;function ghe(e){return e==null?e===void 0?phe:hhe:U4&&U4 in Object(e)?fhe(e):mhe(e)}var Fo=ghe;function xhe(e){return e!=null&&typeof e=="object"}var oi=xhe,yhe=Fo,vhe=oi,bhe="[object Symbol]";function whe(e){return typeof e=="symbol"||vhe(e)&&yhe(e)==bhe}var dm=whe,jhe=us,Nhe=dm,She=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Che=/^\w*$/;function Phe(e,t){if(jhe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Nhe(e)?!0:Che.test(e)||!She.test(e)||t!=null&&e in Object(t)}var ek=Phe;function Ahe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var li=Ahe;const fm=Mt(li);var Ehe=Fo,khe=li,The="[object AsyncFunction]",Ohe="[object Function]",_he="[object GeneratorFunction]",Rhe="[object Proxy]";function Mhe(e){if(!khe(e))return!1;var t=Ehe(e);return t==Ohe||t==_he||t==The||t==Rhe}var tk=Mhe;const Qe=Mt(tk);var Ihe=ii,Dhe=Ihe["__core-js_shared__"],$he=Dhe,PN=$he,z4=function(){var e=/[^.]+$/.exec(PN&&PN.keys&&PN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lhe(e){return!!z4&&z4 in e}var Fhe=Lhe,Bhe=Function.prototype,Vhe=Bhe.toString;function Uhe(e){if(e!=null){try{return Vhe.call(e)}catch{}try{return e+""}catch{}}return""}var W9=Uhe,zhe=tk,Whe=Fhe,qhe=li,Hhe=W9,Khe=/[\\^$.*+?()[\]{}|]/g,Ghe=/^\[object .+?Constructor\]$/,Yhe=Function.prototype,Xhe=Object.prototype,Qhe=Yhe.toString,Zhe=Xhe.hasOwnProperty,Jhe=RegExp("^"+Qhe.call(Zhe).replace(Khe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function epe(e){if(!qhe(e)||Whe(e))return!1;var t=zhe(e)?Jhe:Ghe;return t.test(Hhe(e))}var tpe=epe;function npe(e,t){return e==null?void 0:e[t]}var rpe=npe,spe=tpe,ape=rpe;function ipe(e,t){var n=ape(e,t);return spe(n)?n:void 0}var Iu=ipe,ope=Iu,lpe=ope(Object,"create"),lw=lpe,W4=lw;function cpe(){this.__data__=W4?W4(null):{},this.size=0}var upe=cpe;function dpe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var fpe=dpe,mpe=lw,hpe="__lodash_hash_undefined__",ppe=Object.prototype,gpe=ppe.hasOwnProperty;function xpe(e){var t=this.__data__;if(mpe){var n=t[e];return n===hpe?void 0:n}return gpe.call(t,e)?t[e]:void 0}var ype=xpe,vpe=lw,bpe=Object.prototype,wpe=bpe.hasOwnProperty;function jpe(e){var t=this.__data__;return vpe?t[e]!==void 0:wpe.call(t,e)}var Npe=jpe,Spe=lw,Cpe="__lodash_hash_undefined__";function Ppe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Spe&&t===void 0?Cpe:t,this}var Ape=Ppe,Epe=upe,kpe=fpe,Tpe=ype,Ope=Npe,_pe=Ape;function mm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mm.prototype.clear=Epe;mm.prototype.delete=kpe;mm.prototype.get=Tpe;mm.prototype.has=Ope;mm.prototype.set=_pe;var Rpe=mm;function Mpe(){this.__data__=[],this.size=0}var Ipe=Mpe;function Dpe(e,t){return e===t||e!==e&&t!==t}var cw=Dpe,$pe=cw;function Lpe(e,t){for(var n=e.length;n--;)if($pe(e[n][0],t))return n;return-1}var uw=Lpe,Fpe=uw,Bpe=Array.prototype,Vpe=Bpe.splice;function Upe(e){var t=this.__data__,n=Fpe(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Vpe.call(t,n,1),--this.size,!0}var zpe=Upe,Wpe=uw;function qpe(e){var t=this.__data__,n=Wpe(t,e);return n<0?void 0:t[n][1]}var Hpe=qpe,Kpe=uw;function Gpe(e){return Kpe(this.__data__,e)>-1}var Ype=Gpe,Xpe=uw;function Qpe(e,t){var n=this.__data__,r=Xpe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var Zpe=Qpe,Jpe=Ipe,ege=zpe,tge=Hpe,nge=Ype,rge=Zpe;function hm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hm.prototype.clear=Jpe;hm.prototype.delete=ege;hm.prototype.get=tge;hm.prototype.has=nge;hm.prototype.set=rge;var dw=hm,sge=Iu,age=ii,ige=sge(age,"Map"),nk=ige,q4=Rpe,oge=dw,lge=nk;function cge(){this.size=0,this.__data__={hash:new q4,map:new(lge||oge),string:new q4}}var uge=cge;function dge(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var fge=dge,mge=fge;function hge(e,t){var n=e.__data__;return mge(t)?n[typeof t=="string"?"string":"hash"]:n.map}var fw=hge,pge=fw;function gge(e){var t=pge(this,e).delete(e);return this.size-=t?1:0,t}var xge=gge,yge=fw;function vge(e){return yge(this,e).get(e)}var bge=vge,wge=fw;function jge(e){return wge(this,e).has(e)}var Nge=jge,Sge=fw;function Cge(e,t){var n=Sge(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Pge=Cge,Age=uge,Ege=xge,kge=bge,Tge=Nge,Oge=Pge;function pm(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}pm.prototype.clear=Age;pm.prototype.delete=Ege;pm.prototype.get=kge;pm.prototype.has=Tge;pm.prototype.set=Oge;var rk=pm,q9=rk,_ge="Expected a function";function sk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(_ge);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(sk.Cache||q9),n}sk.Cache=q9;var H9=sk;const Rge=Mt(H9);var Mge=H9,Ige=500;function Dge(e){var t=Mge(e,function(r){return n.size===Ige&&n.clear(),r}),n=t.cache;return t}var $ge=Dge,Lge=$ge,Fge=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bge=/\\(\\)?/g,Vge=Lge(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fge,function(n,r,a,i){t.push(a?i.replace(Bge,"$1"):r||n)}),t}),Uge=Vge;function zge(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var mw=zge,H4=um,Wge=mw,qge=us,Hge=dm,K4=H4?H4.prototype:void 0,G4=K4?K4.toString:void 0;function K9(e){if(typeof e=="string")return e;if(qge(e))return Wge(e,K9)+"";if(Hge(e))return G4?G4.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kge=K9,Gge=Kge;function Yge(e){return e==null?"":Gge(e)}var G9=Yge,Xge=us,Qge=ek,Zge=Uge,Jge=G9;function exe(e,t){return Xge(e)?e:Qge(e,t)?[e]:Zge(Jge(e))}var hw=exe,txe=dm;function nxe(e){if(typeof e=="string"||txe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kg=nxe,rxe=hw,sxe=Kg;function axe(e,t){t=rxe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[sxe(t[n++])];return n&&n==r?e:void 0}var pw=axe,ixe=pw;function oxe(e,t,n){var r=e==null?void 0:ixe(e,t);return r===void 0?n:r}var Y9=oxe;const Bs=Mt(Y9);function lxe(e){return e==null}var cxe=lxe;const st=Mt(cxe);var uxe=Fo,dxe=us,fxe=oi,mxe="[object String]";function hxe(e){return typeof e=="string"||!dxe(e)&&fxe(e)&&uxe(e)==mxe}var pxe=hxe;const Jl=Mt(pxe);var X9={exports:{}},Ht={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=Symbol.for("react.element"),ik=Symbol.for("react.portal"),gw=Symbol.for("react.fragment"),xw=Symbol.for("react.strict_mode"),yw=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),bw=Symbol.for("react.context"),gxe=Symbol.for("react.server_context"),ww=Symbol.for("react.forward_ref"),jw=Symbol.for("react.suspense"),Nw=Symbol.for("react.suspense_list"),Sw=Symbol.for("react.memo"),Cw=Symbol.for("react.lazy"),xxe=Symbol.for("react.offscreen"),Q9;Q9=Symbol.for("react.module.reference");function Sa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ak:switch(e=e.type,e){case gw:case yw:case xw:case jw:case Nw:return e;default:switch(e=e&&e.$$typeof,e){case gxe:case bw:case ww:case Cw:case Sw:case vw:return e;default:return t}}case ik:return t}}}Ht.ContextConsumer=bw;Ht.ContextProvider=vw;Ht.Element=ak;Ht.ForwardRef=ww;Ht.Fragment=gw;Ht.Lazy=Cw;Ht.Memo=Sw;Ht.Portal=ik;Ht.Profiler=yw;Ht.StrictMode=xw;Ht.Suspense=jw;Ht.SuspenseList=Nw;Ht.isAsyncMode=function(){return!1};Ht.isConcurrentMode=function(){return!1};Ht.isContextConsumer=function(e){return Sa(e)===bw};Ht.isContextProvider=function(e){return Sa(e)===vw};Ht.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ak};Ht.isForwardRef=function(e){return Sa(e)===ww};Ht.isFragment=function(e){return Sa(e)===gw};Ht.isLazy=function(e){return Sa(e)===Cw};Ht.isMemo=function(e){return Sa(e)===Sw};Ht.isPortal=function(e){return Sa(e)===ik};Ht.isProfiler=function(e){return Sa(e)===yw};Ht.isStrictMode=function(e){return Sa(e)===xw};Ht.isSuspense=function(e){return Sa(e)===jw};Ht.isSuspenseList=function(e){return Sa(e)===Nw};Ht.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gw||e===yw||e===xw||e===jw||e===Nw||e===xxe||typeof e=="object"&&e!==null&&(e.$$typeof===Cw||e.$$typeof===Sw||e.$$typeof===vw||e.$$typeof===bw||e.$$typeof===ww||e.$$typeof===Q9||e.getModuleId!==void 0)};Ht.typeOf=Sa;X9.exports=Ht;var yxe=X9.exports,vxe=Fo,bxe=oi,wxe="[object Number]";function jxe(e){return typeof e=="number"||bxe(e)&&vxe(e)==wxe}var Z9=jxe;const J9=Mt(Z9);var Nxe=Z9;function Sxe(e){return Nxe(e)&&e!=+e}var Cxe=Sxe;const Gg=Mt(Cxe);var ns=function(t){return t===0?0:t>0?1:-1},Uc=function(t){return Jl(t)&&t.indexOf("%")===t.length-1},Pe=function(t){return J9(t)&&!Gg(t)},Pxe=function(t){return st(t)},lr=function(t){return Pe(t)||Jl(t)},Axe=0,gm=function(t){var n=++Axe;return"".concat(t||"").concat(n)},rs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&!Jl(t))return r;var i;if(Uc(t)){var o=t.indexOf("%");i=n*parseFloat(t.slice(0,o))/100}else i=+t;return Gg(i)&&(i=r),a&&i>n&&(i=n),i},il=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Exe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Nn=function(t,n){return Pe(t)&&Pe(n)?function(r){return t+r*(n-t)}:function(){return n}};function Vv(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Bs(r,t))===n})}var kxe=function(t,n){return Pe(t)&&Pe(n)?t-n:Jl(t)&&Jl(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Md(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function vC(e){"@babel/helpers - typeof";return vC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vC(e)}var Txe=["viewBox","children"],Oxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y4=["points","pathLength"],AN={svg:Txe,polygon:Y4,polyline:Y4},ok=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Uv=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(y.isValidElement(t)&&(r=t.props),!fm(r))return null;var a={};return Object.keys(r).forEach(function(i){ok.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},_xe=function(t,n,r){return function(a){return t(n,r,a),null}},ec=function(t,n,r){if(!fm(t)||vC(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];ok.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=_xe(o,n,r))}),a},Rxe=["children"],Mxe=["children"];function X4(e,t){if(e==null)return{};var n=Ixe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ixe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bC(e){"@babel/helpers - typeof";return bC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bC(e)}var Q4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uo=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Z4=null,EN=null,lk=function e(t){if(t===Z4&&Array.isArray(EN))return EN;var n=[];return y.Children.forEach(t,function(r){st(r)||(yxe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),EN=n,Z4=t,n};function Ss(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return uo(a)}):r=[uo(t)],lk(e).forEach(function(a){var i=Bs(a,"type.displayName")||Bs(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function _s(e,t){var n=Ss(e,t);return n&&n[0]}var J4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Pe(r)||r<=0||!Pe(a)||a<=0)},Dxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$xe=function(t){return t&&t.type&&Jl(t.type)&&Dxe.indexOf(t.type)>=0},Lxe=function(t){return t&&bC(t)==="object"&&"clipDot"in t},Fxe=function(t,n,r,a){var i,o=(i=AN==null?void 0:AN[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Qe(t)&&(a&&o.includes(n)||Oxe.includes(n))||r&&ok.includes(n)},He=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!fm(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Fxe((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=a[o])}),i},wC=function e(t,n){if(t===n)return!0;var r=y.Children.count(t);if(r!==y.Children.count(n))return!1;if(r===0)return!0;if(r===1)return eM(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=t[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!eM(i,o))return!1}return!0},eM=function(t,n){if(st(t)&&st(n))return!0;if(!st(t)&&!st(n)){var r=t.props||{},a=r.children,i=X4(r,Rxe),o=n.props||{},l=o.children,c=X4(o,Mxe);return a&&l?Md(i,c)&&wC(a,l):!a&&!l?Md(i,c):!1}return!1},tM=function(t,n){var r=[],a={};return lk(t).forEach(function(i,o){if($xe(i))r.push(i);else if(i){var l=uo(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);r.push(f),a[l]=!0}}}),r},Bxe=function(t){var n=t&&t.type;return n&&Q4[n]?Q4[n]:null},Vxe=function(t,n){return lk(n).indexOf(t)},Uxe=["children","width","height","viewBox","className","style","title","desc"];function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jC.apply(this,arguments)}function zxe(e,t){if(e==null)return{};var n=Wxe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NC(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=zxe(e,Uxe),d=a||{width:n,height:r,x:0,y:0},f=rt("recharts-surface",i);return M.createElement("svg",jC({},He(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var qxe=["children","className"];function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}function Hxe(e,t){if(e==null)return{};var n=Kxe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ct=M.forwardRef(function(e,t){var n=e.children,r=e.className,a=Hxe(e,qxe),i=rt("recharts-layer",r);return M.createElement("g",SC({className:i},He(a,!0),{ref:t}),n)}),Ha=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]};function Gxe(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}var eW=Gxe,Yxe=eW;function Xxe(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Yxe(e,t,n)}var Qxe=Xxe,Zxe="\\ud800-\\udfff",Jxe="\\u0300-\\u036f",eye="\\ufe20-\\ufe2f",tye="\\u20d0-\\u20ff",nye=Jxe+eye+tye,rye="\\ufe0e\\ufe0f",sye="\\u200d",aye=RegExp("["+sye+Zxe+nye+rye+"]");function iye(e){return aye.test(e)}var tW=iye;function oye(e){return e.split("")}var lye=oye,nW="\\ud800-\\udfff",cye="\\u0300-\\u036f",uye="\\ufe20-\\ufe2f",dye="\\u20d0-\\u20ff",fye=cye+uye+dye,mye="\\ufe0e\\ufe0f",hye="["+nW+"]",CC="["+fye+"]",PC="\\ud83c[\\udffb-\\udfff]",pye="(?:"+CC+"|"+PC+")",rW="[^"+nW+"]",sW="(?:\\ud83c[\\udde6-\\uddff]){2}",aW="[\\ud800-\\udbff][\\udc00-\\udfff]",gye="\\u200d",iW=pye+"?",oW="["+mye+"]?",xye="(?:"+gye+"(?:"+[rW,sW,aW].join("|")+")"+oW+iW+")*",yye=oW+iW+xye,vye="(?:"+[rW+CC+"?",CC,sW,aW,hye].join("|")+")",bye=RegExp(PC+"(?="+PC+")|"+vye+yye,"g");function wye(e){return e.match(bye)||[]}var jye=wye,Nye=lye,Sye=tW,Cye=jye;function Pye(e){return Sye(e)?Cye(e):Nye(e)}var Aye=Pye,Eye=Qxe,kye=tW,Tye=Aye,Oye=G9;function _ye(e){return function(t){t=Oye(t);var n=kye(t)?Tye(t):void 0,r=n?n[0]:t.charAt(0),a=n?Eye(n,1).join(""):t.slice(1);return r[e]()+a}}var Rye=_ye,Mye=Rye,Iye=Mye("toUpperCase"),Dye=Iye;const Pw=Mt(Dye);function an(e){return function(){return e}}const lW=Math.cos,zv=Math.sin,ci=Math.sqrt,Wv=Math.PI,Aw=2*Wv,AC=Math.PI,EC=2*AC,kc=1e-6,$ye=EC-kc;function cW(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Lye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cW;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class Fye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cW:Lye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>kc)if(!(Math.abs(f*c-u*d)>kc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,g=a-l,p=c*c+u*u,x=h*h+g*g,v=Math.sqrt(p),b=Math.sqrt(m),w=i*Math.tan((AC-Math.acos((p+m-x)/(2*v*b)))/2),N=w/b,j=w/v;Math.abs(N-1)>kc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,f=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>kc||Math.abs(this._y1-d)>kc)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%EC+EC),m>$ye?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:m>kc&&this._append`A${r},${r},0,${+(m>=AC)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ck(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Fye(t)}function uk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uW(e){this._context=e}uW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ew(e){return new uW(e)}function dW(e){return e[0]}function fW(e){return e[1]}function mW(e,t){var n=an(!0),r=null,a=Ew,i=null,o=ck(l);e=typeof e=="function"?e:e===void 0?dW:an(e),t=typeof t=="function"?t:t===void 0?fW:an(t);function l(c){var u,d=(c=uk(c)).length,f,m=!1,h;for(r==null&&(i=a(h=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(f,u,c),+t(f,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:an(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:an(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:an(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(i=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=i=null:i=a(r=c),l):r},l}function Bx(e,t,n){var r=null,a=an(!0),i=null,o=Ew,l=null,c=ck(u);e=typeof e=="function"?e:e===void 0?dW:an(+e),t=typeof t=="function"?t:an(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?fW:an(+n);function u(f){var m,h,g,p=(f=uk(f)).length,x,v=!1,b,w=new Array(p),N=new Array(p);for(i==null&&(l=o(b=c())),m=0;m<=p;++m){if(!(m<p&&a(x=f[m],m,f))===v)if(v=!v)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(w[g],N[g]);l.lineEnd(),l.areaEnd()}v&&(w[m]=+e(x,m,f),N[m]=+t(x,m,f),l.point(r?+r(x,m,f):w[m],n?+n(x,m,f):N[m]))}if(b)return l=null,b+""||null}function d(){return mW().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:an(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:an(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:an(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:an(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:an(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:an(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:an(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class hW{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Bye(e){return new hW(e,!0)}function Vye(e){return new hW(e,!1)}const dk={draw(e,t){const n=ci(t/Wv);e.moveTo(n,0),e.arc(0,0,n,0,Aw)}},Uye={draw(e,t){const n=ci(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},pW=ci(1/3),zye=pW*2,Wye={draw(e,t){const n=ci(t/zye),r=n*pW;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},qye={draw(e,t){const n=ci(t),r=-n/2;e.rect(r,r,n,n)}},Hye=.8908130915292852,gW=zv(Wv/10)/zv(7*Wv/10),Kye=zv(Aw/10)*gW,Gye=-lW(Aw/10)*gW,Yye={draw(e,t){const n=ci(t*Hye),r=Kye*n,a=Gye*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=Aw*i/5,l=lW(o),c=zv(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},kN=ci(3),Xye={draw(e,t){const n=-ci(t/(kN*3));e.moveTo(0,n*2),e.lineTo(-kN*n,-n),e.lineTo(kN*n,-n),e.closePath()}},Js=-.5,ea=ci(3)/2,kC=1/ci(12),Qye=(kC/2+1)*3,Zye={draw(e,t){const n=ci(t/Qye),r=n/2,a=n*kC,i=r,o=n*kC+n,l=-i,c=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Js*r-ea*a,ea*r+Js*a),e.lineTo(Js*i-ea*o,ea*i+Js*o),e.lineTo(Js*l-ea*c,ea*l+Js*c),e.lineTo(Js*r+ea*a,Js*a-ea*r),e.lineTo(Js*i+ea*o,Js*o-ea*i),e.lineTo(Js*l+ea*c,Js*c-ea*l),e.closePath()}};function Jye(e,t){let n=null,r=ck(a);e=typeof e=="function"?e:an(e||dk),t=typeof t=="function"?t:an(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:an(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:an(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function qv(){}function Hv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function xW(e){this._context=e}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eve(e){return new xW(e)}function yW(e){this._context=e}yW.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tve(e){return new yW(e)}function vW(e){this._context=e}vW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nve(e){return new vW(e)}function bW(e){this._context=e}bW.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rve(e){return new bW(e)}function nM(e){return e<0?-1:1}function rM(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(nM(i)+nM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function sM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function TN(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Kv(e){this._context=e}Kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TN(this,this._t0,sM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TN(this,sM(this,n=rM(this,e,t)),n);break;default:TN(this,this._t0,n=rM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wW(e){this._context=new jW(e)}(wW.prototype=Object.create(Kv.prototype)).point=function(e,t){Kv.prototype.point.call(this,t,e)};function jW(e){this._context=e}jW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function sve(e){return new Kv(e)}function ave(e){return new wW(e)}function NW(e){this._context=e}NW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aM(e),a=aM(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aM(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function ive(e){return new NW(e)}function kw(e,t){this._context=e,this._t=t}kw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ove(e){return new kw(e,.5)}function lve(e){return new kw(e,0)}function cve(e){return new kw(e,1)}function vf(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function TC(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function uve(e,t){return e[t]}function dve(e){const t=[];return t.key=e,t}function fve(){var e=an([]),t=TC,n=vf,r=uve;function a(i){var o=Array.from(e.apply(this,arguments),dve),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=uk(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:an(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:an(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?TC:typeof i=="function"?i:an(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??vf,a):n},a}function mve(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}vf(e,t)}}function hve(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}vf(e,t)}}function pve(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,m=d[r-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var p=e[t[g]],x=p[r][1]||0,v=p[r-1][1]||0;h+=x-v}c+=f,u+=h*f}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,vf(e,t)}}function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}var gve=["type","size","sizeType"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function iM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(n),!0).forEach(function(r){xve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xve(e,t,n){return t=yve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yve(e){var t=vve(e,"string");return Op(t)=="symbol"?t:t+""}function vve(e,t){if(Op(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bve(e,t){if(e==null)return{};var n=wve(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var SW={symbolCircle:dk,symbolCross:Uye,symbolDiamond:Wye,symbolSquare:qye,symbolStar:Yye,symbolTriangle:Xye,symbolWye:Zye},jve=Math.PI/180,Nve=function(t){var n="symbol".concat(Pw(t));return SW[n]||dk},Sve=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*jve;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Cve=function(t,n){SW["symbol".concat(Pw(t))]=n},fk=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=bve(t,gve),u=oM(oM({},c),{},{type:r,size:i,sizeType:l}),d=function(){var x=Nve(r),v=Jye().type(x).size(Sve(i,l,r));return v()},f=u.className,m=u.cx,h=u.cy,g=He(u,!0);return m===+m&&h===+h&&i===+i?M.createElement("path",OC({},g,{className:rt("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};fk.registerSymbol=Cve;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_C.apply(this,arguments)}function lM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lM(Object(n),!0).forEach(function(r){_p(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Eve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PW(r.key),r)}}function kve(e,t,n){return t&&Eve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tve(e,t,n){return t=Gv(t),Ove(e,CW()?Reflect.construct(t,n||[],Gv(e).constructor):t.apply(e,n))}function Ove(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ve(e)}function _ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CW=function(){return!!e})()}function Gv(e){return Gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gv(e)}function Rve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RC(e,t)}function _p(e,t,n){return t=PW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PW(e){var t=Mve(e,"string");return bf(t)=="symbol"?t:t+""}function Mve(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ta=32,mk=function(e){function t(){return Ave(this,t),Tve(this,t,arguments)}return Rve(t,e),kve(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=ta/2,o=ta/6,l=ta/3,c=r.inactive?a:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:ta,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ta,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ta/8,"h").concat(ta,"v").concat(ta*3/4,"h").concat(-ta,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=Pve({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(fk,{fill:c,cx:i,cy:i,size:ta,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:ta,height:ta},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,g){var p=h.formatter||c,x=rt(_p(_p({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var v=Qe(h.value)?null:h.value;Ha(!Qe(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=h.inactive?u:h.color;return M.createElement("li",_C({className:x,style:f,key:"legend-item-".concat(g)},ec(r.props,h,g)),M.createElement(NC,{width:o,height:o,viewBox:d,style:m},r.renderIcon(h)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(v,h,g):v))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);_p(mk,"displayName","Legend");_p(mk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ive=dw;function Dve(){this.__data__=new Ive,this.size=0}var $ve=Dve;function Lve(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Fve=Lve;function Bve(e){return this.__data__.get(e)}var Vve=Bve;function Uve(e){return this.__data__.has(e)}var zve=Uve,Wve=dw,qve=nk,Hve=rk,Kve=200;function Gve(e,t){var n=this.__data__;if(n instanceof Wve){var r=n.__data__;if(!qve||r.length<Kve-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Hve(r)}return n.set(e,t),this.size=n.size,this}var Yve=Gve,Xve=dw,Qve=$ve,Zve=Fve,Jve=Vve,e0e=zve,t0e=Yve;function xm(e){var t=this.__data__=new Xve(e);this.size=t.size}xm.prototype.clear=Qve;xm.prototype.delete=Zve;xm.prototype.get=Jve;xm.prototype.has=e0e;xm.prototype.set=t0e;var hk=xm,n0e="__lodash_hash_undefined__";function r0e(e){return this.__data__.set(e,n0e),this}var s0e=r0e;function a0e(e){return this.__data__.has(e)}var i0e=a0e,o0e=rk,l0e=s0e,c0e=i0e;function Yv(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new o0e;++t<n;)this.add(e[t])}Yv.prototype.add=Yv.prototype.push=l0e;Yv.prototype.has=c0e;var AW=Yv;function u0e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var EW=u0e;function d0e(e,t){return e.has(t)}var kW=d0e,f0e=AW,m0e=EW,h0e=kW,p0e=1,g0e=2;function x0e(e,t,n,r,a,i){var o=n&p0e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,h=n&g0e?new f0e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(r)var x=o?r(p,g,f,t,e,i):r(g,p,f,e,t,i);if(x!==void 0){if(x)continue;m=!1;break}if(h){if(!m0e(t,function(v,b){if(!h0e(h,b)&&(g===v||a(g,v,n,r,i)))return h.push(b)})){m=!1;break}}else if(!(g===p||a(g,p,n,r,i))){m=!1;break}}return i.delete(e),i.delete(t),m}var TW=x0e,y0e=ii,v0e=y0e.Uint8Array,OW=v0e;function b0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var w0e=b0e;function j0e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pk=j0e,cM=um,uM=OW,N0e=cw,S0e=TW,C0e=w0e,P0e=pk,A0e=1,E0e=2,k0e="[object Boolean]",T0e="[object Date]",O0e="[object Error]",_0e="[object Map]",R0e="[object Number]",M0e="[object RegExp]",I0e="[object Set]",D0e="[object String]",$0e="[object Symbol]",L0e="[object ArrayBuffer]",F0e="[object DataView]",dM=cM?cM.prototype:void 0,ON=dM?dM.valueOf:void 0;function B0e(e,t,n,r,a,i,o){switch(n){case F0e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case L0e:return!(e.byteLength!=t.byteLength||!i(new uM(e),new uM(t)));case k0e:case T0e:case R0e:return N0e(+e,+t);case O0e:return e.name==t.name&&e.message==t.message;case M0e:case D0e:return e==t+"";case _0e:var l=C0e;case I0e:var c=r&A0e;if(l||(l=P0e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=E0e,o.set(e,t);var d=S0e(l(e),l(t),r,a,i,o);return o.delete(e),d;case $0e:if(ON)return ON.call(e)==ON.call(t)}return!1}var V0e=B0e;function U0e(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var gk=U0e,z0e=gk,W0e=us;function q0e(e,t,n){var r=t(e);return W0e(e)?r:z0e(r,n(e))}var _W=q0e;function H0e(e,t){for(var n=-1,r=e==null?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}var K0e=H0e;function G0e(){return[]}var RW=G0e,Y0e=K0e,X0e=RW,Q0e=Object.prototype,Z0e=Q0e.propertyIsEnumerable,fM=Object.getOwnPropertySymbols,J0e=fM?function(e){return e==null?[]:(e=Object(e),Y0e(fM(e),function(t){return Z0e.call(e,t)}))}:X0e,xk=J0e;function ebe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var tbe=ebe,nbe=Fo,rbe=oi,sbe="[object Arguments]";function abe(e){return rbe(e)&&nbe(e)==sbe}var ibe=abe,mM=ibe,obe=oi,MW=Object.prototype,lbe=MW.hasOwnProperty,cbe=MW.propertyIsEnumerable,ube=mM(function(){return arguments}())?mM:function(e){return obe(e)&&lbe.call(e,"callee")&&!cbe.call(e,"callee")},yk=ube,Xv={exports:{}};function dbe(){return!1}var fbe=dbe;Xv.exports;(function(e,t){var n=ii,r=fbe,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Xv,Xv.exports);var vk=Xv.exports,mbe=9007199254740991,hbe=/^(?:0|[1-9]\d*)$/;function pbe(e,t){var n=typeof e;return t=t??mbe,!!t&&(n=="number"||n!="symbol"&&hbe.test(e))&&e>-1&&e%1==0&&e<t}var bk=pbe,gbe=9007199254740991;function xbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gbe}var wk=xbe,ybe=Fo,vbe=wk,bbe=oi,wbe="[object Arguments]",jbe="[object Array]",Nbe="[object Boolean]",Sbe="[object Date]",Cbe="[object Error]",Pbe="[object Function]",Abe="[object Map]",Ebe="[object Number]",kbe="[object Object]",Tbe="[object RegExp]",Obe="[object Set]",_be="[object String]",Rbe="[object WeakMap]",Mbe="[object ArrayBuffer]",Ibe="[object DataView]",Dbe="[object Float32Array]",$be="[object Float64Array]",Lbe="[object Int8Array]",Fbe="[object Int16Array]",Bbe="[object Int32Array]",Vbe="[object Uint8Array]",Ube="[object Uint8ClampedArray]",zbe="[object Uint16Array]",Wbe="[object Uint32Array]",dn={};dn[Dbe]=dn[$be]=dn[Lbe]=dn[Fbe]=dn[Bbe]=dn[Vbe]=dn[Ube]=dn[zbe]=dn[Wbe]=!0;dn[wbe]=dn[jbe]=dn[Mbe]=dn[Nbe]=dn[Ibe]=dn[Sbe]=dn[Cbe]=dn[Pbe]=dn[Abe]=dn[Ebe]=dn[kbe]=dn[Tbe]=dn[Obe]=dn[_be]=dn[Rbe]=!1;function qbe(e){return bbe(e)&&vbe(e.length)&&!!dn[ybe(e)]}var Hbe=qbe;function Kbe(e){return function(t){return e(t)}}var Tw=Kbe,Qv={exports:{}};Qv.exports;(function(e,t){var n=U9,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Qv,Qv.exports);var jk=Qv.exports,Gbe=Hbe,Ybe=Tw,hM=jk,pM=hM&&hM.isTypedArray,Xbe=pM?Ybe(pM):Gbe,IW=Xbe,Qbe=tbe,Zbe=yk,Jbe=us,ewe=vk,twe=bk,nwe=IW,rwe=Object.prototype,swe=rwe.hasOwnProperty;function awe(e,t){var n=Jbe(e),r=!n&&Zbe(e),a=!n&&!r&&ewe(e),i=!n&&!r&&!a&&nwe(e),o=n||r||a||i,l=o?Qbe(e.length,String):[],c=l.length;for(var u in e)(t||swe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||twe(u,c)))&&l.push(u);return l}var DW=awe,iwe=Object.prototype;function owe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||iwe;return e===n}var Nk=owe;function lwe(e,t){return function(n){return e(t(n))}}var $W=lwe,cwe=$W,uwe=cwe(Object.keys,Object),dwe=uwe,fwe=Nk,mwe=dwe,hwe=Object.prototype,pwe=hwe.hasOwnProperty;function gwe(e){if(!fwe(e))return mwe(e);var t=[];for(var n in Object(e))pwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var xwe=gwe,ywe=tk,vwe=wk;function bwe(e){return e!=null&&vwe(e.length)&&!ywe(e)}var ym=bwe,wwe=DW,jwe=xwe,Nwe=ym;function Swe(e){return Nwe(e)?wwe(e):jwe(e)}var vm=Swe,Cwe=_W,Pwe=xk,Awe=vm;function Ewe(e){return Cwe(e,Awe,Pwe)}var LW=Ewe,gM=LW,kwe=1,Twe=Object.prototype,Owe=Twe.hasOwnProperty;function _we(e,t,n,r,a,i){var o=n&kwe,l=gM(e),c=l.length,u=gM(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:Owe.call(t,m)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){m=l[f];var v=e[m],b=t[m];if(r)var w=o?r(b,v,m,t,e,i):r(v,b,m,e,t,i);if(!(w===void 0?v===b||a(v,b,n,r,i):w)){p=!1;break}x||(x=m=="constructor")}if(p&&!x){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var Rwe=_we,Mwe=Iu,Iwe=ii,Dwe=Mwe(Iwe,"DataView"),$we=Dwe,Lwe=Iu,Fwe=ii,Bwe=Lwe(Fwe,"Promise"),Vwe=Bwe,Uwe=Iu,zwe=ii,Wwe=Uwe(zwe,"Set"),FW=Wwe,qwe=Iu,Hwe=ii,Kwe=qwe(Hwe,"WeakMap"),Gwe=Kwe,MC=$we,IC=nk,DC=Vwe,$C=FW,LC=Gwe,BW=Fo,bm=W9,xM="[object Map]",Ywe="[object Object]",yM="[object Promise]",vM="[object Set]",bM="[object WeakMap]",wM="[object DataView]",Xwe=bm(MC),Qwe=bm(IC),Zwe=bm(DC),Jwe=bm($C),eje=bm(LC),Tc=BW;(MC&&Tc(new MC(new ArrayBuffer(1)))!=wM||IC&&Tc(new IC)!=xM||DC&&Tc(DC.resolve())!=yM||$C&&Tc(new $C)!=vM||LC&&Tc(new LC)!=bM)&&(Tc=function(e){var t=BW(e),n=t==Ywe?e.constructor:void 0,r=n?bm(n):"";if(r)switch(r){case Xwe:return wM;case Qwe:return xM;case Zwe:return yM;case Jwe:return vM;case eje:return bM}return t});var Ow=Tc,_N=hk,tje=TW,nje=V0e,rje=Rwe,jM=Ow,NM=us,SM=vk,sje=IW,aje=1,CM="[object Arguments]",PM="[object Array]",Vx="[object Object]",ije=Object.prototype,AM=ije.hasOwnProperty;function oje(e,t,n,r,a,i){var o=NM(e),l=NM(t),c=o?PM:jM(e),u=l?PM:jM(t);c=c==CM?Vx:c,u=u==CM?Vx:u;var d=c==Vx,f=u==Vx,m=c==u;if(m&&SM(e)){if(!SM(t))return!1;o=!0,d=!1}if(m&&!d)return i||(i=new _N),o||sje(e)?tje(e,t,n,r,a,i):nje(e,t,c,n,r,a,i);if(!(n&aje)){var h=d&&AM.call(e,"__wrapped__"),g=f&&AM.call(t,"__wrapped__");if(h||g){var p=h?e.value():e,x=g?t.value():t;return i||(i=new _N),a(p,x,n,r,i)}}return m?(i||(i=new _N),rje(e,t,n,r,a,i)):!1}var lje=oje,cje=lje,EM=oi;function VW(e,t,n,r,a){return e===t?!0:e==null||t==null||!EM(e)&&!EM(t)?e!==e&&t!==t:cje(e,t,n,r,VW,a)}var Sk=VW,uje=hk,dje=Sk,fje=1,mje=2;function hje(e,t,n,r){var a=n.length,i=a,o=!r;if(e==null)return!i;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new uje;if(r)var m=r(u,d,c,e,t,f);if(!(m===void 0?dje(d,u,fje|mje,r,f):m))return!1}}return!0}var pje=hje,gje=li;function xje(e){return e===e&&!gje(e)}var UW=xje,yje=UW,vje=vm;function bje(e){for(var t=vje(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,yje(a)]}return t}var wje=bje;function jje(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var zW=jje,Nje=pje,Sje=wje,Cje=zW;function Pje(e){var t=Sje(e);return t.length==1&&t[0][2]?Cje(t[0][0],t[0][1]):function(n){return n===e||Nje(n,e,t)}}var Aje=Pje;function Eje(e,t){return e!=null&&t in Object(e)}var kje=Eje,Tje=hw,Oje=yk,_je=us,Rje=bk,Mje=wk,Ije=Kg;function Dje(e,t,n){t=Tje(t,e);for(var r=-1,a=t.length,i=!1;++r<a;){var o=Ije(t[r]);if(!(i=e!=null&&n(e,o)))break;e=e[o]}return i||++r!=a?i:(a=e==null?0:e.length,!!a&&Mje(a)&&Rje(o,a)&&(_je(e)||Oje(e)))}var $je=Dje,Lje=kje,Fje=$je;function Bje(e,t){return e!=null&&Fje(e,t,Lje)}var Vje=Bje,Uje=Sk,zje=Y9,Wje=Vje,qje=ek,Hje=UW,Kje=zW,Gje=Kg,Yje=1,Xje=2;function Qje(e,t){return qje(e)&&Hje(t)?Kje(Gje(e),t):function(n){var r=zje(n,e);return r===void 0&&r===t?Wje(n,e):Uje(t,r,Yje|Xje)}}var Zje=Qje;function Jje(e){return e}var wm=Jje;function eNe(e){return function(t){return t==null?void 0:t[e]}}var tNe=eNe,nNe=pw;function rNe(e){return function(t){return nNe(t,e)}}var sNe=rNe,aNe=tNe,iNe=sNe,oNe=ek,lNe=Kg;function cNe(e){return oNe(e)?aNe(lNe(e)):iNe(e)}var uNe=cNe,dNe=Aje,fNe=Zje,mNe=wm,hNe=us,pNe=uNe;function gNe(e){return typeof e=="function"?e:e==null?mNe:typeof e=="object"?hNe(e)?fNe(e[0],e[1]):dNe(e):pNe(e)}var Vi=gNe;function xNe(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var WW=xNe;function yNe(e){return e!==e}var vNe=yNe;function bNe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var wNe=bNe,jNe=WW,NNe=vNe,SNe=wNe;function CNe(e,t,n){return t===t?SNe(e,t,n):jNe(e,NNe,n)}var PNe=CNe,ANe=PNe;function ENe(e,t){var n=e==null?0:e.length;return!!n&&ANe(e,t,0)>-1}var kNe=ENe;function TNe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var ONe=TNe;function _Ne(){}var RNe=_Ne,RN=FW,MNe=RNe,INe=pk,DNe=1/0,$Ne=RN&&1/INe(new RN([,-0]))[1]==DNe?function(e){return new RN(e)}:MNe,LNe=$Ne,FNe=AW,BNe=kNe,VNe=ONe,UNe=kW,zNe=LNe,WNe=pk,qNe=200;function HNe(e,t,n){var r=-1,a=BNe,i=e.length,o=!0,l=[],c=l;if(n)o=!1,a=VNe;else if(i>=qNe){var u=t?null:zNe(e);if(u)return WNe(u);o=!1,a=UNe,c=new FNe}else c=t?[]:l;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var KNe=HNe,GNe=Vi,YNe=KNe;function XNe(e,t){return e&&e.length?YNe(e,GNe(t)):[]}var QNe=XNe;const kM=Mt(QNe);function qW(e,t,n){return t===!0?kM(e,n):Qe(t)?kM(e,t):e}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}var ZNe=["ref"];function TM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(n),!0).forEach(function(r){_w(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KW(r.key),r)}}function e1e(e,t,n){return t&&OM(e.prototype,t),n&&OM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t1e(e,t,n){return t=Zv(t),n1e(e,HW()?Reflect.construct(t,n||[],Zv(e).constructor):t.apply(e,n))}function n1e(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HW=function(){return!!e})()}function Zv(e){return Zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zv(e)}function s1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FC(e,t)}function FC(e,t){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},FC(e,t)}function _w(e,t,n){return t=KW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KW(e){var t=a1e(e,"string");return wf(t)=="symbol"?t:t+""}function a1e(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function i1e(e,t){if(e==null)return{};var n=o1e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o1e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l1e(e){return e.value}function c1e(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var n=i1e(t,ZNe);return M.createElement(mk,n)}var _M=1,iu=function(e){function t(){var n;JNe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=t1e(this,t,[].concat(a)),_w(n,"lastBoundingBox",{width:-1,height:-1}),n}return s1e(t,e),e1e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>_M||Math.abs(a.height-this.lastBoundingBox.height)>_M)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((d||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Hi(Hi({},f),m)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Hi(Hi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},c1e(i,Hi(Hi({},this.props),{},{payload:qW(d,u,l1e)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Hi(Hi({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Pe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(y.PureComponent);_w(iu,"displayName","Legend");_w(iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RM=um,u1e=yk,d1e=us,MM=RM?RM.isConcatSpreadable:void 0;function f1e(e){return d1e(e)||u1e(e)||!!(MM&&e&&e[MM])}var m1e=f1e,h1e=gk,p1e=m1e;function GW(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=p1e),a||(a=[]);++i<o;){var l=e[i];t>0&&n(l)?t>1?GW(l,t-1,n,r,a):h1e(a,l):r||(a[a.length]=l)}return a}var Ck=GW;function g1e(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(i[c],c,i)===!1)break}return t}}var x1e=g1e,y1e=x1e,v1e=y1e(),b1e=v1e,w1e=b1e,j1e=vm;function N1e(e,t){return e&&w1e(e,t,j1e)}var YW=N1e,S1e=ym;function C1e(e,t){return function(n,r){if(n==null)return n;if(!S1e(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=Object(n);(t?i--:++i<a)&&r(o[i],i,o)!==!1;);return n}}var P1e=C1e,A1e=YW,E1e=P1e,k1e=E1e(A1e),Pk=k1e,T1e=Pk,O1e=ym;function _1e(e,t){var n=-1,r=O1e(e)?Array(e.length):[];return T1e(e,function(a,i,o){r[++n]=t(a,i,o)}),r}var XW=_1e;function R1e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var M1e=R1e,IM=dm;function I1e(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,i=IM(e),o=t!==void 0,l=t===null,c=t===t,u=IM(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!i&&!u&&e<t||u&&n&&a&&!r&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}var D1e=I1e,$1e=D1e;function L1e(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,l=n.length;++r<o;){var c=$1e(a[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var F1e=L1e,MN=mw,B1e=pw,V1e=Vi,U1e=XW,z1e=M1e,W1e=Tw,q1e=F1e,H1e=wm,K1e=us;function G1e(e,t,n){t.length?t=MN(t,function(i){return K1e(i)?function(o){return B1e(o,i.length===1?i[0]:i)}:i}):t=[H1e];var r=-1;t=MN(t,W1e(V1e));var a=U1e(e,function(i,o,l){var c=MN(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return z1e(a,function(i,o){return q1e(i,o,n)})}var Y1e=G1e;function X1e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Q1e=X1e,Z1e=Q1e,DM=Math.max;function J1e(e,t,n){return t=DM(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,i=DM(r.length-t,0),o=Array(i);++a<i;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),Z1e(e,this,l)}}var QW=J1e;function eSe(e){return function(){return e}}var tSe=eSe,nSe=Iu,rSe=function(){try{var e=nSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ZW=rSe,sSe=tSe,$M=ZW,aSe=wm,iSe=$M?function(e,t){return $M(e,"toString",{configurable:!0,enumerable:!1,value:sSe(t),writable:!0})}:aSe,oSe=iSe,lSe=800,cSe=16,uSe=Date.now;function dSe(e){var t=0,n=0;return function(){var r=uSe(),a=cSe-(r-n);if(n=r,a>0){if(++t>=lSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fSe=dSe,mSe=oSe,hSe=fSe,pSe=hSe(mSe),JW=pSe,gSe=wm,xSe=QW,ySe=JW;function vSe(e,t){return ySe(xSe(e,t,gSe),e+"")}var bSe=vSe,wSe=cw,jSe=ym,NSe=bk,SSe=li;function CSe(e,t,n){if(!SSe(n))return!1;var r=typeof t;return(r=="number"?jSe(n)&&NSe(t,n.length):r=="string"&&t in n)?wSe(n[t],e):!1}var Rw=CSe,PSe=Ck,ASe=Y1e,ESe=bSe,LM=Rw,kSe=ESe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&LM(e,t[0],t[1])?t=[]:n>2&&LM(t[0],t[1],t[2])&&(t=[t[0]]),ASe(e,PSe(t,1),[])}),TSe=kSe;const Ak=Mt(TSe);function Rp(e){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rp(e)}function BC(){return BC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BC.apply(this,arguments)}function OSe(e,t){return ISe(e)||MSe(e,t)||RSe(e,t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RSe(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ISe(e){if(Array.isArray(e))return e}function BM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BM(Object(n),!0).forEach(function(r){DSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DSe(e,t,n){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Se(e){var t=LSe(e,"string");return Rp(t)=="symbol"?t:t+""}function LSe(e,t){if(Rp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FSe(e){return Array.isArray(e)&&lr(e[0])&&lr(e[1])?e.join(" ~ "):e}var BSe=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,w=function(){if(d&&d.length){var k={padding:0,margin:0},R=(m?Ak(d,m):d).map(function(I,D){if(I.type==="none")return null;var B=IN({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),V=I.formatter||f||FSe,O=I.value,_=I.name,z=O,ne=_;if(V&&z!=null&&ne!=null){var Y=V(O,_,I,D,d);if(Array.isArray(Y)){var Q=OSe(Y,2);z=Q[0],ne=Q[1]}else z=Y}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:B},lr(ne)?M.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,lr(ne)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},z),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:k},R)}return null},N=IN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=IN({margin:0},u),S=!st(p),C=S?p:"",P=rt("recharts-default-tooltip",h),A=rt("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(C=x(p,d));var T=b?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",BC({className:P,style:N},T),M.createElement("p",{className:A,style:j},M.isValidElement(C)?C:"".concat(C)),w())};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function Ux(e,t,n){return t=VSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VSe(e){var t=USe(e,"string");return Mp(t)=="symbol"?t:t+""}function USe(e,t){if(Mp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ym="recharts-tooltip-wrapper",zSe={visibility:"hidden"};function WSe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return rt(Ym,Ux(Ux(Ux(Ux({},"".concat(Ym,"-right"),Pe(n)&&t&&Pe(t.x)&&n>=t.x),"".concat(Ym,"-left"),Pe(n)&&t&&Pe(t.x)&&n<t.x),"".concat(Ym,"-bottom"),Pe(r)&&t&&Pe(t.y)&&r>=t.y),"".concat(Ym,"-top"),Pe(r)&&t&&Pe(t.y)&&r<t.y))}function VM(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Pe(i[r]))return i[r];var d=n[r]-l-a,f=n[r]+a;if(t[r])return o[r]?d:f;if(o[r]){var m=d,h=c[r];return m<h?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+l,p=c[r]+u;return g>p?Math.max(d,c[r]):Math.max(f,c[r])}function qSe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function HSe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=VM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=VM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=qSe({translateX:d,translateY:f,useTranslate3d:l})):u=zSe,{cssProperties:u,cssClasses:WSe({translateX:d,translateY:f,coordinate:n})}}function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){UC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GSe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t7(r.key),r)}}function YSe(e,t,n){return t&&GSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XSe(e,t,n){return t=Jv(t),QSe(e,e7()?Reflect.construct(t,n||[],Jv(e).constructor):t.apply(e,n))}function QSe(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(e)}function ZSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jv(e)}function JSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},VC(e,t)}function UC(e,t,n){return t=t7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=eCe(e,"string");return jf(t)=="symbol"?t:t+""}function eCe(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WM=1,tCe=function(e){function t(){var n;KSe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=XSe(this,t,[].concat(a)),UC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),UC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return JSe(t,e),YSe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>WM||Math.abs(r.height-this.state.lastBoundingBox.height)>WM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,m=a.isAnimationActive,h=a.offset,g=a.position,p=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,w=HSe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),N=w.cssClasses,j=w.cssProperties,S=zM(zM({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return M.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(P){r.wrapperNode=P}},u)}}])}(y.PureComponent),nCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mc={isSsr:nCe()};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){Ek(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r7(r.key),r)}}function aCe(e,t,n){return t&&sCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iCe(e,t,n){return t=e0(t),oCe(e,n7()?Reflect.construct(t,n||[],e0(e).constructor):t.apply(e,n))}function oCe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lCe(e)}function lCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!e})()}function e0(e){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(e)}function cCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zC(e,t)}function zC(e,t){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zC(e,t)}function Ek(e,t,n){return t=r7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=uCe(e,"string");return Nf(t)=="symbol"?t:t+""}function uCe(e,t){if(Nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dCe(e){return e.dataKey}function fCe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(BSe,t)}var Fr=function(e){function t(){return rCe(this,t),iCe(this,t,arguments)}return cCe(t,e),aCe(t,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,m=a.isAnimationActive,h=a.offset,g=a.payload,p=a.payloadUniqBy,x=a.position,v=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,N=a.wrapperStyle,j=g??[];f&&j.length&&(j=qW(g.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),p,dCe));var S=j.length>0;return M.createElement(tCe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:d,hasPayload:S,offset:h,position:x,reverseDirection:v,useTranslate3d:b,viewBox:w,wrapperStyle:N},fCe(u,HM(HM({},this.props),{},{payload:j})))}}])}(y.PureComponent);Ek(Fr,"displayName","Tooltip");Ek(Fr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var mCe=ii,hCe=function(){return mCe.Date.now()},pCe=hCe,gCe=/\s/;function xCe(e){for(var t=e.length;t--&&gCe.test(e.charAt(t)););return t}var yCe=xCe,vCe=yCe,bCe=/^\s+/;function wCe(e){return e&&e.slice(0,vCe(e)+1).replace(bCe,"")}var jCe=wCe,NCe=jCe,KM=li,SCe=dm,GM=NaN,CCe=/^[-+]0x[0-9a-f]+$/i,PCe=/^0b[01]+$/i,ACe=/^0o[0-7]+$/i,ECe=parseInt;function kCe(e){if(typeof e=="number")return e;if(SCe(e))return GM;if(KM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=NCe(e);var n=PCe.test(e);return n||ACe.test(e)?ECe(e.slice(2),n?2:8):CCe.test(e)?GM:+e}var s7=kCe,TCe=li,DN=pCe,YM=s7,OCe="Expected a function",_Ce=Math.max,RCe=Math.min;function MCe(e,t,n){var r,a,i,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(OCe);t=YM(t)||0,TCe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?_Ce(YM(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m);function h(S){var C=r,P=a;return r=a=void 0,u=S,o=e.apply(P,C),o}function g(S){return u=S,l=setTimeout(v,t),d?h(S):o}function p(S){var C=S-c,P=S-u,A=t-C;return f?RCe(A,i-P):A}function x(S){var C=S-c,P=S-u;return c===void 0||C>=t||C<0||f&&P>=i}function v(){var S=DN();if(x(S))return b(S);l=setTimeout(v,p(S))}function b(S){return l=void 0,m&&r?h(S):(r=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function N(){return l===void 0?o:b(DN())}function j(){var S=DN(),C=x(S);if(r=arguments,a=this,c=S,C){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(v,t),h(c)}return l===void 0&&(l=setTimeout(v,t)),o}return j.cancel=w,j.flush=N,j}var ICe=MCe,DCe=ICe,$Ce=li,LCe="Expected a function";function FCe(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(LCe);return $Ce(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),DCe(e,t,{leading:r,maxWait:t,trailing:a})}var BCe=FCe;const a7=Mt(BCe);function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){VCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VCe(e,t,n){return t=UCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UCe(e){var t=zCe(e,"string");return Ip(t)=="symbol"?t:t+""}function zCe(e,t){if(Ip(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WCe(e,t){return GCe(e)||KCe(e,t)||HCe(e,t)||qCe()}function qCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(e,t){if(e){if(typeof e=="string")return QM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QM(e,t)}}function QM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function GCe(e){if(Array.isArray(e))return e}var ou=y.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,h=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,v=e.className,b=e.onResize,w=e.style,N=w===void 0?{}:w,j=y.useRef(null),S=y.useRef();S.current=b,y.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=y.useState({containerWidth:a.width,containerHeight:a.height}),P=WCe(C,2),A=P[0],T=P[1],E=y.useCallback(function(R,I){T(function(D){var B=Math.round(R),V=Math.round(I);return D.containerWidth===B&&D.containerHeight===V?D:{containerWidth:B,containerHeight:V}})},[]);y.useEffect(function(){var R=function(_){var z,ne=_[0].contentRect,Y=ne.width,Q=ne.height;E(Y,Q),(z=S.current)===null||z===void 0||z.call(S,Y,Q)};p>0&&(R=a7(R,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(R),D=j.current.getBoundingClientRect(),B=D.width,V=D.height;return E(B,V),I.observe(j.current),function(){I.disconnect()}},[E,p]);var k=y.useMemo(function(){var R=A.containerWidth,I=A.containerHeight;if(R<0||I<0)return null;Ha(Uc(o)||Uc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ha(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=Uc(o)?R:o,B=Uc(c)?I:c;n&&n>0&&(D?B=D/n:B&&(D=B*n),m&&B>m&&(B=m)),Ha(D>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,B,o,c,d,f,n);var V=!Array.isArray(h)&&uo(h.type).endsWith("Chart");return M.Children.map(h,function(O){return M.isValidElement(O)?y.cloneElement(O,zx({width:D,height:B},V?{style:zx({height:"100%",width:"100%",maxHeight:B,maxWidth:D},O.props.style)}:{})):O})},[n,h,c,m,f,d,A,o]);return M.createElement("div",{id:x?"".concat(x):void 0,className:rt("recharts-responsive-container",v),style:zx(zx({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:j},k)}),hc=function(t){return null};hc.displayName="Cell";function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){YCe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YCe(e,t,n){return t=XCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XCe(e){var t=QCe(e,"string");return Dp(t)=="symbol"?t:t+""}function QCe(e,t){if(Dp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qu={widthCache:{},cacheCount:0},ZCe=2e3,JCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JM="recharts_measurement_span";function e2e(e){var t=WC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ih=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||mc.isSsr)return{width:0,height:0};var r=e2e(n),a=JSON.stringify({text:t,copyStyle:r});if(qu.widthCache[a])return qu.widthCache[a];try{var i=document.getElementById(JM);i||(i=document.createElement("span"),i.setAttribute("id",JM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=WC(WC({},JCe),r);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return qu.widthCache[a]=c,++qu.cacheCount>ZCe&&(qu.cacheCount=0,qu.widthCache={}),c}catch{return{width:0,height:0}}},t2e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function $p(e){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(e)}function t0(e,t){return a2e(e)||s2e(e,t)||r2e(e,t)||n2e()}function n2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(e,t){if(e){if(typeof e=="string")return eI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eI(e,t)}}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function a2e(e){if(Array.isArray(e))return e}function i2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l2e(r.key),r)}}function o2e(e,t,n){return t&&tI(e.prototype,t),n&&tI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l2e(e){var t=c2e(e,"string");return $p(t)=="symbol"?t:t+""}function c2e(e,t){if($p(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,u2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},f2e=Object.keys(i7),yd="NaN";function m2e(e,t){return e*i7[t]}var Wx=function(){function e(t,n){i2e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!u2e.test(n)&&(this.num=NaN,this.unit=""),f2e.includes(n)&&(this.num=m2e(t,n),this.unit="px")}return o2e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=d2e.exec(n))!==null&&r!==void 0?r:[],i=t0(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function o7(e){if(e.includes(yd))return yd;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=nI.exec(t))!==null&&n!==void 0?n:[],a=t0(r,4),i=a[1],o=a[2],l=a[3],c=Wx.parse(i??""),u=Wx.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return yd;t=t.replace(nI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=rI.exec(t))!==null&&f!==void 0?f:[],h=t0(m,4),g=h[1],p=h[2],x=h[3],v=Wx.parse(g??""),b=Wx.parse(x??""),w=p==="+"?v.add(b):v.subtract(b);if(w.isNaN())return yd;t=t.replace(rI,w.toString())}return t}var sI=/\(([^()]*)\)/;function h2e(e){for(var t=e;t.includes("(");){var n=sI.exec(t),r=t0(n,2),a=r[1];t=t.replace(sI,o7(a))}return t}function p2e(e){var t=e.replace(/\s+/g,"");return t=h2e(t),t=o7(t),t}function g2e(e){try{return p2e(e)}catch{return yd}}function $N(e){var t=g2e(e.slice(5,-1));return t===yd?"":t}var x2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],y2e=["dx","dy","angle","className","breakAll"];function qC(){return qC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qC.apply(this,arguments)}function aI(e,t){if(e==null)return{};var n=v2e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function iI(e,t){return N2e(e)||j2e(e,t)||w2e(e,t)||b2e()}function b2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w2e(e,t){if(e){if(typeof e=="string")return oI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(e,t)}}function oI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function N2e(e){if(Array.isArray(e))return e}var l7=/[ \f\n\r\t\v\u2028\u2029]+/,c7=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var i=[];st(n)||(r?i=n.toString().split(""):i=n.toString().split(l7));var o=i.map(function(c){return{word:c,width:Ih(c,a).width}}),l=r?0:Ih(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},S2e=function(t,n,r,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=Pe(o),f=l,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(B,V){var O=V.word,_=V.width,z=B[B.length-1];if(z&&(a==null||i||z.width+_+r<Number(a)))z.words.push(O),z.width+=_+r;else{var ne={words:[O],width:_};B.push(ne)}return B},[])},h=m(n),g=function(D){return D.reduce(function(B,V){return B.width>V.width?B:V})};if(!d)return h;for(var p="…",x=function(D){var B=f.slice(0,D),V=c7({breakAll:u,style:c,children:B+p}).wordsWithComputedWidth,O=m(V),_=O.length>o||g(O).width>Number(a);return[_,O]},v=0,b=f.length-1,w=0,N;v<=b&&w<=f.length-1;){var j=Math.floor((v+b)/2),S=j-1,C=x(S),P=iI(C,2),A=P[0],T=P[1],E=x(j),k=iI(E,1),R=k[0];if(!A&&!R&&(v=j+1),A&&R&&(b=j-1),!A&&R){N=T;break}w++}return N||h},lI=function(t){var n=st(t)?[]:t.toString().split(l7);return[{words:n}]},C2e=function(t){var n=t.width,r=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!mc.isSsr){var c,u,d=c7({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return lI(a);return S2e({breakAll:o,children:a,maxLines:l,style:i},c,u,n,r)}return lI(a)},cI="#808080",Su=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,h=m===void 0?"start":m,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,v=x===void 0?cI:x,b=aI(t,x2e),w=y.useMemo(function(){return C2e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),N=b.dx,j=b.dy,S=b.angle,C=b.className,P=b.breakAll,A=aI(b,y2e);if(!lr(r)||!lr(i))return null;var T=r+(Pe(N)?N:0),E=i+(Pe(j)?j:0),k;switch(p){case"start":k=$N("calc(".concat(u,")"));break;case"middle":k=$N("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=$N("calc(".concat(w.length-1," * -").concat(l,")"));break}var R=[];if(f){var I=w[0].width,D=b.width;R.push("scale(".concat((Pe(D)?D/I:1)/I,")"))}return S&&R.push("rotate(".concat(S,", ").concat(T,", ").concat(E,")")),R.length&&(A.transform=R.join(" ")),M.createElement("text",qC({},He(A,!0),{x:T,y:E,className:rt("recharts-text",C),textAnchor:h,fill:v.includes("url")?cI:v}),w.map(function(B,V){var O=B.words.join(P?"":" ");return M.createElement("tspan",{x:T,dy:V===0?k:l,key:"".concat(O,"-").concat(V)},O)}))};function $l(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P2e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kk(e){let t,n,r;e.length!==2?(t=$l,n=(l,c)=>$l(e(l),c),r=(l,c)=>e(l)-c):(t=e===$l||e===P2e?e:A2e,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function A2e(){return 0}function u7(e){return e===null?NaN:+e}function*E2e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const k2e=kk($l),Yg=k2e.right;kk(u7).center;class uI extends Map{constructor(t,n=_2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(dI(this,t))}has(t){return super.has(dI(this,t))}set(t,n){return super.set(T2e(this,t),n)}delete(t){return super.delete(O2e(this,t))}}function dI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function T2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function O2e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function _2e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function R2e(e=$l){if(e===$l)return d7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function d7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const M2e=Math.sqrt(50),I2e=Math.sqrt(10),D2e=Math.sqrt(2);function n0(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=M2e?10:i>=I2e?5:i>=D2e?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?n0(e,t,n*2):[l,c,u]}function HC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?n0(t,e,n):n0(e,t,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function KC(e,t,n){return t=+t,e=+e,n=+n,n0(e,t,n)[2]}function GC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?KC(t,e,n):KC(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function fI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function f7(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?d7:R2e(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+m)),g=Math.min(r,Math.floor(t+(c-u)*f/c+m));f7(e,t,h,g,a)}const i=e[t];let o=n,l=r;for(Xm(e,n,t),a(e[r],i)>0&&Xm(e,n,r);o<l;){for(Xm(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?Xm(e,n,l):(++l,Xm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Xm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function $2e(e,t,n){if(e=Float64Array.from(E2e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mI(e);if(t>=1)return fI(e);var r,a=(r-1)*t,i=Math.floor(a),o=fI(f7(e,i).subarray(0,i+1)),l=mI(e.subarray(i+1));return o+(l-o)*(a-i)}}function L2e(e,t,n=u7){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function F2e(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function Ca(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const YC=Symbol("implicit");function Tk(){var e=new uI,t=[],n=[],r=YC;function a(i){let o=e.get(i);if(o===void 0){if(r!==YC)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new uI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Tk(t,n).unknown(r)},Ca.apply(a,arguments),a}function Lp(){var e=Tk().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=a<r,g=h?a:r,p=h?r:a;i=(p-g)/Math.max(1,m-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(m-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=F2e(m).map(function(v){return g+i*v});return n(h?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([r,a]=m,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(m){return[r,a]=m,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return Lp(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ca.apply(f(),arguments)}function m7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m7(t())},e}function Dh(){return m7(Lp.apply(null,arguments).paddingInner(1))}function Ok(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function h7(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Xg(){}var Fp=.7,r0=1/Fp,Id="\\s*([+-]?\\d+)\\s*",Bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B2e=/^#([0-9a-f]{3,8})$/,V2e=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),U2e=new RegExp(`^rgb\\(${ki},${ki},${ki}\\)$`),z2e=new RegExp(`^rgba\\(${Id},${Id},${Id},${Bp}\\)$`),W2e=new RegExp(`^rgba\\(${ki},${ki},${ki},${Bp}\\)$`),q2e=new RegExp(`^hsl\\(${Bp},${ki},${ki}\\)$`),H2e=new RegExp(`^hsla\\(${Bp},${ki},${ki},${Bp}\\)$`),hI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ok(Xg,Vp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pI,formatHex:pI,formatHex8:K2e,formatHsl:G2e,formatRgb:gI,toString:gI});function pI(){return this.rgb().formatHex()}function K2e(){return this.rgb().formatHex8()}function G2e(){return p7(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function Vp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=B2e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?xI(t):n===3?new bs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=V2e.exec(e))?new bs(t[1],t[2],t[3],1):(t=U2e.exec(e))?new bs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=z2e.exec(e))?qx(t[1],t[2],t[3],t[4]):(t=W2e.exec(e))?qx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=q2e.exec(e))?bI(t[1],t[2]/100,t[3]/100,1):(t=H2e.exec(e))?bI(t[1],t[2]/100,t[3]/100,t[4]):hI.hasOwnProperty(e)?xI(hI[e]):e==="transparent"?new bs(NaN,NaN,NaN,0):null}function xI(e){return new bs(e>>16&255,e>>8&255,e&255,1)}function qx(e,t,n,r){return r<=0&&(e=t=n=NaN),new bs(e,t,n,r)}function Y2e(e){return e instanceof Xg||(e=Vp(e)),e?(e=e.rgb(),new bs(e.r,e.g,e.b,e.opacity)):new bs}function XC(e,t,n,r){return arguments.length===1?Y2e(e):new bs(e,t,n,r??1)}function bs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ok(bs,XC,h7(Xg,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fp:Math.pow(Fp,e),new bs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new bs(lu(this.r),lu(this.g),lu(this.b),s0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yI,formatHex:yI,formatHex8:X2e,formatRgb:vI,toString:vI}));function yI(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}`}function X2e(){return`#${zc(this.r)}${zc(this.g)}${zc(this.b)}${zc((isNaN(this.opacity)?1:this.opacity)*255)}`}function vI(){const e=s0(this.opacity);return`${e===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${e===1?")":`, ${e})`}`}function s0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zc(e){return e=lu(e),(e<16?"0":"")+e.toString(16)}function bI(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Va(e,t,n,r)}function p7(e){if(e instanceof Va)return new Va(e.h,e.s,e.l,e.opacity);if(e instanceof Xg||(e=Vp(e)),!e)return new Va;if(e instanceof Va)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Va(o,l,c,e.opacity)}function Q2e(e,t,n,r){return arguments.length===1?p7(e):new Va(e,t,n,r??1)}function Va(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ok(Va,Q2e,h7(Xg,{brighter(e){return e=e==null?r0:Math.pow(r0,e),new Va(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fp:Math.pow(Fp,e),new Va(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new bs(LN(e>=240?e-240:e+120,a,r),LN(e,a,r),LN(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Va(wI(this.h),Hx(this.s),Hx(this.l),s0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=s0(this.opacity);return`${e===1?"hsl(":"hsla("}${wI(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wI(e){return e=(e||0)%360,e<0?e+360:e}function Hx(e){return Math.max(0,Math.min(1,e||0))}function LN(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _k=e=>()=>e;function Z2e(e,t){return function(n){return e+n*t}}function J2e(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ePe(e){return(e=+e)==1?g7:function(t,n){return n-t?J2e(t,n,e):_k(isNaN(t)?n:t)}}function g7(e,t){var n=t-e;return n?Z2e(e,n):_k(isNaN(e)?t:e)}const jI=function e(t){var n=ePe(t);function r(a,i){var o=n((a=XC(a)).r,(i=XC(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=g7(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function tPe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function nPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rPe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=jm(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}function sPe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function a0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aPe(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=jm(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var QC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FN=new RegExp(QC.source,"g");function iPe(e){return function(){return e}}function oPe(e){return function(t){return e(t)+""}}function lPe(e,t){var n=QC.lastIndex=FN.lastIndex=0,r,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=QC.exec(e))&&(a=FN.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:a0(r,a)})),n=FN.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?oPe(c[0].x):iPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function jm(e,t){var n=typeof t,r;return t==null||n==="boolean"?_k(t):(n==="number"?a0:n==="string"?(r=Vp(t))?(t=r,jI):lPe:t instanceof Vp?jI:t instanceof Date?sPe:nPe(t)?tPe:Array.isArray(t)?rPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?aPe:a0)(e,t)}function Rk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function cPe(e,t){t===void 0&&(t=e,e=jm);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function uPe(e){return function(){return e}}function i0(e){return+e}var NI=[0,1];function ss(e){return e}function ZC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:uPe(isNaN(t)?NaN:.5)}function dPe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function fPe(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=ZC(a,r),i=n(o,i)):(r=ZC(r,a),i=n(i,o)),function(l){return i(r(l))}}function mPe(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=ZC(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var c=Yg(e,l,1,r)-1;return i[c](a[c](l))}}function Qg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mw(){var e=NI,t=NI,n=jm,r,a,i,o=ss,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==ss&&(o=dPe(e[0],e[m-1])),l=m>2?mPe:fPe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?i:(c||(c=l(e.map(r),t,n)))(r(o(m)))}return f.invert=function(m){return o(a((u||(u=l(t,e.map(r),a0)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,i0),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=Rk,d()},f.clamp=function(m){return arguments.length?(o=m?!0:ss,d()):o!==ss},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(i=m,f):i},function(m,h){return r=m,a=h,d()}}function Mk(){return Mw()(ss,ss)}function hPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function o0(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Sf(e){return e=o0(Math.abs(e)),e?e[1]:NaN}function pPe(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function gPe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var xPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Up(e){if(!(t=xPe.exec(e)))throw new Error("invalid format: "+e);var t;return new Ik({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Up.prototype=Ik.prototype;function Ik(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ik.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yPe(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var x7;function vPe(e,t){var n=o0(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(x7=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+o0(e,Math.max(0,t+i-1))[0]}function SI(e,t){var n=o0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const CI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:hPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SI(e*100,t),r:SI,s:vPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PI(e){return e}var AI=Array.prototype.map,EI=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bPe(e){var t=e.grouping===void 0||e.thousands===void 0?PI:pPe(AI.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?PI:gPe(AI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Up(f);var m=f.fill,h=f.align,g=f.sign,p=f.symbol,x=f.zero,v=f.width,b=f.comma,w=f.precision,N=f.trim,j=f.type;j==="n"?(b=!0,j="g"):CI[j]||(w===void 0&&(w=12),N=!0,j="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var S=p==="$"?n:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=p==="$"?r:/[%p]/.test(j)?o:"",P=CI[j],A=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function T(E){var k=S,R=C,I,D,B;if(j==="c")R=P(E)+R,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?c:P(Math.abs(E),w),N&&(E=yPe(E)),V&&+E==0&&g!=="+"&&(V=!1),k=(V?g==="("?g:l:g==="-"||g==="("?"":g)+k,R=(j==="s"?EI[8+x7/3]:"")+R+(V&&g==="("?")":""),A){for(I=-1,D=E.length;++I<D;)if(B=E.charCodeAt(I),48>B||B>57){R=(B===46?a+E.slice(I+1):E.slice(I))+R,E=E.slice(0,I);break}}}b&&!x&&(E=t(E,1/0));var O=k.length+E.length+R.length,_=O<v?new Array(v-O+1).join(m):"";switch(b&&x&&(E=t(_+E,_.length?v-R.length:1/0),_=""),h){case"<":E=k+E+R+_;break;case"=":E=k+_+E+R;break;case"^":E=_.slice(0,O=_.length>>1)+k+E+R+_.slice(O);break;default:E=_+k+E+R;break}return i(E)}return T.toString=function(){return f+""},T}function d(f,m){var h=u((f=Up(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Sf(m)/3)))*3,p=Math.pow(10,-g),x=EI[8+g/3];return function(v){return h(p*v)+x}}return{format:u,formatPrefix:d}}var Kx,Dk,y7;wPe({thousands:",",grouping:[3],currency:["$",""]});function wPe(e){return Kx=bPe(e),Dk=Kx.format,y7=Kx.formatPrefix,Kx}function jPe(e){return Math.max(0,-Sf(Math.abs(e)))}function NPe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sf(t)/3)))*3-Sf(Math.abs(e)))}function SPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sf(t)-Sf(e))+1}function v7(e,t,n,r){var a=GC(e,t,n),i;switch(r=Up(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=NPe(a,o))&&(r.precision=i),y7(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=SPe(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=jPe(a))&&(r.precision=i-(r.type==="%")*2);break}}return Dk(r)}function pc(e){var t=e.domain;return e.ticks=function(n){var r=t();return HC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return v7(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=KC(o,l,n),u===c)return r[a]=o,r[i]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function l0(){var e=Mk();return e.copy=function(){return Qg(e,l0())},Ca.apply(e,arguments),pc(e)}function b7(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,i0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return b7(e).unknown(t)},e=arguments.length?Array.from(e,i0):[0,1],pc(n)}function w7(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function kI(e){return Math.log(e)}function TI(e){return Math.exp(e)}function CPe(e){return-Math.log(-e)}function PPe(e){return-Math.exp(-e)}function APe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function EPe(e){return e===10?APe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OI(e){return(t,n)=>-e(-t,n)}function $k(e){const t=e(kI,TI),n=t.domain;let r=10,a,i;function o(){return a=kPe(r),i=EPe(r),n()[0]<0?(a=OI(a),i=OI(i),e(CPe,PPe)):e(kI,TI),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=a(u),h=a(d),g,p;const x=l==null?10:+l;let v=[];if(!(r%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<r;++g)if(p=m<0?g/i(-m):g*i(m),!(p<u)){if(p>d)break;v.push(p)}}else for(;m<=h;++m)for(g=r-1;g>=1;--g)if(p=m>0?g/i(-m):g*i(m),!(p<u)){if(p>d)break;v.push(p)}v.length*2<x&&(v=HC(u,d,x))}else v=HC(m,h,Math.min(h-m,x)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Up(c)).precision==null&&(c.trim=!0),c=Dk(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(w7(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function j7(){const e=$k(Mw()).domain([1,10]);return e.copy=()=>Qg(e,j7()).base(e.base()),Ca.apply(e,arguments),e}function _I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lk(e){var t=1,n=e(_I(t),RI(t));return n.constant=function(r){return arguments.length?e(_I(t=+r),RI(t)):t},pc(n)}function N7(){var e=Lk(Mw());return e.copy=function(){return Qg(e,N7()).constant(e.constant())},Ca.apply(e,arguments)}function MI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function OPe(e){return e<0?-e*e:e*e}function Fk(e){var t=e(ss,ss),n=1;function r(){return n===1?e(ss,ss):n===.5?e(TPe,OPe):e(MI(n),MI(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},pc(t)}function Bk(){var e=Fk(Mw());return e.copy=function(){return Qg(e,Bk()).exponent(e.exponent())},Ca.apply(e,arguments),e}function _Pe(){return Bk.apply(null,arguments).exponent(.5)}function II(e){return Math.sign(e)*e*e}function RPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function S7(){var e=Mk(),t=[0,1],n=!1,r;function a(i){var o=RPe(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(II(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,i0)).map(II)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return S7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ca.apply(a,arguments),pc(a)}function C7(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=L2e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:t[Yg(n,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($l),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return C7().domain(e).range(t).unknown(r)},Ca.apply(i,arguments)}function P7(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Yg(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return P7().domain([e,t]).range(a).unknown(i)},Ca.apply(pc(o),arguments)}function A7(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[Yg(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return A7().domain(e).range(t).unknown(n)},Ca.apply(a,arguments)}const BN=new Date,VN=new Date;function ur(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ur(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(BN.setTime(+i),VN.setTime(+o),e(BN),e(VN),Math.floor(n(BN,VN))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const c0=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):c0);c0.range;const so=1e3,ha=so*60,ao=ha*60,Oo=ao*24,Vk=Oo*7,DI=Oo*30,UN=Oo*365,Wc=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCSeconds());Wc.range;const Uk=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes());Uk.range;const zk=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes());zk.range;const Wk=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*so-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getHours());Wk.range;const qk=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ao)},(e,t)=>(t-e)/ao,e=>e.getUTCHours());qk.range;const Zg=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/Oo,e=>e.getDate()-1);Zg.range;const Iw=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>e.getUTCDate()-1);Iw.range;const E7=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>Math.floor(e/Oo));E7.range;function Du(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ha)/Vk)}const Dw=Du(0),u0=Du(1),MPe=Du(2),IPe=Du(3),Cf=Du(4),DPe=Du(5),$Pe=Du(6);Dw.range;u0.range;MPe.range;IPe.range;Cf.range;DPe.range;$Pe.range;function $u(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vk)}const $w=$u(0),d0=$u(1),LPe=$u(2),FPe=$u(3),Pf=$u(4),BPe=$u(5),VPe=$u(6);$w.range;d0.range;LPe.range;FPe.range;Pf.range;BPe.range;VPe.range;const Hk=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Hk.range;const Kk=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kk.range;const _o=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});_o.range;const Ro=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ro.range;function k7(e,t,n,r,a,i){const o=[[Wc,1,so],[Wc,5,5*so],[Wc,15,15*so],[Wc,30,30*so],[i,1,ha],[i,5,5*ha],[i,15,15*ha],[i,30,30*ha],[a,1,ao],[a,3,3*ao],[a,6,6*ao],[a,12,12*ao],[r,1,Oo],[r,2,2*Oo],[n,1,Vk],[t,1,DI],[t,3,3*DI],[e,1,UN]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=kk(([,,x])=>x).right(o,m);if(h===o.length)return e.every(GC(u/UN,d/UN,f));if(h===0)return c0.every(Math.max(GC(u,d,f),1));const[g,p]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return g.every(p)}return[l,c]}const[UPe,zPe]=k7(Ro,Kk,$w,E7,qk,zk),[WPe,qPe]=k7(_o,Hk,Dw,Zg,Wk,Uk);function zN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function WN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function HPe(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zm(a),d=Jm(a),f=Zm(i),m=Jm(i),h=Zm(o),g=Jm(o),p=Zm(l),x=Jm(l),v=Zm(c),b=Jm(c),w={a:V,A:O,b:_,B:z,c:null,d:UI,e:UI,f:pAe,g:CAe,G:AAe,H:fAe,I:mAe,j:hAe,L:T7,m:gAe,M:xAe,p:ne,q:Y,Q:qI,s:HI,S:yAe,u:vAe,U:bAe,V:wAe,w:jAe,W:NAe,x:null,X:null,y:SAe,Y:PAe,Z:EAe,"%":WI},N={a:Q,A:ie,b:ae,B:ge,c:null,d:zI,e:zI,f:_Ae,g:UAe,G:WAe,H:kAe,I:TAe,j:OAe,L:_7,m:RAe,M:MAe,p:$,q:J,Q:qI,s:HI,S:IAe,u:DAe,U:$Ae,V:LAe,w:FAe,W:BAe,x:null,X:null,y:VAe,Y:zAe,Z:qAe,"%":WI},j={a:T,A:E,b:k,B:R,c:I,d:BI,e:BI,f:lAe,g:FI,G:LI,H:VI,I:VI,j:sAe,L:oAe,m:rAe,M:aAe,p:A,q:nAe,Q:uAe,s:dAe,S:iAe,u:QPe,U:ZPe,V:JPe,w:XPe,W:eAe,x:D,X:B,y:FI,Y:LI,Z:tAe,"%":cAe};w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),N.x=S(n,N),N.X=S(r,N),N.c=S(t,N);function S(Z,L){return function(ce){var H=[],Se=-1,U=0,re=Z.length,me,Fe,ut;for(ce instanceof Date||(ce=new Date(+ce));++Se<re;)Z.charCodeAt(Se)===37&&(H.push(Z.slice(U,Se)),(Fe=$I[me=Z.charAt(++Se)])!=null?me=Z.charAt(++Se):Fe=me==="e"?" ":"0",(ut=L[me])&&(me=ut(ce,Fe)),H.push(me),U=Se+1);return H.push(Z.slice(U,Se)),H.join("")}}function C(Z,L){return function(ce){var H=Qm(1900,void 0,1),Se=P(H,Z,ce+="",0),U,re;if(Se!=ce.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(L&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(U=WN(Qm(H.y,0,1)),re=U.getUTCDay(),U=re>4||re===0?d0.ceil(U):d0(U),U=Iw.offset(U,(H.V-1)*7),H.y=U.getUTCFullYear(),H.m=U.getUTCMonth(),H.d=U.getUTCDate()+(H.w+6)%7):(U=zN(Qm(H.y,0,1)),re=U.getDay(),U=re>4||re===0?u0.ceil(U):u0(U),U=Zg.offset(U,(H.V-1)*7),H.y=U.getFullYear(),H.m=U.getMonth(),H.d=U.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),re="Z"in H?WN(Qm(H.y,0,1)).getUTCDay():zN(Qm(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(re+5)%7:H.w+H.U*7-(re+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,WN(H)):zN(H)}}function P(Z,L,ce,H){for(var Se=0,U=L.length,re=ce.length,me,Fe;Se<U;){if(H>=re)return-1;if(me=L.charCodeAt(Se++),me===37){if(me=L.charAt(Se++),Fe=j[me in $I?L.charAt(Se++):me],!Fe||(H=Fe(Z,ce,H))<0)return-1}else if(me!=ce.charCodeAt(H++))return-1}return H}function A(Z,L,ce){var H=u.exec(L.slice(ce));return H?(Z.p=d.get(H[0].toLowerCase()),ce+H[0].length):-1}function T(Z,L,ce){var H=h.exec(L.slice(ce));return H?(Z.w=g.get(H[0].toLowerCase()),ce+H[0].length):-1}function E(Z,L,ce){var H=f.exec(L.slice(ce));return H?(Z.w=m.get(H[0].toLowerCase()),ce+H[0].length):-1}function k(Z,L,ce){var H=v.exec(L.slice(ce));return H?(Z.m=b.get(H[0].toLowerCase()),ce+H[0].length):-1}function R(Z,L,ce){var H=p.exec(L.slice(ce));return H?(Z.m=x.get(H[0].toLowerCase()),ce+H[0].length):-1}function I(Z,L,ce){return P(Z,t,L,ce)}function D(Z,L,ce){return P(Z,n,L,ce)}function B(Z,L,ce){return P(Z,r,L,ce)}function V(Z){return o[Z.getDay()]}function O(Z){return i[Z.getDay()]}function _(Z){return c[Z.getMonth()]}function z(Z){return l[Z.getMonth()]}function ne(Z){return a[+(Z.getHours()>=12)]}function Y(Z){return 1+~~(Z.getMonth()/3)}function Q(Z){return o[Z.getUTCDay()]}function ie(Z){return i[Z.getUTCDay()]}function ae(Z){return c[Z.getUTCMonth()]}function ge(Z){return l[Z.getUTCMonth()]}function $(Z){return a[+(Z.getUTCHours()>=12)]}function J(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var L=S(Z+="",w);return L.toString=function(){return Z},L},parse:function(Z){var L=C(Z+="",!1);return L.toString=function(){return Z},L},utcFormat:function(Z){var L=S(Z+="",N);return L.toString=function(){return Z},L},utcParse:function(Z){var L=C(Z+="",!0);return L.toString=function(){return Z},L}}}var $I={"-":"",_:" ",0:"0"},jr=/^\s*\d+/,KPe=/^%/,GPe=/[\\^$*+?|[\]().{}]/g;function _t(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function YPe(e){return e.replace(GPe,"\\$&")}function Zm(e){return new RegExp("^(?:"+e.map(YPe).join("|")+")","i")}function Jm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function XPe(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function QPe(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ZPe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function JPe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function eAe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function LI(e,t,n){var r=jr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function FI(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tAe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nAe(e,t,n){var r=jr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function rAe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function BI(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function sAe(e,t,n){var r=jr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function VI(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function aAe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function iAe(e,t,n){var r=jr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function oAe(e,t,n){var r=jr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lAe(e,t,n){var r=jr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cAe(e,t,n){var r=KPe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function uAe(e,t,n){var r=jr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dAe(e,t,n){var r=jr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function UI(e,t){return _t(e.getDate(),t,2)}function fAe(e,t){return _t(e.getHours(),t,2)}function mAe(e,t){return _t(e.getHours()%12||12,t,2)}function hAe(e,t){return _t(1+Zg.count(_o(e),e),t,3)}function T7(e,t){return _t(e.getMilliseconds(),t,3)}function pAe(e,t){return T7(e,t)+"000"}function gAe(e,t){return _t(e.getMonth()+1,t,2)}function xAe(e,t){return _t(e.getMinutes(),t,2)}function yAe(e,t){return _t(e.getSeconds(),t,2)}function vAe(e){var t=e.getDay();return t===0?7:t}function bAe(e,t){return _t(Dw.count(_o(e)-1,e),t,2)}function O7(e){var t=e.getDay();return t>=4||t===0?Cf(e):Cf.ceil(e)}function wAe(e,t){return e=O7(e),_t(Cf.count(_o(e),e)+(_o(e).getDay()===4),t,2)}function jAe(e){return e.getDay()}function NAe(e,t){return _t(u0.count(_o(e)-1,e),t,2)}function SAe(e,t){return _t(e.getFullYear()%100,t,2)}function CAe(e,t){return e=O7(e),_t(e.getFullYear()%100,t,2)}function PAe(e,t){return _t(e.getFullYear()%1e4,t,4)}function AAe(e,t){var n=e.getDay();return e=n>=4||n===0?Cf(e):Cf.ceil(e),_t(e.getFullYear()%1e4,t,4)}function EAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function zI(e,t){return _t(e.getUTCDate(),t,2)}function kAe(e,t){return _t(e.getUTCHours(),t,2)}function TAe(e,t){return _t(e.getUTCHours()%12||12,t,2)}function OAe(e,t){return _t(1+Iw.count(Ro(e),e),t,3)}function _7(e,t){return _t(e.getUTCMilliseconds(),t,3)}function _Ae(e,t){return _7(e,t)+"000"}function RAe(e,t){return _t(e.getUTCMonth()+1,t,2)}function MAe(e,t){return _t(e.getUTCMinutes(),t,2)}function IAe(e,t){return _t(e.getUTCSeconds(),t,2)}function DAe(e){var t=e.getUTCDay();return t===0?7:t}function $Ae(e,t){return _t($w.count(Ro(e)-1,e),t,2)}function R7(e){var t=e.getUTCDay();return t>=4||t===0?Pf(e):Pf.ceil(e)}function LAe(e,t){return e=R7(e),_t(Pf.count(Ro(e),e)+(Ro(e).getUTCDay()===4),t,2)}function FAe(e){return e.getUTCDay()}function BAe(e,t){return _t(d0.count(Ro(e)-1,e),t,2)}function VAe(e,t){return _t(e.getUTCFullYear()%100,t,2)}function UAe(e,t){return e=R7(e),_t(e.getUTCFullYear()%100,t,2)}function zAe(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function WAe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pf(e):Pf.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function qAe(){return"+0000"}function WI(){return"%"}function qI(e){return+e}function HI(e){return Math.floor(+e/1e3)}var Hu,M7,I7;HAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HAe(e){return Hu=HPe(e),M7=Hu.format,Hu.parse,I7=Hu.utcFormat,Hu.utcParse,Hu}function KAe(e){return new Date(e)}function GAe(e){return e instanceof Date?+e:+new Date(+e)}function Gk(e,t,n,r,a,i,o,l,c,u){var d=Mk(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),w=u("%B"),N=u("%Y");function j(S){return(c(S)<S?h:l(S)<S?g:o(S)<S?p:i(S)<S?x:r(S)<S?a(S)<S?v:b:n(S)<S?w:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?m(Array.from(S,GAe)):m().map(KAe)},d.ticks=function(S){var C=m();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=m();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?m(w7(C,S)):d},d.copy=function(){return Qg(d,Gk(e,t,n,r,a,i,o,l,c,u))},d}function YAe(){return Ca.apply(Gk(WPe,qPe,_o,Hk,Dw,Zg,Wk,Uk,Wc,M7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function XAe(){return Ca.apply(Gk(UPe,zPe,Ro,Kk,$w,Iw,qk,zk,Wc,I7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lw(){var e=0,t=1,n,r,a,i,o=ss,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(jm),u.rangeRound=d(Rk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function gc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function D7(){var e=pc(Lw()(ss));return e.copy=function(){return gc(e,D7())},Bo.apply(e,arguments)}function $7(){var e=$k(Lw()).domain([1,10]);return e.copy=function(){return gc(e,$7()).base(e.base())},Bo.apply(e,arguments)}function L7(){var e=Lk(Lw());return e.copy=function(){return gc(e,L7()).constant(e.constant())},Bo.apply(e,arguments)}function Yk(){var e=Fk(Lw());return e.copy=function(){return gc(e,Yk()).exponent(e.exponent())},Bo.apply(e,arguments)}function QAe(){return Yk.apply(null,arguments).exponent(.5)}function F7(){var e=[],t=ss;function n(r){if(r!=null&&!isNaN(r=+r))return t((Yg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort($l),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>$2e(e,i/r))},n.copy=function(){return F7(t).domain(e)},Bo.apply(n,arguments)}function Fw(){var e=0,t=.5,n=1,r=1,a,i,o,l,c,u=ss,d,f=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+d(p))-i)*(r*p<r*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,n]=p,a=d(e=+e),i=d(t=+t),o=d(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,h):[e,t,n]},h.clamp=function(p){return arguments.length?(f=!!p,h):f},h.interpolator=function(p){return arguments.length?(u=p,h):u};function g(p){return function(x){var v,b,w;return arguments.length?([v,b,w]=x,u=cPe(p,[v,b,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(jm),h.rangeRound=g(Rk),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return d=p,a=p(e),i=p(t),o=p(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),r=i<a?-1:1,h}}function B7(){var e=pc(Fw()(ss));return e.copy=function(){return gc(e,B7())},Bo.apply(e,arguments)}function V7(){var e=$k(Fw()).domain([.1,1,10]);return e.copy=function(){return gc(e,V7()).base(e.base())},Bo.apply(e,arguments)}function U7(){var e=Lk(Fw());return e.copy=function(){return gc(e,U7()).constant(e.constant())},Bo.apply(e,arguments)}function Xk(){var e=Fk(Fw());return e.copy=function(){return gc(e,Xk()).exponent(e.exponent())},Bo.apply(e,arguments)}function ZAe(){return Xk.apply(null,arguments).exponent(.5)}const KI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lp,scaleDiverging:B7,scaleDivergingLog:V7,scaleDivergingPow:Xk,scaleDivergingSqrt:ZAe,scaleDivergingSymlog:U7,scaleIdentity:b7,scaleImplicit:YC,scaleLinear:l0,scaleLog:j7,scaleOrdinal:Tk,scalePoint:Dh,scalePow:Bk,scaleQuantile:C7,scaleQuantize:P7,scaleRadial:S7,scaleSequential:D7,scaleSequentialLog:$7,scaleSequentialPow:Yk,scaleSequentialQuantile:F7,scaleSequentialSqrt:QAe,scaleSequentialSymlog:L7,scaleSqrt:_Pe,scaleSymlog:N7,scaleThreshold:A7,scaleTime:YAe,scaleUtc:XAe,tickFormat:v7},Symbol.toStringTag,{value:"Module"}));var JAe=dm;function eEe(e,t,n){for(var r=-1,a=e.length;++r<a;){var i=e[r],o=t(i);if(o!=null&&(l===void 0?o===o&&!JAe(o):n(o,l)))var l=o,c=i}return c}var Bw=eEe;function tEe(e,t){return e>t}var z7=tEe,nEe=Bw,rEe=z7,sEe=wm;function aEe(e){return e&&e.length?nEe(e,sEe,rEe):void 0}var iEe=aEe;const Vw=Mt(iEe);function oEe(e,t){return e<t}var W7=oEe,lEe=Bw,cEe=W7,uEe=wm;function dEe(e){return e&&e.length?lEe(e,uEe,cEe):void 0}var fEe=dEe;const Uw=Mt(fEe);var mEe=mw,hEe=Vi,pEe=XW,gEe=us;function xEe(e,t){var n=gEe(e)?mEe:pEe;return n(e,hEe(t))}var yEe=xEe,vEe=Ck,bEe=yEe;function wEe(e,t){return vEe(bEe(e,t),1)}var jEe=wEe;const NEe=Mt(jEe);var SEe=Sk;function CEe(e,t){return SEe(e,t)}var PEe=CEe;const Nm=Mt(PEe);var Sm=1e9,AEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zk,jn=!0,wa="[DecimalError] ",cu=wa+"Invalid argument: ",Qk=wa+"Exponent out of range: ",Cm=Math.floor,Oc=Math.pow,EEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Is,gr=1e7,fn=7,q7=9007199254740991,f0=Cm(q7/fn),De={};De.absoluteValue=De.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};De.comparedTo=De.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};De.decimalPlaces=De.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*fn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(e){return fo(this,new this.constructor(e))};De.dividedToIntegerBy=De.idiv=function(e){var t=this,n=t.constructor;return en(fo(t,new n(e),0,1),n.precision)};De.equals=De.eq=function(e){return!this.cmp(e)};De.exponent=function(){return Qn(this)};De.greaterThan=De.gt=function(e){return this.cmp(e)>0};De.greaterThanOrEqualTo=De.gte=function(e){return this.cmp(e)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(e){return this.cmp(e)<0};De.lessThanOrEqualTo=De.lte=function(e){return this.cmp(e)<1};De.logarithm=De.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Is))throw Error(wa+"NaN");if(n.s<1)throw Error(wa+(n.s?"NaN":"-Infinity"));return n.eq(Is)?new r(0):(jn=!1,t=fo(zp(n,i),zp(e,i),i),jn=!0,en(t,a))};De.minus=De.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G7(t,e):H7(t,(e.s=-e.s,e))};De.modulo=De.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(wa+"NaN");return n.s?(jn=!1,t=fo(n,e,0,1).times(e),jn=!0,n.minus(t)):en(new r(n),a)};De.naturalExponential=De.exp=function(){return K7(this)};De.naturalLogarithm=De.ln=function(){return zp(this)};De.negated=De.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};De.plus=De.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?H7(t,e):G7(t,(e.s=-e.s,e))};De.precision=De.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cu+e);if(t=Qn(a)+1,r=a.d.length-1,n=r*fn+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};De.squareRoot=De.sqrt=function(){var e,t,n,r,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wa+"NaN")}for(e=Qn(l),jn=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=wi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Cm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=r,r=i.plus(fo(l,i,o+2)).times(.5),wi(i.d).slice(0,o)===(t=wi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(en(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(t!="9999")break;o+=4}return jn=!0,en(r,n)};De.times=De.mul=function(e){var t,n,r,a,i,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=i[a]+h[r]*m[a-r-1]+t,i[a--]=l%gr|0,t=l/gr|0;i[a]=(i[a]+t)%gr|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,jn?en(e,f.precision):e};De.toDecimalPlaces=De.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ii(e,0,Sm),t===void 0?t=r.rounding:Ii(t,0,8),en(n,e+Qn(n)+1,t))};De.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Cu(r,!0):(Ii(e,0,Sm),t===void 0?t=a.rounding:Ii(t,0,8),r=en(new a(r),e+1,t),n=Cu(r,!0,e+1)),n};De.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?Cu(a):(Ii(e,0,Sm),t===void 0?t=i.rounding:Ii(t,0,8),r=en(new i(a),e+Qn(a)+1,t),n=Cu(r.abs(),!1,e+Qn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var e=this,t=e.constructor;return en(new t(e),Qn(e)+1,t.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(e){var t,n,r,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Is);if(l=new c(l),!l.s){if(e.s<1)throw Error(wa+"Infinity");return l}if(l.eq(Is))return l;if(r=c.precision,e.eq(Is))return en(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=l.s,o){if((n=d<0?-d:d)<=q7){for(a=new c(Is),t=Math.ceil(r/fn+4),jn=!1;n%2&&(a=a.times(l),YI(a.d,t)),n=Cm(n/2),n!==0;)l=l.times(l),YI(l.d,t);return jn=!0,e.s<0?new c(Is).div(a):en(a,r)}}else if(i<0)throw Error(wa+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,jn=!1,a=e.times(zp(l,r+u)),jn=!0,a=K7(a),a.s=i,a};De.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Qn(a),r=Cu(a,n<=i.toExpNeg||n>=i.toExpPos)):(Ii(e,1,Sm),t===void 0?t=i.rounding:Ii(t,0,8),a=en(new i(a),e,t),n=Qn(a),r=Cu(a,e<=n||n<=i.toExpNeg,e)),r};De.toSignificantDigits=De.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ii(e,1,Sm),t===void 0?t=r.rounding:Ii(t,0,8)),en(new r(n),e,t)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qn(e),n=e.constructor;return Cu(e,t<=n.toExpNeg||t>=n.toExpPos)};function H7(e,t){var n,r,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),jn?en(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(f/fn),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/gr|0,c[i]%=gr;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,jn?en(t,f):t}function Ii(e,t,n){if(e!==~~e||e<t||e>n)throw Error(cu+e)}function wi(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=fn-r.length,n&&(i+=tl(n)),i+=r;o=e[t],r=o+"",n=fn-r.length,n&&(i+=tl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var fo=function(){function e(r,a){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*a+o,r[l]=i%gr|0,o=i/gr|0;return o&&r.unshift(o),r}function t(r,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*gr+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var l,c,u,d,f,m,h,g,p,x,v,b,w,N,j,S,C,P,A=r.constructor,T=r.s==a.s?1:-1,E=r.d,k=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(wa+"Division by zero");for(c=r.e-a.e,C=k.length,j=E.length,h=new A(T),g=h.d=[],u=0;k[u]==(E[u]||0);)++u;if(k[u]>(E[u]||0)&&--c,i==null?b=i=A.precision:o?b=i+(Qn(r)-Qn(a))+1:b=i,b<0)return new A(0);if(b=b/fn+2|0,u=0,C==1)for(d=0,k=k[0],b++;(u<j||d)&&b--;u++)w=d*gr+(E[u]||0),g[u]=w/k|0,d=w%k|0;else{for(d=gr/(k[0]+1)|0,d>1&&(k=e(k,d),E=e(E,d),C=k.length,j=E.length),N=C,p=E.slice(0,C),x=p.length;x<C;)p[x++]=0;P=k.slice(),P.unshift(0),S=k[0],k[1]>=gr/2&&++S;do d=0,l=t(k,p,C,x),l<0?(v=p[0],C!=x&&(v=v*gr+(p[1]||0)),d=v/S|0,d>1?(d>=gr&&(d=gr-1),f=e(k,d),m=f.length,x=p.length,l=t(f,p,m,x),l==1&&(d--,n(f,C<m?P:k,m))):(d==0&&(l=d=1),f=k.slice()),m=f.length,m<x&&f.unshift(0),n(p,f,x),l==-1&&(x=p.length,l=t(k,p,C,x),l<1&&(d++,n(p,C<x?P:k,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=E[N]||0:(p=[E[N]],x=1);while((N++<j||p[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=c,en(h,o?i+Qn(h)+1:i)}}();function K7(e,t){var n,r,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Qn(e)>16)throw Error(Qk+Qn(e));if(!e.s)return new d(Is);for(jn=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Oc(2,u))/Math.LN10*2+5|0,l+=r,n=a=i=new d(Is),d.precision=l;;){if(a=en(a.times(e),l),n=n.times(++c),o=i.plus(fo(a,n,l)),wi(o.d).slice(0,l)===wi(i.d).slice(0,l)){for(;u--;)i=en(i.times(i),l);return d.precision=f,t==null?(jn=!0,en(i,f)):i}i=o}}function Qn(e){for(var t=e.e*fn,n=e.d[0];n>=10;n/=10)t++;return t}function qN(e,t,n){if(t>e.LN10.sd())throw jn=!0,n&&(e.precision=n),Error(wa+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function tl(e){for(var t="";e--;)t+="0";return t}function zp(e,t){var n,r,a,i,o,l,c,u,d,f=1,m=10,h=e,g=h.d,p=h.constructor,x=p.precision;if(h.s<1)throw Error(wa+(h.s?"NaN":"-Infinity"));if(h.eq(Is))return new p(0);if(t==null?(jn=!1,u=x):u=t,h.eq(10))return t==null&&(jn=!0),qN(p,u);if(u+=m,p.precision=u,n=wi(g),r=n.charAt(0),i=Qn(h),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=wi(h.d),r=n.charAt(0),f++;i=Qn(h),r>1?(h=new p("0."+n),i++):h=new p(r+"."+n.slice(1))}else return c=qN(p,u+2,x).times(i+""),h=zp(new p(r+"."+n.slice(1)),u-m).plus(c),p.precision=x,t==null?(jn=!0,en(h,x)):h;for(l=o=h=fo(h.minus(Is),h.plus(Is),u),d=en(h.times(h),u),a=3;;){if(o=en(o.times(d),u),c=l.plus(fo(o,new p(a),u)),wi(c.d).slice(0,u)===wi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(qN(p,u+2,x).times(i+""))),l=fo(l,new p(f),u),p.precision=x,t==null?(jn=!0,en(l,x)):l;l=c,a+=2}}function GI(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=Cm(n/fn),e.d=[],r=(n+1)%fn,n<0&&(r+=fn),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=fn;r<a;)e.d.push(+t.slice(r,r+=fn));t=t.slice(r),r=fn-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),jn&&(e.e>f0||e.e<-f0))throw Error(Qk+n)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,n){var r,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=fn,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/fn),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=fn,a=r-fn+o}if(n!==void 0&&(i=Oc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Oc(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(i=Qn(e),f.length=1,t=t-i-1,f[0]=Oc(10,(fn-t%fn)%fn),e.e=Cm(-t/fn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Oc(10,fn-r),f[d]=a>0?(u/Oc(10,o-a)%Oc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==gr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=gr)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(jn&&(e.e>f0||e.e<-f0))throw Error(Qk+Qn(e));return e}function G7(e,t){var n,r,a,i,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),jn?en(t,h):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),a=Math.max(Math.ceil(h/fn),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=gr-1;--c[i],c[a]+=gr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,jn?en(t,h):t):new m(0)}function Cu(e,t,n){var r,a=Qn(e),i=wi(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+tl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+tl(-a-1)+i,n&&(r=n-o)>0&&(i+=tl(r))):a>=o?(i+=tl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+tl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=tl(r))),e.s<0?"-"+i:i}function YI(e,t){if(e.length>t)return e.length=t,!0}function Y7(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(cu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return GI(o,i.toString())}else if(typeof i!="string")throw Error(cu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,EEe.test(i))GI(o,i);else throw Error(cu+i)}if(a.prototype=De,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Y7,a.config=a.set=kEe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function kEe(e){if(!e||typeof e!="object")throw Error(wa+"Object expected");var t,n,r,a=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(Cm(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(cu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cu+n+": "+r);return this}var Zk=Y7(AEe);Is=new Zk(1);const Kt=Zk;function TEe(e){return MEe(e)||REe(e)||_Ee(e)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return JC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(e,t)}}function REe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function MEe(e){if(Array.isArray(e))return JC(e)}function JC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IEe=function(t){return t},X7={},Q7=function(t){return t===X7},XI=function(t){return function n(){return arguments.length===0||arguments.length===1&&Q7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},DEe=function e(t,n){return t===1?n:XI(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==X7}).length;return o>=t?n.apply(void 0,a):e(t-o,XI(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return Q7(f)?c.shift():f});return n.apply(void 0,TEe(d).concat(c))}))})},zw=function(t){return DEe(t.length,t)},e2=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},$Ee=zw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),LEe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return IEe;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},t2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Z7=function(t){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=t.apply(void 0,i)),r}};function FEe(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function BEe(e,t,n){for(var r=new Kt(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var VEe=zw(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),UEe=zw(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),zEe=zw(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Ww={rangeStep:BEe,getDigitCount:FEe,interpolateNumber:VEe,uninterpolateNumber:UEe,uninterpolateTruncation:zEe};function n2(e){return HEe(e)||qEe(e)||J7(e)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HEe(e){if(Array.isArray(e))return r2(e)}function Wp(e,t){return YEe(e)||GEe(e,t)||J7(e,t)||KEe()}function KEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J7(e,t){if(e){if(typeof e=="string")return r2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r2(e,t)}}function r2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function YEe(e){if(Array.isArray(e))return e}function eq(e){var t=Wp(e,2),n=t[0],r=t[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function tq(e,t,n){if(e.lte(0))return new Kt(0);var r=Ww.getDigitCount(e.toNumber()),a=new Kt(10).pow(r),i=e.div(a),o=r!==1?.05:.1,l=new Kt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Kt(Math.ceil(c))}function XEe(e,t,n){var r=1,a=new Kt(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new Kt(10).pow(Ww.getDigitCount(e)-1),a=new Kt(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Kt(Math.floor(e)))}else e===0?a=new Kt(Math.floor((t-1)/2)):n||(a=new Kt(Math.floor(e)));var o=Math.floor((t-1)/2),l=LEe($Ee(function(c){return a.add(new Kt(c-o).mul(r)).toNumber()}),e2);return l(0,t)}function nq(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var i=tq(new Kt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Kt(0):(o=new Kt(e).add(t).div(2),o=o.sub(new Kt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Kt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>n?nq(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Kt(l).mul(i)),tickMax:o.add(new Kt(c).mul(i))})}function QEe(e){var t=Wp(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=eq([n,r]),c=Wp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(n2(e2(0,a-1).map(function(){return 1/0}))):[].concat(n2(e2(0,a-1).map(function(){return-1/0})),[d]);return n>r?t2(f):f}if(u===d)return XEe(u,a,i);var m=nq(u,d,o,i),h=m.step,g=m.tickMin,p=m.tickMax,x=Ww.rangeStep(g,p.add(new Kt(.1).mul(h)),h);return n>r?t2(x):x}function ZEe(e,t){var n=Wp(e,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eq([r,a]),l=Wp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),f=tq(new Kt(u).sub(c).div(d-1),i,0),m=[].concat(n2(Ww.rangeStep(new Kt(c),new Kt(u).sub(new Kt(.99).mul(f)),f)),[u]);return r>a?t2(m):m}var JEe=Z7(QEe),eke=Z7(ZEe),tke="Invariant failed";function Pu(e,t){throw new Error(tke)}var nke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(this,arguments)}function rke(e,t){return oke(e)||ike(e,t)||ake(e,t)||ske()}function ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ake(e,t){if(e){if(typeof e=="string")return QI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(e,t)}}function QI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ike(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oke(e){if(Array.isArray(e))return e}function lke(e,t){if(e==null)return{};var n=cke(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aq(r.key),r)}}function fke(e,t,n){return t&&dke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mke(e,t,n){return t=h0(t),hke(e,rq()?Reflect.construct(t,n||[],h0(e).constructor):t.apply(e,n))}function hke(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pke(e)}function pke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function h0(e){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(e)}function gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s2(e,t)}function s2(e,t){return s2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},s2(e,t)}function sq(e,t,n){return t=aq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aq(e){var t=xke(e,"string");return Af(t)=="symbol"?t:t+""}function xke(e,t){if(Af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jg=function(e){function t(){return uke(this,t),mke(this,t,arguments)}return gke(t,e),fke(t,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,m=lke(r,nke),h=He(m,!1);this.props.direction==="x"&&d.type!=="number"&&Pu();var g=c.map(function(p){var x=u(p,l),v=x.x,b=x.y,w=x.value,N=x.errorVal;if(!N)return null;var j=[],S,C;if(Array.isArray(N)){var P=rke(N,2);S=P[0],C=P[1]}else S=C=N;if(i==="vertical"){var A=d.scale,T=b+a,E=T+o,k=T-o,R=A(w-S),I=A(w+C);j.push({x1:I,y1:E,x2:I,y2:k}),j.push({x1:R,y1:T,x2:I,y2:T}),j.push({x1:R,y1:E,x2:R,y2:k})}else if(i==="horizontal"){var D=f.scale,B=v+a,V=B-o,O=B+o,_=D(w-S),z=D(w+C);j.push({x1:V,y1:z,x2:O,y2:z}),j.push({x1:B,y1:_,x2:B,y2:z}),j.push({x1:V,y1:_,x2:O,y2:_})}return M.createElement(Ct,m0({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},h),j.map(function(ne){return M.createElement("line",m0({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return M.createElement(Ct,{className:"recharts-errorBars"},g)}}])}(M.Component);sq(Jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sq(Jg,"displayName","ErrorBar");function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){yke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yke(e,t,n){return t=vke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vke(e){var t=bke(e,"string");return qp(t)=="symbol"?t:t+""}function bke(e,t){if(qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iq=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=_s(n,iu);if(!o)return null;var l=iu.defaultProps,c=l!==void 0?Nc(Nc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var m=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||m.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(r||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?Nc(Nc({},m),f.props):{},g=h.dataKey,p=h.name,x=h.legendType,v=h.hide;return{inactive:v,dataKey:g,type:c.iconType||x||"square",color:Jk(f),value:p||g,payload:h}}),Nc(Nc(Nc({},c),iu.getWithHeight(o,a)),{},{payload:u,item:o})};function Hp(e){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(e)}function JI(e){return Ske(e)||Nke(e)||jke(e)||wke()}function wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jke(e,t){if(e){if(typeof e=="string")return a2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(e,t)}}function Nke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ske(e){if(Array.isArray(e))return a2(e)}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){Dd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dd(e,t,n){return t=Cke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cke(e){var t=Pke(e,"string");return Hp(t)=="symbol"?t:t+""}function Pke(e,t){if(Hp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t,n){return st(e)||st(t)?n:lr(t)?Bs(e,t,n):Qe(t)?t(e):n}function $h(e,t,n,r){var a=NEe(e,function(l){return Pn(l,t)});if(n==="number"){var i=a.filter(function(l){return Pe(l)||parseFloat(l)});return i.length?[Uw(i),Vw(i)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!st(l)}):a;return o.map(function(l){return lr(l)||l instanceof Date?l:""})}var Ake=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,m=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(ns(f-d)!==ns(m-f)){var g=[];if(ns(m-f)===ns(c[1]-c[0])){h=m;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{h=d;var x=m+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,m),w=Math.max(d,m);if(t>(b+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2&&t<=(r[N].coordinate+r[N+1].coordinate)/2||N===l-1&&t>(r[N].coordinate+r[N-1].coordinate)/2){o=r[N].index;break}return o},Jk=function(t){var n,r=t,a=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Eke=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var g=d[f[m]],p=g.items,x=g.cateAxisId,v=p.filter(function(C){return uo(C.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,w=b!==void 0?In(In({},b),v[0].props):v[0].props,N=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=st(N)?n:N;o[j].push({item:v[0],stackList:v.slice(1),barSize:st(S)?void 0:rs(S,r,0)})}}return o},kke=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=rs(n,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=a/c,g=o.reduce(function(N,j){return N+j.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&h>0&&(m=!0,h*=.9,g=c*h);var p=(a-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(N,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:m?h:j.barSize}},C=[].concat(JI(N),[S]);return x=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:x})}),C},f)}else{var v=rs(r,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var w=l===+l?Math.min(b,l):b;d=o.reduce(function(N,j,S){var C=[].concat(JI(N),[{item:j.item,position:{offset:v+(b+u)*S+(b-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(P){C.push({item:P,position:C[C.length-1].position})}),C},f)}return d},Tke=function(t,n,r,a){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=iq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,m=d.height,h=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&h!=="center"&&Pe(t[h]))return In(In({},t),{},Dd({},h,t[h]+(f||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&g!=="middle"&&Pe(t[g]))return In(In({},t),{},Dd({},g,t[g]+(m||0)))}return t},Oke=function(t,n,r){return st(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},oq=function(t,n,r,a,i){var o=n.props.children,l=Ss(o,Jg).filter(function(u){return Oke(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Pn(d,r);if(st(f))return u;var m=Array.isArray(f)?[Uw(f),Vw(f)]:[f,f],h=c.reduce(function(g,p){var x=Pn(d,p,0),v=m[0]-Math.abs(Array.isArray(x)?x[0]:x),b=m[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},_ke=function(t,n,r,a,i){var o=n.map(function(l){return oq(t,l,r,i,a)}).filter(function(l){return!st(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},lq=function(t,n,r,a,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&oq(t,c,u,a)||$h(t,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},cq=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},uq=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},io=function(t,n,r){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ns(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=i?i.indexOf(f):f;return{coordinate:a(m)+u,value:f,offset:u}});return d.filter(function(f){return!Gg(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:a(f)+u,value:f,index:m,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,m){return{coordinate:a(f)+u,value:i?i[f]:f,index:m,offset:u}})},HN=new WeakMap,Gx=function(t,n){if(typeof n!="function")return t;HN.has(t)||HN.set(t,new WeakMap);var r=HN.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},dq=function(t,n,r){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Lp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:l0(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Dh(),realScaleType:"point"}:i==="category"?{scale:Lp(),realScaleType:"band"}:{scale:l0(),realScaleType:"linear"};if(Jl(a)){var c="scale".concat(Pw(a));return{scale:(KI[c]||Dh)(),realScaleType:KI[c]?c:"point"}}return Qe(a)?{scale:a}:{scale:Dh(),realScaleType:"point"}},tD=1e-4,fq=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),i=Math.min(a[0],a[1])-tD,o=Math.max(a[0],a[1])+tD,l=t(n[0]),c=t(n[r-1]);(l<i||l>o||c<i||c>o)&&t.domain([n[0],n[r-1]])}},Rke=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Mke=function(t,n){if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<r)&&(i[0]=r),(!Pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},Ike=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0,l=0;l<n;++l){var c=Gg(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Dke=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var l=Gg(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=i,t[o][r][1]=i+l,i=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},$ke={sign:Ike,expand:mve,none:vf,silhouette:hve,wiggle:pve,positive:Dke},Lke=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),i=$ke[r],o=fve().keys(a).value(function(l,c){return+Pn(l,c,0)}).order(TC).offset(i);return o(t)},Fke=function(t,n,r,a,i,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var h,g=(h=m.type)!==null&&h!==void 0&&h.defaultProps?In(In({},m.type.defaultProps),m.props):m.props,p=g.stackId,x=g.hide;if(x)return f;var v=g[r],b=f[v]||{hasStack:!1,stackGroups:{}};if(lr(p)){var w=b.stackGroups[p]||{numericAxisId:r,cateAxisId:a,items:[]};w.items.push(m),b.hasStack=!0,b.stackGroups[p]=w}else b.stackGroups[gm("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[m]};return In(In({},f),{},Dd({},v,b))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,x){var v=h.stackGroups[x];return In(In({},p),{},Dd({},x,{numericAxisId:r,cateAxisId:a,items:v.items,stackedData:Lke(t,v.items,i)}))},g)}return In(In({},f),{},Dd({},m,h))},d)},mq=function(t,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=JEe(u,i,l);return t.domain([Uw(d),Vw(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),m=eke(f,i,l);return{niceTicks:m}}return null};function nD(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!st(a[t.dataKey])){var l=Vv(n,"value",a[t.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Pn(a,st(o)?t.dataKey:o);return st(c)?null:t.scale(c)}var rD=function(t){var n=t.axis,r=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Pn(o,n.dataKey,n.domain[l]);return st(c)?null:n.scale(c)-i/2+a},Bke=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},Vke=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(lr(i)){var o=n[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Uke=function(t){return t.reduce(function(n,r){return[Uw(r.concat([n[0]]).filter(Pe)),Vw(r.concat([n[1]]).filter(Pe))]},[1/0,-1/0])},hq=function(t,n,r){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Uke(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},sD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i2=function(t,n,r){if(Qe(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Pe(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(sD.test(t[0])){var i=+sD.exec(t[0])[1];a[0]=n[0]-i}else Qe(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Pe(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(aD.test(t[1])){var o=+aD.exec(t[1])[1];a[1]=n[1]+o}else Qe(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},p0=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var i=Ak(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},iD=function(t,n,r){return!t||!t.length||Nm(t,Bs(r,"type.defaultProps.domain"))?n:t},pq=function(t,n){var r=t.type.defaultProps?In(In({},t.type.defaultProps),t.props):t.props,a=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return In(In({},He(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Jk(t),value:Pn(n,a),type:c,payload:n,chartType:u,hide:d})};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function oD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(n),!0).forEach(function(r){gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gq(e,t,n){return t=zke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zke(e){var t=Wke(e,"string");return Kp(t)=="symbol"?t:t+""}function Wke(e,t){if(Kp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qke(e,t){return Yke(e)||Gke(e,t)||Kke(e,t)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kke(e,t){if(e){if(typeof e=="string")return lD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lD(e,t)}}function lD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Yke(e){if(Array.isArray(e))return e}var g0=Math.PI/180,Xke=function(t){return t*180/Math.PI},ln=function(t,n,r,a){return{x:t+Math.cos(-g0*a)*r,y:n+Math.sin(-g0*a)*r}},xq=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qke=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=rs(t.cx,o,o/2),f=rs(t.cy,l,l/2),m=xq(o,l,r),h=rs(t.innerRadius,m,0),g=rs(t.outerRadius,m,m*.8),p=Object.keys(n);return p.reduce(function(x,v){var b=n[v],w=b.domain,N=b.reversed,j;if(st(b.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[h,g]),N&&(j=[j[1],j[0]]);else{j=b.range;var S=j,C=qke(S,2);c=C[0],u=C[1]}var P=dq(b,i),A=P.realScaleType,T=P.scale;T.domain(w).range(j),fq(T);var E=mq(T,Yi(Yi({},b),{},{realScaleType:A})),k=Yi(Yi(Yi({},b),E),{},{range:j,radius:g,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return Yi(Yi({},x),{},gq({},v,k))},{})},Zke=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Jke=function(t,n){var r=t.x,a=t.y,i=n.cx,o=n.cy,l=Zke({x:r,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Xke(u),angleInRadian:u}},eTe=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},tTe=function(t,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},cD=function(t,n){var r=t.x,a=t.y,i=Jke({x:r,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=eTe(n),f=d.startAngle,m=d.endAngle,h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?Yi(Yi({},n),{},{radius:o,angle:tTe(h,n)}):null},yq=function(t){return!y.isValidElement(t)&&!Qe(t)&&typeof t!="boolean"?t.className:""};function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}var nTe=["offset"];function rTe(e){return oTe(e)||iTe(e)||aTe(e)||sTe()}function sTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aTe(e,t){if(e){if(typeof e=="string")return o2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o2(e,t)}}function iTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oTe(e){if(Array.isArray(e))return o2(e)}function o2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lTe(e,t){if(e==null)return{};var n=cTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){uTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uTe(e,t,n){return t=dTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dTe(e){var t=fTe(e,"string");return Gp(t)=="symbol"?t:t+""}function fTe(e,t){if(Gp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yp.apply(this,arguments)}var mTe=function(t){var n=t.value,r=t.formatter,a=st(t.children)?n:t.children;return Qe(r)?r(a):a},hTe=function(t,n){var r=ns(n-t),a=Math.min(Math.abs(n-t),360);return r*a},pTe=function(t,n,r){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+m)/2,v=hTe(h,g),b=v>=0?1:-1,w,N;a==="insideStart"?(w=h+b*o,N=p):a==="insideEnd"?(w=g-b*o,N=!p):a==="end"&&(w=g+b*o,N=p),N=v<=0?N:!N;var j=ln(u,d,x,w),S=ln(u,d,x,w+(N?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),P=st(t.id)?gm("recharts-radial-line-"):t.id;return M.createElement("text",Yp({},r,{dominantBaseline:"central",className:rt("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:P,d:C})),M.createElement("textPath",{xlinkHref:"#".concat(P)},n))},gTe=function(t){var n=t.viewBox,r=t.offset,a=t.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,m=(d+f)/2;if(a==="outside"){var h=ln(o,l,u+r,m),g=h.x,p=h.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=ln(o,l,x,m),b=v.x,w=v.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},xTe=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,i=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*a,h=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*a,v=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return tr(tr({},w),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:g};return tr(tr({},N),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return tr(tr({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return tr(tr({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return i==="insideLeft"?tr({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?tr({x:l+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):i==="insideTop"?tr({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:g},C):i==="insideBottom"?tr({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},C):i==="insideTopLeft"?tr({x:l+x,y:c+m,textAnchor:b,verticalAnchor:g},C):i==="insideTopRight"?tr({x:l+u-x,y:c+m,textAnchor:v,verticalAnchor:g},C):i==="insideBottomLeft"?tr({x:l+x,y:c+d-m,textAnchor:b,verticalAnchor:h},C):i==="insideBottomRight"?tr({x:l+u-x,y:c+d-m,textAnchor:v,verticalAnchor:h},C):fm(i)&&(Pe(i.x)||Uc(i.x))&&(Pe(i.y)||Uc(i.y))?tr({x:l+rs(i.x,u),y:c+rs(i.y,d),textAnchor:"end",verticalAnchor:"end"},C):tr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},yTe=function(t){return"cx"in t&&Pe(t.cx)};function vr(e){var t=e.offset,n=t===void 0?5:t,r=lTe(e,nTe),a=tr({offset:n},r),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,m=a.textBreakAll;if(!i||st(l)&&st(c)&&!y.isValidElement(u)&&!Qe(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var h;if(Qe(u)){if(h=y.createElement(u,a),y.isValidElement(h))return h}else h=mTe(a);var g=yTe(i),p=He(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return pTe(a,h,p);var x=g?gTe(a):xTe(a);return M.createElement(Su,Yp({className:rt("recharts-label",f)},p,x,{breakAll:m}),h)}vr.displayName="Label";var vq=function(t){var n=t.cx,r=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,h=t.top,g=t.left,p=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(Pe(p)&&Pe(x)){if(Pe(f)&&Pe(m))return{x:f,y:m,width:p,height:x};if(Pe(h)&&Pe(g))return{x:h,y:g,width:p,height:x}}return Pe(f)&&Pe(m)?{x:f,y:m,width:0,height:0}:Pe(n)&&Pe(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},vTe=function(t,n){return t?t===!0?M.createElement(vr,{key:"label-implicit",viewBox:n}):lr(t)?M.createElement(vr,{key:"label-implicit",viewBox:n,value:t}):y.isValidElement(t)?t.type===vr?y.cloneElement(t,{key:"label-implicit",viewBox:n}):M.createElement(vr,{key:"label-implicit",content:t,viewBox:n}):Qe(t)?M.createElement(vr,{key:"label-implicit",content:t,viewBox:n}):fm(t)?M.createElement(vr,Yp({viewBox:n},t,{key:"label-implicit"})):null:null},bTe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,i=vq(t),o=Ss(a,vr).map(function(c,u){return y.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=vTe(t.label,n||i);return[l].concat(rTe(o))};vr.parseViewBox=vq;vr.renderCallByParent=bTe;function wTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bq=wTe;const jTe=Mt(bq);function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}var NTe=["valueAccessor"],STe=["data","dataKey","clockWise","id","textBreakAll"];function CTe(e){return kTe(e)||ETe(e)||ATe(e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ATe(e,t){if(e){if(typeof e=="string")return l2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l2(e,t)}}function ETe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kTe(e){if(Array.isArray(e))return l2(e)}function l2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(this,arguments)}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){TTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TTe(e,t,n){return t=OTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OTe(e){var t=_Te(e,"string");return Xp(t)=="symbol"?t:t+""}function _Te(e,t){if(Xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mD(e,t){if(e==null)return{};var n=RTe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var MTe=function(t){return Array.isArray(t.value)?jTe(t.value):t.value};function Ka(e){var t=e.valueAccessor,n=t===void 0?MTe:t,r=mD(e,NTe),a=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=mD(r,STe);return!a||!a.length?null:M.createElement(Ct,{className:"recharts-label-list"},a.map(function(d,f){var m=st(i)?n(d,f):Pn(d&&d.payload,i),h=st(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(vr,x0({},He(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:vr.parseViewBox(st(o)?d:fD(fD({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ka.displayName="LabelList";function ITe(e,t){return e?e===!0?M.createElement(Ka,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Qe(e)?M.createElement(Ka,{key:"labelList-implicit",data:t,content:e}):fm(e)?M.createElement(Ka,x0({data:t},e,{key:"labelList-implicit"})):null:null}function DTe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Ss(r,Ka).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var i=ITe(e.label,t);return[i].concat(CTe(a))}Ka.renderCallByParent=DTe;function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c2.apply(this,arguments)}function hD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(n),!0).forEach(function(r){$Te(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Te(e,t,n){return t=LTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LTe(e){var t=FTe(e,"string");return Qp(t)=="symbol"?t:t+""}function FTe(e,t){if(Qp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BTe=function(t,n){var r=ns(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Yx=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/g0,m=u?i:i+o*f,h=ln(n,r,d,m),g=ln(n,r,a,m),p=u?i-o*f:i,x=ln(n,r,d*Math.cos(f*g0),p);return{center:h,circleTangency:g,lineTangency:x,theta:f}},wq=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=BTe(o,l),u=o+c,d=ln(n,r,i,o),f=ln(n,r,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=ln(n,r,a,o),g=ln(n,r,a,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},VTe=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ns(d-u),m=Yx({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,g=m.lineTangency,p=m.theta,x=Yx({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,w=x.theta,N=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(N<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wq({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var S=Yx({cx:n,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,P=S.lineTangency,A=S.theta,T=Yx({cx:n,cy:r,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=T.circleTangency,k=T.lineTangency,R=T.theta,I=c?Math.abs(u-d):Math.abs(u-d)-A-R;if(I<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},UTe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jq=function(t){var n=pD(pD({},UTe),t),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<i||d===f)return null;var h=rt("recharts-sector",m),g=o-i,p=rs(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=VTe({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=wq({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",c2({},He(n,!0),{className:h,d:x,role:"img"}))};function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function u2(){return u2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u2.apply(this,arguments)}function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){zTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zTe(e,t,n){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WTe(e){var t=qTe(e,"string");return Zp(t)=="symbol"?t:t+""}function qTe(e,t){if(Zp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yD={curveBasisClosed:tve,curveBasisOpen:nve,curveBasis:eve,curveBumpX:Bye,curveBumpY:Vye,curveLinearClosed:rve,curveLinear:Ew,curveMonotoneX:sve,curveMonotoneY:ave,curveNatural:ive,curveStep:ove,curveStepAfter:cve,curveStepBefore:lve},Xx=function(t){return t.x===+t.x&&t.y===+t.y},eh=function(t){return t.x},th=function(t){return t.y},HTe=function(t,n){if(Qe(t))return t;var r="curve".concat(Pw(t));return(r==="curveMonotone"||r==="curveBump")&&n?yD["".concat(r).concat(n==="vertical"?"Y":"X")]:yD[r]||Ew},KTe=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=HTe(r,l),f=u?i.filter(function(p){return Xx(p)}):i,m;if(Array.isArray(o)){var h=u?o.filter(function(p){return Xx(p)}):o,g=f.map(function(p,x){return xD(xD({},p),{},{base:h[x]})});return l==="vertical"?m=Bx().y(th).x1(eh).x0(function(p){return p.base.x}):m=Bx().x(eh).y1(th).y0(function(p){return p.base.y}),m.defined(Xx).curve(d),m(g)}return l==="vertical"&&Pe(o)?m=Bx().y(th).x1(eh).x0(o):Pe(o)?m=Bx().x(eh).y1(th).y0(o):m=mW().x(eh).y(th),m.defined(Xx).curve(d),m(f)},y0=function(t){var n=t.className,r=t.points,a=t.path,i=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?KTe(t):a;return y.createElement("path",u2({},He(t,!1),Uv(t),{className:rt("recharts-curve",n),d:o,ref:i}))},Nq={exports:{}},GTe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YTe=GTe,XTe=YTe;function Sq(){}function Cq(){}Cq.resetWarningCache=Sq;var QTe=function(){function e(r,a,i,o,l,c){if(c!==XTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Cq,resetWarningCache:Sq};return n.PropTypes=n,n};Nq.exports=QTe();var ZTe=Nq.exports;const It=Mt(ZTe);var JTe=Object.getOwnPropertyNames,eOe=Object.getOwnPropertySymbols,tOe=Object.prototype.hasOwnProperty;function vD(e,t){return function(r,a,i){return e(r,a,i)&&t(r,a,i)}}function Qx(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var i=a.cache,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);var c=e(n,r,a);return i.delete(n),i.delete(r),c}}function bD(e){return JTe(e).concat(eOe(e))}var nOe=Object.hasOwn||function(e,t){return tOe.call(e,t)};function Lu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var rOe="__v",sOe="__o",aOe="_owner",wD=Object.getOwnPropertyDescriptor,jD=Object.keys;function iOe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function oOe(e,t){return Lu(e.getTime(),t.getTime())}function lOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cOe(e,t){return e===t}function ND(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var m=o.value,h=l.value;if(n.equals(m[0],h[0],c,f,e,t,n)&&n.equals(m[1],h[1],m[0],h[0],e,t,n)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var uOe=Lu;function dOe(e,t,n){var r=jD(e),a=r.length;if(jD(t).length!==a)return!1;for(;a-- >0;)if(!Pq(e,t,n,r[a]))return!1;return!0}function nh(e,t,n){var r=bD(e),a=r.length;if(bD(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=r[a],!Pq(e,t,n,i)||(o=wD(e,i),l=wD(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function fOe(e,t){return Lu(e.valueOf(),t.valueOf())}function mOe(e,t){return e.source===t.source&&e.flags===t.flags}function SD(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function hOe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function pOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Pq(e,t,n,r){return(r===aOe||r===sOe||r===rOe)&&(e.$$typeof||t.$$typeof)?!0:nOe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var gOe="[object Arguments]",xOe="[object Boolean]",yOe="[object Date]",vOe="[object Error]",bOe="[object Map]",wOe="[object Number]",jOe="[object Object]",NOe="[object RegExp]",SOe="[object Set]",COe="[object String]",POe="[object URL]",AOe=Array.isArray,CD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,PD=Object.assign,EOe=Object.prototype.toString.call.bind(Object.prototype.toString);function kOe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,m=e.areUrlsEqual;return function(g,p,x){if(g===p)return!0;if(g==null||p==null)return!1;var v=typeof g;if(v!==typeof p)return!1;if(v!=="object")return v==="number"?o(g,p,x):v==="function"?a(g,p,x):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,x);if(AOe(g))return t(g,p,x);if(CD!=null&&CD(g))return f(g,p,x);if(b===Date)return n(g,p,x);if(b===RegExp)return u(g,p,x);if(b===Map)return i(g,p,x);if(b===Set)return d(g,p,x);var w=EOe(g);return w===yOe?n(g,p,x):w===NOe?u(g,p,x):w===bOe?i(g,p,x):w===SOe?d(g,p,x):w===jOe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,x):w===POe?m(g,p,x):w===vOe?r(g,p,x):w===gOe?l(g,p,x):w===xOe||w===wOe||w===COe?c(g,p,x):!1}}function TOe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?nh:iOe,areDatesEqual:oOe,areErrorsEqual:lOe,areFunctionsEqual:cOe,areMapsEqual:r?vD(ND,nh):ND,areNumbersEqual:uOe,areObjectsEqual:r?nh:dOe,arePrimitiveWrappersEqual:fOe,areRegExpsEqual:mOe,areSetsEqual:r?vD(SD,nh):SD,areTypedArraysEqual:r?nh:hOe,areUrlsEqual:pOe};if(n&&(a=PD({},a,n(a))),t){var i=Qx(a.areArraysEqual),o=Qx(a.areMapsEqual),l=Qx(a.areObjectsEqual),c=Qx(a.areSetsEqual);a=PD({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function OOe(e){return function(t,n,r,a,i,o,l){return e(t,n,l)}}function _Oe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,i=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,m=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return n(c,u,{cache:m,equals:a,meta:h,strict:i})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return n(c,u,o)}}var ROe=xc();xc({strict:!0});xc({circular:!0});xc({circular:!0,strict:!0});xc({createInternalComparator:function(){return Lu}});xc({strict:!0,createInternalComparator:function(){return Lu}});xc({circular:!0,createInternalComparator:function(){return Lu}});xc({circular:!0,createInternalComparator:function(){return Lu},strict:!0});function xc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=TOe(e),c=kOe(l),u=r?r(c):OOe(c);return _Oe({circular:n,comparator:c,createState:a,equals:u,strict:o})}function MOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function AD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>t?(e(i),n=-1):MOe(a)};requestAnimationFrame(r)}function d2(e){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d2(e)}function IOe(e){return FOe(e)||LOe(e)||$Oe(e)||DOe()}function DOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Oe(e,t){if(e){if(typeof e=="string")return ED(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(e,t)}}function ED(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FOe(e){if(Array.isArray(e))return e}function BOe(){var e={},t=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=IOe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){AD(a.bind(null,u),c);return}a(c),AD(a.bind(null,u));return}d2(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function kD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(n),!0).forEach(function(r){Aq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aq(e,t,n){return t=VOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VOe(e){var t=UOe(e,"string");return Jp(t)==="symbol"?t:String(t)}function UOe(e,t){if(Jp(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zOe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},WOe=function(t){return t},qOe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Lh=function(t,n){return Object.keys(n).reduce(function(r,a){return TD(TD({},r),{},Aq({},a,t(a,n[a])))},{})},OD=function(t,n,r){return t.map(function(a){return"".concat(qOe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function HOe(e,t){return YOe(e)||GOe(e,t)||Eq(e,t)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function YOe(e){if(Array.isArray(e))return e}function XOe(e){return JOe(e)||ZOe(e)||Eq(e)||QOe()}function QOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eq(e,t){if(e){if(typeof e=="string")return f2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f2(e,t)}}function ZOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JOe(e){if(Array.isArray(e))return f2(e)}function f2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v0=1e-4,kq=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Tq=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},_D=function(t,n){return function(r){var a=kq(t,n);return Tq(a,r)}},e_e=function(t,n){return function(r){var a=kq(t,n),i=[].concat(XOe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Tq(i,r)}},RD=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=HOe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=_D(a,o),m=_D(i,l),h=e_e(a,o),g=function(v){return v>1?1:v<0?0:v},p=function(v){for(var b=v>1?1:v,w=b,N=0;N<8;++N){var j=f(w)-b,S=h(w);if(Math.abs(j-b)<v0||S<v0)return m(w);w=g(w-j/S)}return m(w)};return p.isStepper=!1,p},t_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*r,g=m*i,p=m+(h-g)*l/1e3,x=m*l/1e3+d;return Math.abs(x-f)<v0&&Math.abs(p)<v0?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},n_e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return RD(a);case"spring":return t_e();default:if(a.split("(")[0]==="cubic-bezier")return RD(a)}return typeof a=="function"?a:null};function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function MD(e){return a_e(e)||s_e(e)||Oq(e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a_e(e){if(Array.isArray(e))return h2(e)}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){m2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m2(e,t,n){return t=i_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i_e(e){var t=o_e(e,"string");return eg(t)==="symbol"?t:String(t)}function o_e(e,t){if(eg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l_e(e,t){return d_e(e)||u_e(e,t)||Oq(e,t)||c_e()}function c_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return h2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function d_e(e){if(Array.isArray(e))return e}var b0=function(t,n,r){return t+(n-t)*r},p2=function(t){var n=t.from,r=t.to;return n!==r},f_e=function e(t,n,r){var a=Lh(function(i,o){if(p2(o)){var l=t(o.from,o.to,o.velocity),c=l_e(l,2),u=c[0],d=c[1];return Nr(Nr({},o),{},{from:u,velocity:d})}return o},n);return r<1?Lh(function(i,o){return p2(o)?Nr(Nr({},o),{},{velocity:b0(o.velocity,a[i].velocity,r),from:b0(o.from,a[i].from,r)}):o},n):e(t,a,r-1)};const m_e=function(e,t,n,r,a){var i=zOe(e,t),o=i.reduce(function(x,v){return Nr(Nr({},x),{},m2({},v,[e[v],t[v]]))},{}),l=i.reduce(function(x,v){return Nr(Nr({},x),{},m2({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Lh(function(v,b){return b.from},l)},h=function(){return!Object.values(l).filter(p2).length},g=function(v){u||(u=v);var b=v-u,w=b/n.dt;l=f_e(n,l,w),a(Nr(Nr(Nr({},e),t),m())),u=v,h()||(c=requestAnimationFrame(f))},p=function(v){d||(d=v);var b=(v-d)/r,w=Lh(function(j,S){return b0.apply(void 0,MD(S).concat([n(b)]))},o);if(a(Nr(Nr(Nr({},e),t),w)),b<1)c=requestAnimationFrame(f);else{var N=Lh(function(j,S){return b0.apply(void 0,MD(S).concat([n(1)]))},o);a(Nr(Nr(Nr({},e),t),N))}};return f=n.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}var h_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function p_e(e,t){if(e==null)return{};var n=g_e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g_e(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function KN(e){return b_e(e)||v_e(e)||y_e(e)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_e(e,t){if(e){if(typeof e=="string")return g2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(e,t)}}function v_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b_e(e){if(Array.isArray(e))return g2(e)}function g2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(n),!0).forEach(function(r){xh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xh(e,t,n){return t=_q(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j_e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_q(r.key),r)}}function N_e(e,t,n){return t&&j_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _q(e){var t=S_e(e,"string");return Ef(t)==="symbol"?t:String(t)}function S_e(e,t){if(Ef(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x2(e,t)}function x2(e,t){return x2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},x2(e,t)}function P_e(e){var t=A_e();return function(){var r=w0(e),a;if(t){var i=w0(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return y2(this,a)}}function y2(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v2(e)}function v2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function w0(e){return w0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w0(e)}var Za=function(e){C_e(n,e);var t=P_e(n);function n(r,a){var i;w_e(this,n),i=t.call(this,r,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(v2(i)),i.changeStyle=i.changeStyle.bind(v2(i)),!l||h<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:d}),y2(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof m=="function")return i.state={style:u},y2(i);i.state={style:c?xh({},c,u):u}}else i.state={style:{}};return i}return N_e(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,m=this.state.style;if(l){if(!o){var h={style:c?xh({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(ROe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&m){var x={style:c?xh({},c,p):p};(c&&m[c]!==p||!c&&m!==p)&&this.setState(x)}this.runAnimation(ka(ka({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,m=a.onAnimationStart,h=m_e(o,l,n_e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=h()};this.manager.start([m,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(p,x,v){if(v===0)return p;var b=x.duration,w=x.easing,N=w===void 0?"ease":w,j=x.style,S=x.properties,C=x.onAnimationEnd,P=v>0?o[v-1]:x,A=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(KN(p),[i.runJSAnimation.bind(i,{from:P.style,to:j,duration:b,easing:N}),b]);var T=OD(A,b,N),E=ka(ka(ka({},P.style),j),{},{transition:T});return[].concat(KN(p),[E,b,C]).filter(WOe)};return this.manager.start([c].concat(KN(o.reduce(h,[d,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=BOe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,m=a.steps,h=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var p=l?xh({},l,c):c,x=OD(Object.keys(p),o,u);g.start([d,i,ka(ka({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=p_e(a,h_e),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(h){var g=h.props,p=g.style,x=p===void 0?{}:p,v=g.className,b=y.cloneElement(h,ka(ka({},c),{},{style:ka(ka({},x),d),className:v}));return b};return u===1?f(y.Children.only(i)):M.createElement("div",null,y.Children.map(i,function(m){return f(m)}))}}]),n}(y.PureComponent);Za.displayName="Animate";Za.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Za.propTypes={from:It.oneOfType([It.object,It.string]),to:It.oneOfType([It.object,It.string]),attributeName:It.string,duration:It.number,begin:It.number,easing:It.oneOfType([It.string,It.func]),steps:It.arrayOf(It.shape({duration:It.number.isRequired,style:It.object.isRequired,easing:It.oneOfType([It.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),It.func]),properties:It.arrayOf("string"),onAnimationEnd:It.func})),children:It.oneOfType([It.node,It.func]),isActive:It.bool,canBegin:It.bool,onAnimationEnd:It.func,shouldReAnimate:It.bool,onAnimationStart:It.func,onAnimationReStart:It.func};function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(this,arguments)}function E_e(e,t){return __e(e)||O_e(e,t)||T_e(e,t)||k_e()}function k_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(e,t){if(e){if(typeof e=="string")return $D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(e,t)}}function $D(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O_e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function __e(e){if(Array.isArray(e))return e}function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(r){R_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R_e(e,t,n){return t=M_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_e(e){var t=I_e(e,"string");return tg(t)=="symbol"?t:t+""}function I_e(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BD=function(t,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+a)),d+="L ".concat(t+c*f[3],",").concat(n+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+a,`
            L `).concat(t+c*g,",").concat(n+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},D_e=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return r>=u&&r<=d&&a>=f&&a<=m}return!1},$_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eT=function(t){var n=FD(FD({},$_e),t),r=y.useRef(),a=y.useState(-1),i=E_e(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,h=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=rt("recharts-rectangle",h);return b?M.createElement(Za,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(N){var j=N.width,S=N.height,C=N.x,P=N.y;return M.createElement(Za,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:v,easing:g},M.createElement("path",j0({},He(n,!0),{className:w,d:BD(C,P,j,S,m),ref:r})))}):M.createElement("path",j0({},He(n,!0),{className:w,d:BD(c,u,d,f,m)}))},L_e=["points","className","baseLinePoints","connectNulls"];function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vd.apply(this,arguments)}function F_e(e,t){if(e==null)return{};var n=B_e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B_e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VD(e){return W_e(e)||z_e(e)||U_e(e)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_e(e,t){if(e){if(typeof e=="string")return b2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b2(e,t)}}function z_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W_e(e){if(Array.isArray(e))return b2(e)}function b2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UD=function(t){return t&&t.x===+t.x&&t.y===+t.y},q_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){UD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),UD(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Fh=function(t,n){var r=q_e(t);n&&(r=[r.reduce(function(i,o){return[].concat(VD(i),VD(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},H_e=function(t,n,r){var a=Fh(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Fh(n.reverse(),r).slice(1))},K_e=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,i=t.connectNulls,o=F_e(t,L_e);if(!n||!n.length)return null;var l=rt("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=H_e(n,a,i);return M.createElement("g",{className:l},M.createElement("path",vd({},He(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",vd({},He(o,!0),{fill:"none",d:Fh(n,i)})):null,c?M.createElement("path",vd({},He(o,!0),{fill:"none",d:Fh(a,i)})):null)}var d=Fh(n,i);return M.createElement("path",vd({},He(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w2.apply(this,arguments)}var qw=function(t){var n=t.cx,r=t.cy,a=t.r,i=t.className,o=rt("recharts-dot",i);return n===+n&&r===+r&&a===+a?y.createElement("circle",w2({},He(t,!1),Uv(t),{className:o,cx:n,cy:r,r:a})):null};function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}var G_e=["x","y","top","left","width","height","className"];function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j2.apply(this,arguments)}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Y_e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){X_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X_e(e,t,n){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q_e(e){var t=Z_e(e,"string");return ng(t)=="symbol"?t:t+""}function Z_e(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e,t){if(e==null)return{};var n=eRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var tRe=function(t,n,r,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},nRe=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,h=m===void 0?0:m,g=t.className,p=J_e(t,G_e),x=Y_e({x:r,y:i,top:l,left:u,width:f,height:h},p);return!Pe(r)||!Pe(i)||!Pe(f)||!Pe(h)||!Pe(l)||!Pe(u)?null:M.createElement("path",j2({},He(x,!0),{className:rt("recharts-cross",g),d:tRe(r,i,f,h,l,u)}))},rRe=Bw,sRe=z7,aRe=Vi;function iRe(e,t){return e&&e.length?rRe(e,aRe(t),sRe):void 0}var oRe=iRe;const lRe=Mt(oRe);var cRe=Bw,uRe=Vi,dRe=W7;function fRe(e,t){return e&&e.length?cRe(e,uRe(t),dRe):void 0}var mRe=fRe;const hRe=Mt(mRe);var pRe=["cx","cy","angle","ticks","axisLine"],gRe=["ticks","tick","angle","tickFormatter","stroke"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(this,arguments)}function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){Hw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qD(e,t){if(e==null)return{};var n=xRe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mq(r.key),r)}}function vRe(e,t,n){return t&&HD(e.prototype,t),n&&HD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bRe(e,t,n){return t=N0(t),wRe(e,Rq()?Reflect.construct(t,n||[],N0(e).constructor):t.apply(e,n))}function wRe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jRe(e)}function jRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!e})()}function N0(e){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N0(e)}function NRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N2(e,t)}function N2(e,t){return N2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},N2(e,t)}function Hw(e,t,n){return t=Mq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=SRe(e,"string");return kf(t)=="symbol"?t:t+""}function SRe(e,t){if(kf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kw=function(e){function t(){return yRe(this,t),bRe(this,t,arguments)}return NRe(t,e),vRe(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return ln(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=lRe(l,function(d){return d.coordinate||0}),u=hRe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=qD(r,pRe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=ln(a,i,d[0],o),m=ln(a,i,d[1],o),h=Sc(Sc(Sc({},He(u,!1)),{},{fill:"none"},He(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return M.createElement("line",Bh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=qD(a,gRe),f=this.getTickTextAnchor(),m=He(d,!1),h=He(o,!1),g=i.map(function(p,x){var v=r.getTickValueCoord(p),b=Sc(Sc(Sc(Sc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(v.x,", ").concat(v.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:x},v),{},{payload:p});return M.createElement(Ct,Bh({className:rt("recharts-polar-radius-axis-tick",yq(o)),key:"tick-".concat(p.coordinate)},ec(r.props,p,x)),t.renderTickItem(o,b,c?c(p.value,x):p.value))});return M.createElement(Ct,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:M.createElement(Ct,{className:rt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),vr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,a):Qe(r)?o=r(a):o=M.createElement(Su,Bh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);Hw(Kw,"displayName","PolarRadiusAxis");Hw(Kw,"axisType","radiusAxis");Hw(Kw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mc.apply(this,arguments)}function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KD(Object(n),!0).forEach(function(r){Gw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dq(r.key),r)}}function PRe(e,t,n){return t&&GD(e.prototype,t),n&&GD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ARe(e,t,n){return t=S0(t),ERe(e,Iq()?Reflect.construct(t,n||[],S0(e).constructor):t.apply(e,n))}function ERe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(e)}function kRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!e})()}function S0(e){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(e)}function TRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S2(e,t)}function S2(e,t){return S2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},S2(e,t)}function Gw(e,t,n){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dq(e){var t=ORe(e,"string");return Tf(t)=="symbol"?t:t+""}function ORe(e,t){if(Tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _Re=Math.PI/180,YD=1e-5,Yw=function(e){function t(){return CRe(this,t),ARe(this,t,arguments)}return TRe(t,e),PRe(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=ln(i,o,l,r.coordinate),m=ln(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*_Re),o;return i>YD?o=a==="outer"?"start":"end":i<-YD?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Cc(Cc({},He(this.props,!1)),{},{fill:"none"},He(l,!1));if(c==="circle")return M.createElement(qw,Mc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(m){return ln(a,i,o,m.coordinate)});return M.createElement(K_e,Mc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=He(this.props,!1),f=He(o,!1),m=Cc(Cc({},d),{},{fill:"none"},He(l,!1)),h=i.map(function(g,p){var x=r.getTickLineCoord(g),v=r.getTickTextAnchor(g),b=Cc(Cc(Cc({textAnchor:v},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:x.x2,y:x.y2});return M.createElement(Ct,Mc({className:rt("recharts-polar-angle-axis-tick",yq(o)),key:"tick-".concat(g.coordinate)},ec(r.props,g,p)),l&&M.createElement("line",Mc({className:"recharts-polar-angle-axis-tick-line"},m,x)),o&&t.renderTickItem(o,b,c?c(g.value,p):g.value))});return M.createElement(Ct,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:M.createElement(Ct,{className:rt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,a):Qe(r)?o=r(a):o=M.createElement(Su,Mc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);Gw(Yw,"displayName","PolarAngleAxis");Gw(Yw,"axisType","angleAxis");Gw(Yw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var RRe=$W,MRe=RRe(Object.getPrototypeOf,Object),tT=MRe,IRe=Fo,DRe=tT,$Re=oi,LRe="[object Object]",FRe=Function.prototype,BRe=Object.prototype,$q=FRe.toString,VRe=BRe.hasOwnProperty,URe=$q.call(Object);function zRe(e){if(!$Re(e)||IRe(e)!=LRe)return!1;var t=DRe(e);if(t===null)return!0;var n=VRe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$q.call(n)==URe}var Lq=zRe;const WRe=Mt(Lq);var qRe=Fo,HRe=oi,KRe="[object Boolean]";function GRe(e){return e===!0||e===!1||HRe(e)&&qRe(e)==KRe}var YRe=GRe;const XRe=Mt(YRe);function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C0.apply(this,arguments)}function QRe(e,t){return t4e(e)||e4e(e,t)||JRe(e,t)||ZRe()}function ZRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JRe(e,t){if(e){if(typeof e=="string")return XD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(e,t)}}function XD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e4e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function t4e(e){if(Array.isArray(e))return e}function QD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(n),!0).forEach(function(r){n4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n4e(e,t,n){return t=r4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r4e(e){var t=s4e(e,"string");return rg(t)=="symbol"?t:t+""}function s4e(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JD=function(t,n,r,a,i){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+i),l+="L ".concat(t+r-o/2-a,",").concat(n+i),l+="L ".concat(t,",").concat(n," Z"),l},a4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},i4e=function(t){var n=ZD(ZD({},a4e),t),r=y.useRef(),a=y.useState(-1),i=QRe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,h=n.className,g=n.animationEasing,p=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var b=rt("recharts-trapezoid",h);return v?M.createElement(Za,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(w){var N=w.upperWidth,j=w.lowerWidth,S=w.height,C=w.x,P=w.y;return M.createElement(Za,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},M.createElement("path",C0({},He(n,!0),{className:b,d:JD(C,P,N,j,S),ref:r})))}):M.createElement("g",null,M.createElement("path",C0({},He(n,!0),{className:b,d:JD(c,u,d,f,m)})))},o4e=["option","shapeType","propTransformer","activeClassName","isActive"];function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function l4e(e,t){if(e==null)return{};var n=c4e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){u4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u4e(e,t,n){return t=d4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4e(e){var t=f4e(e,"string");return sg(t)=="symbol"?t:t+""}function f4e(e,t){if(sg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m4e(e,t){return P0(P0({},t),e)}function h4e(e,t){return e==="symbols"}function t$(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return M.createElement(eT,n);case"trapezoid":return M.createElement(i4e,n);case"sector":return M.createElement(jq,n);case"symbols":if(h4e(t))return M.createElement(fk,n);break;default:return null}}function Fq(e){return y.isValidElement(e)?e.props:e}function nT(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?m4e:r,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=l4e(e,o4e),u;if(y.isValidElement(t))u=y.cloneElement(t,P0(P0({},c),Fq(t)));else if(Qe(t))u=t(c);else if(WRe(t)&&!XRe(t)){var d=a(t,c);u=M.createElement(t$,{shapeType:n,elementProps:d})}else{var f=c;u=M.createElement(t$,{shapeType:n,elementProps:f})}return l?M.createElement(Ct,{className:o},u):u}function Xw(e,t){return t!=null&&"trapezoids"in e.props}function Qw(e,t){return t!=null&&"sectors"in e.props}function ag(e,t){return t!=null&&"points"in e.props}function p4e(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&i}function g4e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function x4e(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function y4e(e,t){var n;return Xw(e,t)?n=p4e:Qw(e,t)?n=g4e:ag(e,t)&&(n=x4e),n}function v4e(e,t){var n;return Xw(e,t)?n="trapezoids":Qw(e,t)?n="sectors":ag(e,t)&&(n="points"),n}function b4e(e,t){if(Xw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ag(e,t)?t.payload:{}}function w4e(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=v4e(n,t),i=b4e(n,t),o=r.filter(function(c,u){var d=Nm(i,c),f=n.props[a].filter(function(g){var p=y4e(n,t);return p(g,t)}),m=n.props[a].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=r.indexOf(o[o.length-1]);return l}var Ay;function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bd.apply(this,arguments)}function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){ca(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vq(r.key),r)}}function N4e(e,t,n){return t&&r$(e.prototype,t),n&&r$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S4e(e,t,n){return t=A0(t),C4e(e,Bq()?Reflect.construct(t,n||[],A0(e).constructor):t.apply(e,n))}function C4e(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P4e(e)}function P4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function A0(e){return A0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A0(e)}function A4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C2(e,t)}function C2(e,t){return C2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},C2(e,t)}function ca(e,t,n){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=E4e(e,"string");return Of(t)=="symbol"?t:t+""}function E4e(e,t){if(Of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ui=function(e){function t(n){var r;return j4e(this,t),r=S4e(this,t,[n]),ca(r,"pieRef",null),ca(r,"sectorRefs",[]),ca(r,"id",gm("recharts-pie-")),ca(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Qe(a)&&a()}),ca(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Qe(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return A4e(t,e),N4e(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=He(this.props,!1),f=He(o,!1),m=He(l,!1),h=o&&o.offsetRadius||20,g=r.map(function(p,x){var v=(p.startAngle+p.endAngle)/2,b=ln(p.cx,p.cy,p.outerRadius+h,v),w=sn(sn(sn(sn({},d),p),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(b.x,p.cx)},b),N=sn(sn(sn(sn({},d),p),{},{fill:"none",stroke:p.fill},m),{},{index:x,points:[ln(p.cx,p.cy,p.outerRadius,v),b]}),j=c;return st(c)&&st(u)?j="value":st(c)&&(j=u),M.createElement(Ct,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},l&&t.renderLabelLineItem(l,N,"line"),t.renderLabelItem(o,w,Pn(p,j)))});return M.createElement(Ct,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=a.isActiveIndex(d),m=c&&a.hasActiveIndex()?c:null,h=f?o:m,g=sn(sn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(Ct,bd({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ec(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(nT,bd({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return M.createElement(Za,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,x=[],v=i&&i[0],b=v.startAngle;return i.forEach(function(w,N){var j=m&&m[N],S=N>0?Bs(w,"paddingAngle",0):0;if(j){var C=Nn(j.endAngle-j.startAngle,w.endAngle-w.startAngle),P=sn(sn({},w),{},{startAngle:b+S,endAngle:b+C(p)+S});x.push(P),b=P.endAngle}else{var A=w.endAngle,T=w.startAngle,E=Nn(0,A-T),k=E(p),R=sn(sn({},w),{},{startAngle:b+S,endAngle:b+k+S});x.push(R),b=R.endAngle}}),M.createElement(Ct,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Nm(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,m=a.outerRadius,h=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!Pe(u)||!Pe(d)||!Pe(f)||!Pe(m))return null;var p=rt("recharts-pie",l);return M.createElement(Ct,{tabIndex:this.props.rootTabIndex,className:p,ref:function(v){r.pieRef=v}},this.renderSectors(),c&&this.renderLabels(o),vr.renderCallByParent(this.props,null,!1),(!h||g)&&Ka.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(M.isValidElement(r))return M.cloneElement(r,a);if(Qe(r))return r(a);var o=rt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return M.createElement(y0,bd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(M.isValidElement(r))return M.cloneElement(r,a);var o=i;if(Qe(r)&&(o=r(a),M.isValidElement(o)))return o;var l=rt("recharts-pie-label-text",typeof r!="boolean"&&!Qe(r)?r.className:"");return M.createElement(Su,bd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);Ay=Ui;ca(Ui,"displayName","Pie");ca(Ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ca(Ui,"parseDeltaAngle",function(e,t){var n=ns(t-e),r=Math.min(Math.abs(t-e),360);return n*r});ca(Ui,"getRealPieData",function(e){var t=e.data,n=e.children,r=He(e,!1),a=Ss(n,hc);return t&&t.length?t.map(function(i,o){return sn(sn(sn({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return sn(sn({},r),i.props)}):[]});ca(Ui,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,i=t.height,o=xq(a,i),l=r+rs(e.cx,a,a/2),c=n+rs(e.cy,i,i/2),u=rs(e.innerRadius,o,0),d=rs(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ca(Ui,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?sn(sn({},t.type.defaultProps),t.props):t.props,a=Ay.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,m=r.tooltipType,h=Math.abs(r.minAngle),g=Ay.parseCoordinateOfPie(r,n),p=Ay.parseDeltaAngle(o,l),x=Math.abs(p),v=u;st(u)&&st(f)?(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):st(u)&&(Ha(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=f);var b=a.filter(function(P){return Pn(P,v,0)!==0}).length,w=(x>=360?b:b-1)*c,N=x-b*h-w,j=a.reduce(function(P,A){var T=Pn(A,v,0);return P+(Pe(T)?T:0)},0),S;if(j>0){var C;S=a.map(function(P,A){var T=Pn(P,v,0),E=Pn(P,d,A),k=(Pe(T)?T:0)/j,R;A?R=C.endAngle+ns(p)*c*(T!==0?1:0):R=o;var I=R+ns(p)*((T!==0?h:0)+k*N),D=(R+I)/2,B=(g.innerRadius+g.outerRadius)/2,V=[{name:E,value:T,payload:P,dataKey:v,type:m}],O=ln(g.cx,g.cy,B,D);return C=sn(sn(sn({percent:k,cornerRadius:i,name:E,tooltipPayload:V,midAngle:D,middleRadius:B,tooltipPosition:O},P),g),{},{value:Pn(P,v),startAngle:R,endAngle:I,payload:P,paddingAngle:ns(p)*c}),C})}return sn(sn({},g),{},{sectors:S,data:a})});var k4e=Math.ceil,T4e=Math.max;function O4e(e,t,n,r){for(var a=-1,i=T4e(k4e((t-e)/(n||1)),0),o=Array(i);i--;)o[r?i:++a]=e,e+=n;return o}var _4e=O4e,R4e=s7,s$=1/0,M4e=17976931348623157e292;function I4e(e){if(!e)return e===0?e:0;if(e=R4e(e),e===s$||e===-s$){var t=e<0?-1:1;return t*M4e}return e===e?e:0}var Uq=I4e,D4e=_4e,$4e=Rw,GN=Uq;function L4e(e){return function(t,n,r){return r&&typeof r!="number"&&$4e(t,n,r)&&(n=r=void 0),t=GN(t),n===void 0?(n=t,t=0):n=GN(n),r=r===void 0?t<n?1:-1:GN(r),D4e(t,n,r,e)}}var F4e=L4e,B4e=F4e,V4e=B4e(),U4e=V4e;const E0=Mt(U4e);function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function a$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a$(Object(n),!0).forEach(function(r){zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zq(e,t,n){return t=z4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z4e(e){var t=W4e(e,"string");return ig(t)=="symbol"?t:t+""}function W4e(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q4e=["Webkit","Moz","O","ms"],H4e=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=q4e.reduce(function(i,o){return i$(i$({},i),{},zq({},o+r,n))},{});return a[t]=n,a};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(this,arguments)}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){Ts(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qq(r.key),r)}}function G4e(e,t,n){return t&&l$(e.prototype,t),n&&l$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y4e(e,t,n){return t=T0(t),X4e(e,Wq()?Reflect.construct(t,n||[],T0(e).constructor):t.apply(e,n))}function X4e(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(e)}function Q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function T0(e){return T0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T0(e)}function Z4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P2(e,t)}function P2(e,t){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},P2(e,t)}function Ts(e,t,n){return t=qq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=J4e(e,"string");return _f(t)=="symbol"?t:t+""}function J4e(e,t){if(_f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eMe=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Dh().domain(E0(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},c$=function(t){return t.changedTouches&&!!t.changedTouches.length},Rf=function(e){function t(n){var r;return K4e(this,t),r=Y4e(this,t,[n]),Ts(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),Ts(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),Ts(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Ts(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ts(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ts(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ts(r,"handleSlideDragStart",function(a){var i=c$(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Z4e(t,e),G4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),m=Math.max(a,i),h=t.getIndexInRange(o,f),g=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Pn(i[r],l,r);return Qe(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,g=c.onChange,p=r.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==m||x.endIndex!==h)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=c$(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=r.pageX-i;b>0?b=Math.min(b,f+m-h-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var w=this.getIndex(v),N=w.startIndex,j=w.endIndex,S=function(){var P=x.length-1;return o==="startX"&&(l>c?N%p===0:j%p===0)||l<c&&j===P||o==="endX"&&(l>c?j%p===0:N%p===0)||l>c&&j===P};this.setState(Ts(Ts({},o,u+b),"brushMoveStartX",r.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var m=f+r;if(!(m===-1||m>=l.length)){var h=l[m];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Ts({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=y.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,v=Math.max(r,this.props.x),b=YN(YN({},He(this.props,!1)),{},{x:v,y:u,width:d,height:f}),w=h||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return M.createElement(Ct,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,b))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,a)+u,f=Math.max(Math.abs(a-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,m=d.endX,h=5,g={pointerEvents:"none",fill:u};return M.createElement(Ct,{className:"recharts-brush-texts"},M.createElement(Su,k0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},g),this.getTextOfTick(a)),M.createElement(Su,k0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,m=this.state,h=m.startX,g=m.endX,p=m.isTextActive,x=m.isSlideMoving,v=m.isTravellerMoving,b=m.isTravellerFocused;if(!a||!a.length||!Pe(l)||!Pe(c)||!Pe(u)||!Pe(d)||u<=0||d<=0)return null;var w=rt("recharts-brush",i),N=M.Children.count(o)===1,j=H4e("userSelect","none");return M.createElement(Ct,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return M.isValidElement(r)?i=M.cloneElement(r,a):Qe(r)?i=r(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return YN({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?eMe({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(y.PureComponent);Ts(Rf,"displayName","Brush");Ts(Rf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var tMe=Pk;function nMe(e,t){var n;return tMe(e,function(r,a,i){return n=t(r,a,i),!n}),!!n}var rMe=nMe,sMe=EW,aMe=Vi,iMe=rMe,oMe=us,lMe=Rw;function cMe(e,t,n){var r=oMe(e)?sMe:iMe;return n&&lMe(e,t,n)&&(t=void 0),r(e,aMe(t))}var uMe=cMe;const dMe=Mt(uMe);var Ti=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},u$=ZW;function fMe(e,t,n){t=="__proto__"&&u$?u$(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var rT=fMe,mMe=rT,hMe=YW,pMe=Vi;function gMe(e,t){var n={};return t=pMe(t),hMe(e,function(r,a,i){mMe(n,a,t(r,a,i))}),n}var xMe=gMe;const yMe=Mt(xMe);function vMe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var bMe=vMe,wMe=Pk;function jMe(e,t){var n=!0;return wMe(e,function(r,a,i){return n=!!t(r,a,i),n}),n}var NMe=jMe,SMe=bMe,CMe=NMe,PMe=Vi,AMe=us,EMe=Rw;function kMe(e,t,n){var r=AMe(e)?SMe:CMe;return n&&EMe(e,t,n)&&(t=void 0),r(e,PMe(t))}var TMe=kMe;const Hq=Mt(TMe);var OMe=["x","y"];function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A2.apply(this,arguments)}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){_Me(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Me(e,t,n){return t=RMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RMe(e){var t=MMe(e,"string");return og(t)=="symbol"?t:t+""}function MMe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IMe(e,t){if(e==null)return{};var n=DMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $Me(e,t){var n=e.x,r=e.y,a=IMe(e,OMe),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),m=parseInt(f,10);return rh(rh(rh(rh(rh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function f$(e){return M.createElement(nT,A2({shapeType:"rectangle",propTransformer:$Me,activeClassName:"recharts-active-bar"},e))}var LMe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var i=Pe(r)||Pxe(r);return i?t(r,a):(i||Pu(),n)}},FMe=["value","background"],Kq;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function BMe(e,t){if(e==null)return{};var n=VMe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(this,arguments)}function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){wl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yq(r.key),r)}}function zMe(e,t,n){return t&&h$(e.prototype,t),n&&h$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function WMe(e,t,n){return t=_0(t),qMe(e,Gq()?Reflect.construct(t,n||[],_0(e).constructor):t.apply(e,n))}function qMe(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HMe(e)}function HMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function _0(e){return _0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_0(e)}function KMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E2(e,t)}function E2(e,t){return E2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},E2(e,t)}function wl(e,t,n){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e){var t=GMe(e,"string");return Mf(t)=="symbol"?t:t+""}function GMe(e,t){if(Mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yc=function(e){function t(){var n;UMe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=WMe(this,t,[].concat(a)),wl(n,"state",{isAnimationFinished:!1}),wl(n,"id",gm("recharts-bar-")),wl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),wl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return KMe(t,e),zMe(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=He(this.props,!1);return r&&r.map(function(f,m){var h=m===c,g=h?u:o,p=Kn(Kn(Kn({},d),f),{},{isActive:h,option:g,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(Ct,O0({className:"recharts-bar-rectangle"},ec(a.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),M.createElement(f$,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,m=this.state.prevData;return M.createElement(Za,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,p=i.map(function(x,v){var b=m&&m[v];if(b){var w=Nn(b.x,x.x),N=Nn(b.y,x.y),j=Nn(b.width,x.width),S=Nn(b.height,x.height);return Kn(Kn({},x),{},{x:w(g),y:N(g),width:j(g),height:S(g)})}if(o==="horizontal"){var C=Nn(0,x.height),P=C(g);return Kn(Kn({},x),{},{y:x.y+x.height-P,height:P})}var A=Nn(0,x.width),T=A(g);return Kn(Kn({},x),{},{width:T})});return M.createElement(Ct,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Nm(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=He(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,m=BMe(u,FMe);if(!f)return null;var h=Kn(Kn(Kn(Kn(Kn({},m),{},{fill:"#eee"},f),c),ec(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(f$,O0({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ss(d,Jg);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:Pn(x,v)}},g={clipPath:r?"url(#clipPath-".concat(a,")"):null};return M.createElement(Ct,g,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,h=r.isAnimationActive,g=r.background,p=r.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=rt("recharts-bar",o),b=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,N=b||w,j=st(p)?this.id:p;return M.createElement(Ct,{className:v},b||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(j)},M.createElement("rect",{x:b?u:u-f/2,y:w?d:d-m/2,width:b?f:f*2,height:w?m:m*2}))):null,M.createElement(Ct,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!h||x)&&Ka.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(y.PureComponent);Kq=yc;wl(yc,"displayName","Bar");wl(yc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wl(yc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=Rke(r,n);if(!h)return null;var g=t.layout,p=n.type.defaultProps,x=p!==void 0?Kn(Kn({},p),n.props):n.props,v=x.dataKey,b=x.children,w=x.minPointSize,N=g==="horizontal"?o:i,j=u?N.scale.domain():null,S=Bke({numericAxis:N}),C=Ss(b,hc),P=f.map(function(A,T){var E,k,R,I,D,B;u?E=Mke(u[d+T],j):(E=Pn(A,v),Array.isArray(E)||(E=[S,E]));var V=LMe(w,Kq.defaultProps.minPointSize)(E[1],T);if(g==="horizontal"){var O,_=[o.scale(E[0]),o.scale(E[1])],z=_[0],ne=_[1];k=rD({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:A,index:T}),R=(O=ne??z)!==null&&O!==void 0?O:void 0,I=h.size;var Y=z-ne;if(D=Number.isNaN(Y)?0:Y,B={x:k,y:o.y,width:I,height:o.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var Q=ns(D||V)*(Math.abs(V)-Math.abs(D));R-=Q,D+=Q}}else{var ie=[i.scale(E[0]),i.scale(E[1])],ae=ie[0],ge=ie[1];if(k=ae,R=rD({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:A,index:T}),I=ge-ae,D=h.size,B={x:i.x,y:R,width:i.width,height:D},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var $=ns(I||V)*(Math.abs(V)-Math.abs(I));I+=$}}return Kn(Kn(Kn({},A),{},{x:k,y:R,width:I,height:D,value:u?E:E[1],payload:A,background:B},C&&C[T]&&C[T].props),{},{tooltipPayload:[pq(n,A)],tooltipPosition:{x:k+I/2,y:R+D/2}})});return Kn({data:P,layout:g},m)});function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function YMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xq(r.key),r)}}function XMe(e,t,n){return t&&p$(e.prototype,t),n&&p$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g$(Object(n),!0).forEach(function(r){Zw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zw(e,t,n){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xq(e){var t=QMe(e,"string");return lg(t)=="symbol"?t:t+""}function QMe(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qq=function(t,n,r,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!_s(u,yc);return d.reduce(function(h,g){var p=n[g],x=p.orientation,v=p.domain,b=p.padding,w=b===void 0?{}:b,N=p.mirror,j=p.reversed,S="".concat(x).concat(N?"Mirror":""),C,P,A,T,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var k=v[1]-v[0],R=1/0,I=p.categoricalDomain.sort(kxe);if(I.forEach(function(ie,ae){ae>0&&(R=Math.min((ie||0)-(I[ae-1]||0),R))}),Number.isFinite(R)){var D=R/k,B=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(C=D*B/2),p.padding==="no-gap"){var V=rs(t.barCategoryGap,D*B),O=D*B/2;C=O-V-(O-V)/B*V}}}a==="xAxis"?P=[r.left+(w.left||0)+(C||0),r.left+r.width-(w.right||0)-(C||0)]:a==="yAxis"?P=c==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(C||0),r.top+r.height-(w.bottom||0)-(C||0)]:P=p.range,j&&(P=[P[1],P[0]]);var _=dq(p,i,m),z=_.scale,ne=_.realScaleType;z.domain(v).range(P),fq(z);var Y=mq(z,Da(Da({},p),{},{realScaleType:ne}));a==="xAxis"?(E=x==="top"&&!N||x==="bottom"&&N,A=r.left,T=f[S]-E*p.height):a==="yAxis"&&(E=x==="left"&&!N||x==="right"&&N,A=f[S]-E*p.width,T=r.top);var Q=Da(Da(Da({},p),Y),{},{realScaleType:ne,x:A,y:T,scale:z,width:a==="xAxis"?r.width:p.width,height:a==="yAxis"?r.height:p.height});return Q.bandSize=p0(Q,Y),!p.hide&&a==="xAxis"?f[S]+=(E?-1:1)*Q.height:p.hide||(f[S]+=(E?-1:1)*Q.width),Da(Da({},h),{},Zw({},g,Q))},{})},Zq=function(t,n){var r=t.x,a=t.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},ZMe=function(t){var n=t.x1,r=t.y1,a=t.x2,i=t.y2;return Zq({x:n,y:r},{x:a,y:i})},Jq=function(){function e(t){YMe(this,e),this.scale=t}return XMe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Zw(Jq,"EPS",1e-4);var sT=function(t){var n=Object.keys(t).reduce(function(r,a){return Da(Da({},r),{},Zw({},a,Jq.create(t[a])))},{});return Da(Da({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return yMe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Hq(a,function(i,o){return n[o].isInRange(i)})}})};function JMe(e){return(e%180+180)%180}var eIe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=JMe(a),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},tIe=Vi,nIe=ym,rIe=vm;function sIe(e){return function(t,n,r){var a=Object(t);if(!nIe(t)){var i=tIe(n);t=rIe(t),n=function(l){return i(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[i?t[o]:o]:void 0}}var aIe=sIe,iIe=Uq;function oIe(e){var t=iIe(e),n=t%1;return t===t?n?t-n:t:0}var lIe=oIe,cIe=WW,uIe=Vi,dIe=lIe,fIe=Math.max;function mIe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:dIe(n);return a<0&&(a=fIe(r+a,0)),cIe(e,uIe(t),a)}var hIe=mIe,pIe=aIe,gIe=hIe,xIe=pIe(gIe),yIe=xIe;const vIe=Mt(yIe);var bIe=Rge(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),aT=y.createContext(void 0),iT=y.createContext(void 0),eH=y.createContext(void 0),tH=y.createContext({}),nH=y.createContext(void 0),rH=y.createContext(0),sH=y.createContext(0),x$=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=bIe(i);return M.createElement(aT.Provider,{value:r},M.createElement(iT.Provider,{value:a},M.createElement(tH.Provider,{value:i},M.createElement(eH.Provider,{value:d},M.createElement(nH.Provider,{value:o},M.createElement(rH.Provider,{value:u},M.createElement(sH.Provider,{value:c},l)))))))},wIe=function(){return y.useContext(nH)},aH=function(t){var n=y.useContext(aT);n==null&&Pu();var r=n[t];return r==null&&Pu(),r},jIe=function(){var t=y.useContext(aT);return il(t)},NIe=function(){var t=y.useContext(iT),n=vIe(t,function(r){return Hq(r.domain,Number.isFinite)});return n||il(t)},iH=function(t){var n=y.useContext(iT);n==null&&Pu();var r=n[t];return r==null&&Pu(),r},SIe=function(){var t=y.useContext(eH);return t},CIe=function(){return y.useContext(tH)},oT=function(){return y.useContext(sH)},lT=function(){return y.useContext(rH)};function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function PIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lH(r.key),r)}}function EIe(e,t,n){return t&&AIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kIe(e,t,n){return t=R0(t),TIe(e,oH()?Reflect.construct(t,n||[],R0(e).constructor):t.apply(e,n))}function TIe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OIe(e)}function OIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!e})()}function R0(e){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(e)}function _Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k2(e,t)}function k2(e,t){return k2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},k2(e,t)}function y$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function v$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y$(Object(n),!0).forEach(function(r){cT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cT(e,t,n){return t=lH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lH(e){var t=RIe(e,"string");return If(t)=="symbol"?t:t+""}function RIe(e,t){if(If(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function MIe(e,t){return LIe(e)||$Ie(e,t)||DIe(e,t)||IIe()}function IIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DIe(e,t){if(e){if(typeof e=="string")return b$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b$(e,t)}}function b$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $Ie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function LIe(e){if(Array.isArray(e))return e}function T2(){return T2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T2.apply(this,arguments)}var FIe=function(t,n){var r;return M.isValidElement(t)?r=M.cloneElement(t,n):Qe(t)?r=t(n):r=M.createElement("line",T2({},n,{className:"recharts-reference-line-line"})),r},BIe=function(t,n,r,a,i,o,l,c,u){var d=i.x,f=i.y,m=i.width,h=i.height;if(r){var g=u.y,p=t.y.apply(g,{position:o});if(Ti(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+m,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(n){var v=u.x,b=t.x.apply(v,{position:o});if(Ti(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+h},{x:b,y:f}];return l==="top"?w.reverse():w}if(a){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:o})});return Ti(u,"discard")&&dMe(j,function(S){return!t.isInRange(S)})?null:j}return null};function VIe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=wIe(),d=aH(a),f=iH(i),m=SIe();if(!u||!m)return null;Ha(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=sT({x:d.scale,y:f.scale}),g=lr(t),p=lr(n),x=r&&r.length===2,v=BIe(h,g,p,x,m,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=MIe(v,2),w=b[0],N=w.x,j=w.y,S=b[1],C=S.x,P=S.y,A=Ti(e,"hidden")?"url(#".concat(u,")"):void 0,T=v$(v$({clipPath:A},He(e,!0)),{},{x1:N,y1:j,x2:C,y2:P});return M.createElement(Ct,{className:rt("recharts-reference-line",l)},FIe(o,T),vr.renderCallByParent(e,ZMe({x1:N,y1:j,x2:C,y2:P})))}var uT=function(e){function t(){return PIe(this,t),kIe(this,t,arguments)}return _Ie(t,e),EIe(t,[{key:"render",value:function(){return M.createElement(VIe,this.props)}}])}(M.Component);cT(uT,"displayName","ReferenceLine");cT(uT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function O2(){return O2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O2.apply(this,arguments)}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function w$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w$(Object(n),!0).forEach(function(r){Jw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uH(r.key),r)}}function WIe(e,t,n){return t&&zIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qIe(e,t,n){return t=M0(t),HIe(e,cH()?Reflect.construct(t,n||[],M0(e).constructor):t.apply(e,n))}function HIe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(e)}function KIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function M0(e){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(e)}function GIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_2(e,t)}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_2(e,t)}function Jw(e,t,n){return t=uH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=YIe(e,"string");return Df(t)=="symbol"?t:t+""}function YIe(e,t){if(Df(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XIe=function(t){var n=t.x,r=t.y,a=t.xAxis,i=t.yAxis,o=sT({x:a.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ti(t,"discard")&&!o.isInRange(l)?null:l},ej=function(e){function t(){return UIe(this,t),qIe(this,t,arguments)}return GIe(t,e),WIe(t,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=lr(a),d=lr(i);if(Ha(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=XIe(this.props);if(!f)return null;var m=f.x,h=f.y,g=this.props,p=g.shape,x=g.className,v=Ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=j$(j$({clipPath:v},He(this.props,!0)),{},{cx:m,cy:h});return M.createElement(Ct,{className:rt("recharts-reference-dot",x)},t.renderDot(p,b),vr.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(M.Component);Jw(ej,"displayName","ReferenceDot");Jw(ej,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jw(ej,"renderDot",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):Qe(e)?n=e(t):n=M.createElement(qw,O2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R2.apply(this,arguments)}function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function N$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function S$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N$(Object(n),!0).forEach(function(r){tj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fH(r.key),r)}}function JIe(e,t,n){return t&&ZIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eDe(e,t,n){return t=I0(t),tDe(e,dH()?Reflect.construct(t,n||[],I0(e).constructor):t.apply(e,n))}function tDe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nDe(e)}function nDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function I0(e){return I0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I0(e)}function rDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M2(e,t)}function M2(e,t){return M2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},M2(e,t)}function tj(e,t,n){return t=fH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fH(e){var t=sDe(e,"string");return $f(t)=="symbol"?t:t+""}function sDe(e,t){if($f(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aDe=function(t,n,r,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var m=sT({x:d.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Ti(i,"discard")&&(!m.isInRange(h)||!m.isInRange(g))?null:Zq(h,g)},nj=function(e){function t(){return QIe(this,t),eDe(this,t,arguments)}return rDe(t,e),JIe(t,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Ha(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=lr(a),m=lr(i),h=lr(o),g=lr(l),p=this.props.shape;if(!f&&!m&&!h&&!g&&!p)return null;var x=aDe(f,m,h,g,this.props);if(!x&&!p)return null;var v=Ti(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(Ct,{className:rt("recharts-reference-area",c)},t.renderRect(p,S$(S$({clipPath:v},He(this.props,!0)),x)),vr.renderCallByParent(this.props,x))}}])}(M.Component);tj(nj,"displayName","ReferenceArea");tj(nj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});tj(nj,"renderRect",function(e,t){var n;return M.isValidElement(e)?n=M.cloneElement(e,t):Qe(e)?n=e(t):n=M.createElement(eT,R2({},t,{className:"recharts-reference-area-rect"})),n});function mH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function iDe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return eIe(r,n)}function oDe(e,t,n){var r=n==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:r?a:i,end:r?a+o:i+l}:{start:r?a+o:i+l,end:r?a:i}}function D0(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function lDe(e,t){return mH(e,t+1)}function cDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:mH(r,u)};var p=c,x,v=function(){return x===void 0&&(x=n(g,p)),x},b=g.coordinate,w=c===0||D0(e,b,v,d,l);w||(c=0,d=o,u+=1),w&&(d=b+e*(v()/2+a),c+=u)},m;u<=i.length;)if(m=f(),m)return m.v;return[]}function cg(e){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cg(e)}function C$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C$(Object(n),!0).forEach(function(r){uDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uDe(e,t,n){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dDe(e){var t=fDe(e,"string");return cg(t)=="symbol"?t:t+""}function fDe(e,t){if(cg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mDe(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(m){var h=i[m],g,p=function(){return g===void 0&&(g=n(h,m)),g};if(m===o-1){var x=e*(h.coordinate+e*p()/2-c);i[m]=h=Lr(Lr({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else i[m]=h=Lr(Lr({},h),{},{tickCoord:h.coordinate});var v=D0(e,h.tickCoord,p,l,c);v&&(c=h.tickCoord-e*(p()/2+a),i[m]=Lr(Lr({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function hDe(e,t,n,r,a,i){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=r[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=Lr(Lr({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=D0(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Lr(Lr({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(b){var w=o[b],N,j=function(){return N===void 0&&(N=n(w,b)),N};if(b===0){var S=e*(w.coordinate-e*j()/2-c);o[b]=w=Lr(Lr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[b]=w=Lr(Lr({},w),{},{tickCoord:w.coordinate});var C=D0(e,w.tickCoord,j,c,u);C&&(c=w.tickCoord+e*(j()/2+a),o[b]=Lr(Lr({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function dT(e,t,n){var r=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!r)return[];if(Pe(c)||mc.isSsr)return lDe(a,typeof c=="number"&&Pe(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?Ih(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(w,N){var j=Qe(u)?u(w.value,N):w.value;return h==="width"?iDe(Ih(j,{fontSize:t,letterSpacing:n}),g,f):Ih(j,{fontSize:t,letterSpacing:n})[h]},x=a.length>=2?ns(a[1].coordinate-a[0].coordinate):1,v=oDe(i,x,h);return c==="equidistantPreserveStart"?cDe(x,v,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=hDe(x,v,p,a,o,c==="preserveStartEnd"):m=mDe(x,v,p,a,o),m.filter(function(b){return b.isShow}))}var pDe=["viewBox"],gDe=["viewBox"],xDe=["ticks"];function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function P$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P$(Object(n),!0).forEach(function(r){fT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XN(e,t){if(e==null)return{};var n=yDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pH(r.key),r)}}function bDe(e,t,n){return t&&A$(e.prototype,t),n&&A$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wDe(e,t,n){return t=$0(t),jDe(e,hH()?Reflect.construct(t,n||[],$0(e).constructor):t.apply(e,n))}function jDe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NDe(e)}function NDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function $0(e){return $0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$0(e)}function SDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I2(e,t)}function I2(e,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},I2(e,t)}function fT(e,t,n){return t=pH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=CDe(e,"string");return Lf(t)=="symbol"?t:t+""}function CDe(e,t){if(Lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Pm=function(e){function t(n){var r;return vDe(this,t),r=wDe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return SDe(t,e),bDe(t,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=XN(r,pDe),l=this.props,c=l.viewBox,u=XN(l,gDe);return!Md(i,c)||!Md(o,u)||!Md(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,m=a.tickMargin,h,g,p,x,v,b,w=f?-1:1,N=r.tickSize||d,j=Pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=g=r.coordinate,x=o+ +!f*c,p=x-w*N,b=p-w*m,v=j;break;case"left":p=x=r.coordinate,g=i+ +!f*l,h=g-w*N,v=h-w*m,b=j;break;case"right":p=x=r.coordinate,g=i+ +f*l,h=g+w*N,v=h+w*m,b=j;break;default:h=g=r.coordinate,x=o+ +f*c,p=x+w*N,b=p+w*m,v=j;break}return{line:{x1:h,y1:p,x2:g,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=er(er(er({},He(this.props,!1)),He(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=er(er({},f),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=er(er({},f),{},{x1:a+h*o,y1:i,x2:a+h*o,y2:i+l})}return M.createElement("line",wd({},f,{className:rt("recharts-cartesian-axis-line",Bs(d,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=dT(er(er({},this.props),{},{ticks:r}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=He(this.props,!1),v=He(d,!1),b=er(er({},x),{},{fill:"none"},He(c,!1)),w=h.map(function(N,j){var S=o.getTickLineCoord(N),C=S.line,P=S.tick,A=er(er(er(er({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},v),P),{},{index:j,payload:N,visibleTicksCount:h.length,tickFormatter:f});return M.createElement(Ct,wd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ec(o.props,N,j)),c&&M.createElement("line",wd({},b,C,{className:rt("recharts-cartesian-axis-tick-line",Bs(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(Qe(f)?f(N.value,j):N.value).concat(m||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,m=f.ticks,h=XN(f,xDe),g=m;return Qe(c)&&(g=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!g||!g.length?null:M.createElement(Ct,{className:rt("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,l=rt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(r)?o=M.cloneElement(r,er(er({},a),{},{className:l})):Qe(r)?o=r(er(er({},a),{},{className:l})):o=M.createElement(Su,wd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);fT(Pm,"displayName","CartesianAxis");fT(Pm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var PDe=["x1","y1","x2","y2","key"],ADe=["offset"];function Au(e){"@babel/helpers - typeof";return Au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}function E$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E$(Object(n),!0).forEach(function(r){EDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EDe(e,t,n){return t=kDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kDe(e){var t=TDe(e,"string");return Au(t)=="symbol"?t:t+""}function TDe(e,t){if(Au(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}function k$(e,t){if(e==null)return{};var n=ODe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ODe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var _De=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gH(e,t){var n;if(M.isValidElement(e))n=M.cloneElement(e,t);else if(Qe(e))n=e(t);else{var r=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=k$(t,PDe),u=He(c,!1);u.offset;var d=k$(u,ADe);n=M.createElement("line",qc({},d,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function RDe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ur(Ur({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return gH(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function MDe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Ur(Ur({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return gH(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function IDe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var g=!d[h+1],p=g?a+o-m:d[h+1]-m;if(p<=0)return null;var x=h%t.length;return M.createElement("rect",{key:"react-".concat(h),y:m,x:r,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function DDe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var g=!d[h+1],p=g?i+l-m:d[h+1]-m;if(p<=0)return null;var x=h%r.length;return M.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:p,height:c,stroke:"none",fill:r[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var $De=function(t,n){var r=t.xAxis,a=t.width,i=t.height,o=t.offset;return uq(dT(Ur(Ur(Ur({},Pm.defaultProps),r),{},{ticks:io(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},LDe=function(t,n){var r=t.yAxis,a=t.width,i=t.height,o=t.offset;return uq(dT(Ur(Ur(Ur({},Pm.defaultProps),r),{},{ticks:io(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Ku={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ex(e){var t,n,r,a,i,o,l=oT(),c=lT(),u=CIe(),d=Ur(Ur({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ku.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ku.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Ku.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Ku.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Ku.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Ku.verticalFill,x:Pe(e.x)?e.x:u.left,y:Pe(e.y)?e.y:u.top,width:Pe(e.width)?e.width:u.width,height:Pe(e.height)?e.height:u.height}),f=d.x,m=d.y,h=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,b=jIe(),w=NIe();if(!Pe(h)||h<=0||!Pe(g)||g<=0||!Pe(f)||f!==+f||!Pe(m)||m!==+m)return null;var N=d.verticalCoordinatesGenerator||$De,j=d.horizontalCoordinatesGenerator||LDe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&Qe(j)){var P=x&&x.length,A=j({yAxis:w?Ur(Ur({},w),{},{ticks:P?x:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Ha(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Au(A),"]")),Array.isArray(A)&&(S=A)}if((!C||!C.length)&&Qe(N)){var T=v&&v.length,E=N({xAxis:b?Ur(Ur({},b),{},{ticks:T?v:b.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Ha(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Au(E),"]")),Array.isArray(E)&&(C=E)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(_De,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(RDe,qc({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),M.createElement(MDe,qc({},d,{offset:u,verticalPoints:C,xAxis:b,yAxis:w})),M.createElement(IDe,qc({},d,{horizontalPoints:S})),M.createElement(DDe,qc({},d,{verticalPoints:C})))}ex.displayName="CartesianGrid";var FDe=["type","layout","connectNulls","ref"],BDe=["key"];function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function T$(e,t){if(e==null)return{};var n=VDe(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function VDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vh.apply(this,arguments)}function O$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Es(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O$(Object(n),!0).forEach(function(r){$a(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gu(e){return qDe(e)||WDe(e)||zDe(e)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDe(e,t){if(e){if(typeof e=="string")return D2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D2(e,t)}}function WDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qDe(e){if(Array.isArray(e))return D2(e)}function D2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yH(r.key),r)}}function KDe(e,t,n){return t&&_$(e.prototype,t),n&&_$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GDe(e,t,n){return t=L0(t),YDe(e,xH()?Reflect.construct(t,n||[],L0(e).constructor):t.apply(e,n))}function YDe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XDe(e)}function XDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function L0(e){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(e)}function QDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}function $2(e,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$2(e,t)}function $a(e,t,n){return t=yH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=ZDe(e,"string");return Ff(t)=="symbol"?t:t+""}function ZDe(e,t){if(Ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oi=function(e){function t(){var n;HDe(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=GDe(this,t,[].concat(a)),$a(n,"state",{isAnimationFinished:!0,totalLength:0}),$a(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),$a(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,b){return v+b});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){h=[].concat(Gu(c.slice(0,g)),[f-p]);break}var x=h.length%2===0?[0,m]:[m];return[].concat(Gu(t.repeat(c,d)),Gu(h),x).map(function(v){return"".concat(v,"px")}).join(", ")}),$a(n,"id",gm("recharts-line-")),$a(n,"pathRef",function(o){n.mainCurve=o}),$a(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$a(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return QDe(t,e),KDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ss(d,Jg);if(!f)return null;var m=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Pn(p.payload,x)}},h={clipPath:r?"url(#clipPath-".concat(a,")"):null};return M.createElement(Ct,h,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=He(this.props,!1),m=He(c,!0),h=u.map(function(p,x){var v=Es(Es(Es({key:"dot-".concat(x),r:3},f),m),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,v)}),g={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(Ct,Vh({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(r,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=T$(l,FDe),m=Es(Es(Es({},He(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return M.createElement(y0,Vh({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,v=this.state,b=v.prevPoints,w=v.totalLength;return M.createElement(Za,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(b){var S=b.length/l.length,C=l.map(function(k,R){var I=Math.floor(R*S);if(b[I]){var D=b[I],B=Nn(D.x,k.x),V=Nn(D.y,k.y);return Es(Es({},k),{},{x:B(j),y:V(j)})}if(g){var O=Nn(p*2,k.x),_=Nn(x/2,k.y);return Es(Es({},k),{},{x:O(j),y:_(j)})}return Es(Es({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(C,r,a)}var P=Nn(0,w),A=P(j),T;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});T=i.getStrokeDasharray(A,w,E)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,r,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Nm(u,o))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(o,r,a)}},{key:"render",value:function(){var r,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,m=a.left,h=a.width,g=a.height,p=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,w=rt("recharts-line",c),N=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=N||j,C=st(x)?this.id:x,P=(r=He(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},A=P.r,T=A===void 0?3:A,E=P.strokeWidth,k=E===void 0?2:E,R=Lxe(o)?o:{},I=R.clipDot,D=I===void 0?!0:I,B=T*2+k;return M.createElement(Ct,{className:w},N||j?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(C)},M.createElement("rect",{x:N?m:m-h/2,y:j?f:f-g/2,width:N?h:h*2,height:j?g:g*2})),!D&&M.createElement("clipPath",{id:"clipPath-dots-".concat(C)},M.createElement("rect",{x:m-B/2,y:f-B/2,width:h+B,height:g+B}))):null,!b&&this.renderCurve(S,C),this.renderErrorBar(S,C),(b||o)&&this.renderDots(S,D,C),(!p||v)&&Ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var i=r.length%2!==0?[].concat(Gu(r),[0]):r,o=[],l=0;l<a;++l)o=[].concat(Gu(o),Gu(i));return o}},{key:"renderDotItem",value:function(r,a){var i;if(M.isValidElement(r))i=M.cloneElement(r,a);else if(Qe(r))i=r(a);else{var o=a.key,l=T$(a,BDe),c=rt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=M.createElement(qw,Vh({key:o},l,{className:c}))}return i}}])}(y.PureComponent);$a(Oi,"displayName","Line");$a(Oi,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$a(Oi,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,h){var g=Pn(m,o);return d==="horizontal"?{x:nD({axis:n,ticks:a,bandSize:l,entry:m,index:h}),y:st(g)?null:r.scale(g),value:g,payload:m}:{x:st(g)?null:n.scale(g),y:nD({axis:r,ticks:i,bandSize:l,entry:m,index:h}),value:g,payload:m}});return Es({points:f,layout:d},u)});function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function JDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wH(r.key),r)}}function t$e(e,t,n){return t&&e$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$e(e,t,n){return t=F0(t),r$e(e,vH()?Reflect.construct(t,n||[],F0(e).constructor):t.apply(e,n))}function r$e(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(e)}function s$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function F0(e){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F0(e)}function a$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L2(e,t)}function L2(e,t){return L2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},L2(e,t)}function bH(e,t,n){return t=wH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wH(e){var t=i$e(e,"string");return Bf(t)=="symbol"?t:t+""}function i$e(e,t){if(Bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F2.apply(this,arguments)}function o$e(e){var t=e.xAxisId,n=oT(),r=lT(),a=aH(t);return a==null?null:y.createElement(Pm,F2({},a,{className:rt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return io(o,!0)}}))}var vc=function(e){function t(){return JDe(this,t),n$e(this,t,arguments)}return a$e(t,e),t$e(t,[{key:"render",value:function(){return y.createElement(o$e,this.props)}}])}(y.Component);bH(vc,"displayName","XAxis");bH(vc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function l$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SH(r.key),r)}}function u$e(e,t,n){return t&&c$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$e(e,t,n){return t=B0(t),f$e(e,jH()?Reflect.construct(t,n||[],B0(e).constructor):t.apply(e,n))}function f$e(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m$e(e)}function m$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jH=function(){return!!e})()}function B0(e){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},B0(e)}function h$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B2(e,t)}function B2(e,t){return B2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},B2(e,t)}function NH(e,t,n){return t=SH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=p$e(e,"string");return Vf(t)=="symbol"?t:t+""}function p$e(e,t){if(Vf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function V2(){return V2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V2.apply(this,arguments)}var g$e=function(t){var n=t.yAxisId,r=oT(),a=lT(),i=iH(n);return i==null?null:y.createElement(Pm,V2({},i,{className:rt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return io(l,!0)}}))},bc=function(e){function t(){return l$e(this,t),d$e(this,t,arguments)}return h$e(t,e),u$e(t,[{key:"render",value:function(){return y.createElement(g$e,this.props)}}])}(y.Component);NH(bc,"displayName","YAxis");NH(bc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function R$(e){return b$e(e)||v$e(e)||y$e(e)||x$e()}function x$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y$e(e,t){if(e){if(typeof e=="string")return U2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U2(e,t)}}function v$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b$e(e){if(Array.isArray(e))return U2(e)}function U2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z2=function(t,n,r,a,i){var o=Ss(t,uT),l=Ss(t,ej),c=[].concat(R$(o),R$(l)),u=Ss(t,nj),d="".concat(a,"Id"),f=a[0],m=n;if(c.length&&(m=c.reduce(function(p,x){if(x.props[d]===r&&Ti(x.props,"extendDomain")&&Pe(x.props[f])){var v=x.props[f];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},m)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");m=u.reduce(function(p,x){if(x.props[d]===r&&Ti(x.props,"extendDomain")&&Pe(x.props[h])&&Pe(x.props[g])){var v=x.props[h],b=x.props[g];return[Math.min(p[0],v,b),Math.max(p[1],v,b)]}return p},m)}return i&&i.length&&(m=i.reduce(function(p,x){return Pe(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},m)),m},CH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,m),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var p=n?n+u:u;if(!this._events[p])return!1;var x=this._events[p],v=arguments.length,b,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,m),!0;case 5:return x.fn.call(x.context,d,f,m,h),!0;case 6:return x.fn.call(x.context,d,f,m,h,g),!0}for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];x.fn.apply(x.context,b)}else{var N=x.length,j;for(w=0;w<N;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),v){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,m);break;default:if(!b)for(j=1,b=new Array(v-1);j<v;j++)b[j-1]=arguments[j];x[w].fn.apply(x[w].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var p=0,x=[],v=g.length;p<v;p++)(g[p].fn!==d||m&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[h]=x.length===1?x[0]:x:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(CH);var w$e=CH.exports;const j$e=Mt(w$e);var QN=new j$e,ZN="recharts.syncMouseEvents";function ug(e){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(e)}function N$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PH(r.key),r)}}function C$e(e,t,n){return t&&S$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JN(e,t,n){return t=PH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=P$e(e,"string");return ug(t)=="symbol"?t:t+""}function P$e(e,t){if(ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A$e=function(){function e(){N$e(this,e),JN(this,"activeIndex",0),JN(this,"coordinateList",[]),JN(this,"layout","horizontal")}return C$e(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function E$e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Pe(r)&&Pe(a))return!0}return!1}function k$e(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function AH(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,i=e.endAngle,o=ln(t,n,r,a),l=ln(t,n,r,i);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}function T$e(e,t,n){var r,a,i,o;if(e==="horizontal")r=t.x,i=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=ln(l,c,u,f),h=ln(l,c,d,f);r=m.x,a=m.y,i=h.x,o=h.y}else return AH(t);return[{x:r,y:a},{x:i,y:o}]}function dg(e){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(e)}function M$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M$(Object(n),!0).forEach(function(r){O$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O$e(e,t,n){return t=_$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _$e(e){var t=R$e(e,"string");return dg(t)=="symbol"?t:t+""}function R$e(e,t){if(dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$e(e){var t,n,r=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var g,p=y0;if(m==="ScatterChart")g=o,p=nRe;else if(m==="BarChart")g=k$e(f,o,c,d),p=eT;else if(f==="radial"){var x=AH(o),v=x.cx,b=x.cy,w=x.radius,N=x.startAngle,j=x.endAngle;g={cx:v,cy:b,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},p=jq}else g={points:T$e(f,o,c)},p=y0;var S=Zx(Zx(Zx(Zx({stroke:"#ccc",pointerEvents:"none"},c),g),He(h,!1)),{},{payload:l,payloadIndex:u,className:rt("recharts-tooltip-cursor",h.className)});return y.isValidElement(h)?y.cloneElement(h,S):y.createElement(p,S)}var I$e=["item"],D$e=["children","className","width","height","style","compact","title","desc"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jd.apply(this,arguments)}function I$(e,t){return F$e(e)||L$e(e,t)||kH(e,t)||$$e()}function $$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function F$e(e){if(Array.isArray(e))return e}function D$(e,t){if(e==null)return{};var n=B$e(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function B$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function V$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TH(r.key),r)}}function z$e(e,t,n){return t&&U$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W$e(e,t,n){return t=V0(t),q$e(e,EH()?Reflect.construct(t,n||[],V0(e).constructor):t.apply(e,n))}function q$e(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H$e(e)}function H$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(e)}function K$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W2(e,t)}function W2(e,t){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},W2(e,t)}function zf(e){return X$e(e)||Y$e(e)||kH(e)||G$e()}function G$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(e,t){if(e){if(typeof e=="string")return q2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(e,t)}}function Y$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function X$e(e){if(Array.isArray(e))return q2(e)}function q2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$$(Object(n),!0).forEach(function(r){Xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xe(e,t,n){return t=TH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TH(e){var t=Q$e(e,"string");return Uf(t)=="symbol"?t:t+""}function Q$e(e,t){if(Uf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z$e={xAxis:["bottom","top"],yAxis:["left","right"]},J$e={width:"100%",height:"100%"},OH={x:0,y:0};function Jx(e){return e}var e5e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},t5e=function(t,n,r,a){var i=n.find(function(d){return d&&d.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return he(he(he({},a),ln(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return he(he(he({},a),ln(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return OH},rj=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zf(l),zf(u)):l},[]);return o.length>0?o:t&&t.length&&Pe(a)&&Pe(i)?t.slice(a,i+1):[]};function _H(e){return e==="number"?[0,"auto"]:void 0}var H2=function(t,n,r,a){var i=t.graphicalItems,o=t.tooltipAxis,l=rj(n,t);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=Vv(h,o.dataKey,a)}else m=f&&f[r]||l[r];return m?[].concat(zf(c),[pq(u,m)]):c},[])},L$=function(t,n,r,a){var i=a||{x:t.chartX,y:t.chartY},o=e5e(i,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Ake(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=H2(t,n,d,f),h=t5e(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},n5e=function(t,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,h=cq(d,i);return r.reduce(function(g,p){var x,v=p.type.defaultProps!==void 0?he(he({},p.type.defaultProps),p.props):p.props,b=v.type,w=v.dataKey,N=v.allowDataOverflow,j=v.allowDuplicatedCategory,S=v.scale,C=v.ticks,P=v.includeHidden,A=v[o];if(g[A])return g;var T=rj(t.data,{graphicalItems:a.filter(function(Y){var Q,ie=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o];return ie===A}),dataStartIndex:c,dataEndIndex:u}),E=T.length,k,R,I;E$e(v.domain,N,b)&&(k=i2(v.domain,null,N),h&&(b==="number"||S!=="auto")&&(I=$h(T,w,"category")));var D=_H(b);if(!k||k.length===0){var B,V=(B=v.domain)!==null&&B!==void 0?B:D;if(w){if(k=$h(T,w,b),b==="category"&&h){var O=Exe(k);j&&O?(R=k,k=E0(0,E)):j||(k=iD(V,k,p).reduce(function(Y,Q){return Y.indexOf(Q)>=0?Y:[].concat(zf(Y),[Q])},[]))}else if(b==="category")j?k=k.filter(function(Y){return Y!==""&&!st(Y)}):k=iD(V,k,p).reduce(function(Y,Q){return Y.indexOf(Q)>=0||Q===""||st(Q)?Y:[].concat(zf(Y),[Q])},[]);else if(b==="number"){var _=_ke(T,a.filter(function(Y){var Q,ie,ae=o in Y.props?Y.props[o]:(Q=Y.type.defaultProps)===null||Q===void 0?void 0:Q[o],ge="hide"in Y.props?Y.props.hide:(ie=Y.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return ae===A&&(P||!ge)}),w,i,d);_&&(k=_)}h&&(b==="number"||S!=="auto")&&(I=$h(T,w,"category"))}else h?k=E0(0,E):l&&l[A]&&l[A].hasStack&&b==="number"?k=m==="expand"?[0,1]:hq(l[A].stackGroups,c,u):k=lq(T,a.filter(function(Y){var Q=o in Y.props?Y.props[o]:Y.type.defaultProps[o],ie="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return Q===A&&(P||!ie)}),b,d,!0);if(b==="number")k=z2(f,k,A,i,C),V&&(k=i2(V,k,N));else if(b==="category"&&V){var z=V,ne=k.every(function(Y){return z.indexOf(Y)>=0});ne&&(k=z)}}return he(he({},g),{},Xe({},A,he(he({},v),{},{axisType:i,domain:k,categoricalDomain:I,duplicateDomain:R,originalDomain:(x=v.domain)!==null&&x!==void 0?x:D,isCategorical:h,layout:d})))},{})},r5e=function(t,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=rj(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),h=m.length,g=cq(d,i),p=-1;return r.reduce(function(x,v){var b=v.type.defaultProps!==void 0?he(he({},v.type.defaultProps),v.props):v.props,w=b[o],N=_H("number");if(!x[w]){p++;var j;return g?j=E0(0,h):l&&l[w]&&l[w].hasStack?(j=hq(l[w].stackGroups,c,u),j=z2(f,j,w,i)):(j=i2(N,lq(m,r.filter(function(S){var C,P,A=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],T="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),j=z2(f,j,w,i)),he(he({},x),{},Xe({},w,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:Bs(Z$e,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:N,isCategorical:g,layout:d})))}return x},{})},s5e=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(a,"Id"),m=Ss(d,i),h={};return m&&m.length?h=n5e(t,{axes:m,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=r5e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},a5e=function(t){var n=il(t),r=io(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Ak(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:p0(n,r)}},F$=function(t){var n=t.children,r=t.defaultShowTooltip,a=_s(n,Rf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},i5e=function(t){return!t||!t.length?!1:t.some(function(n){var r=uo(n&&n.type);return r&&r.indexOf("Bar")>=0})},B$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},o5e=function(t,n){var r=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,m=r.margin||{},h=_s(f,Rf),g=_s(f,iu),p=Object.keys(c).reduce(function(j,S){var C=c[S],P=C.orientation;return!C.mirror&&!C.hide?he(he({},j),{},Xe({},P,j[P]+C.width)):j},{left:m.left||0,right:m.right||0}),x=Object.keys(o).reduce(function(j,S){var C=o[S],P=C.orientation;return!C.mirror&&!C.hide?he(he({},j),{},Xe({},P,Bs(j,"".concat(P))+C.height)):j},{top:m.top||0,bottom:m.bottom||0}),v=he(he({},x),p),b=v.bottom;h&&(v.bottom+=h.props.height||Rf.defaultProps.height),g&&n&&(v=Tke(v,a,r,n));var w=u-v.left-v.right,N=d-v.top-v.bottom;return he(he({brushBottom:b},v),{},{width:Math.max(w,0),height:Math.max(N,0)})},l5e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},sj=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(v,b){var w=b.graphicalItems,N=b.stackGroups,j=b.offset,S=b.updateId,C=b.dataStartIndex,P=b.dataEndIndex,A=v.barSize,T=v.layout,E=v.barGap,k=v.barCategoryGap,R=v.maxBarSize,I=B$(T),D=I.numericAxisName,B=I.cateAxisName,V=i5e(w),O=[];return w.forEach(function(_,z){var ne=rj(v.data,{graphicalItems:[_],dataStartIndex:C,dataEndIndex:P}),Y=_.type.defaultProps!==void 0?he(he({},_.type.defaultProps),_.props):_.props,Q=Y.dataKey,ie=Y.maxBarSize,ae=Y["".concat(D,"Id")],ge=Y["".concat(B,"Id")],$={},J=c.reduce(function(ee,W){var oe=b["".concat(W.axisType,"Map")],fe=Y["".concat(W.axisType,"Id")];oe&&oe[fe]||W.axisType==="zAxis"||Pu();var xe=oe[fe];return he(he({},ee),{},Xe(Xe({},W.axisType,xe),"".concat(W.axisType,"Ticks"),io(xe)))},$),Z=J[B],L=J["".concat(B,"Ticks")],ce=N&&N[ae]&&N[ae].hasStack&&Vke(_,N[ae].stackGroups),H=uo(_.type).indexOf("Bar")>=0,Se=p0(Z,L),U=[],re=V&&Eke({barSize:A,stackGroups:N,totalSize:l5e(J,B)});if(H){var me,Fe,ut=st(ie)?R:ie,mt=(me=(Fe=p0(Z,L,!0))!==null&&Fe!==void 0?Fe:ut)!==null&&me!==void 0?me:0;U=kke({barGap:E,barCategoryGap:k,bandSize:mt!==Se?mt:Se,sizeList:re[ge],maxBarSize:ut}),mt!==Se&&(U=U.map(function(ee){return he(he({},ee),{},{position:he(he({},ee.position),{},{offset:ee.position.offset-mt/2})})}))}var q=_&&_.type&&_.type.getComposedData;q&&O.push({props:he(he({},q(he(he({},J),{},{displayedData:ne,props:v,dataKey:Q,item:_,bandSize:Se,barPosition:U,offset:j,stackedData:ce,layout:T,dataStartIndex:C,dataEndIndex:P}))),{},Xe(Xe(Xe({key:_.key||"item-".concat(z)},D,J[D]),B,J[B]),"animationId",S)),childIndex:Vxe(_,v.children),item:_})}),O},h=function(v,b){var w=v.props,N=v.dataStartIndex,j=v.dataEndIndex,S=v.updateId;if(!J4({props:w}))return null;var C=w.children,P=w.layout,A=w.stackOffset,T=w.data,E=w.reverseStackOrder,k=B$(P),R=k.numericAxisName,I=k.cateAxisName,D=Ss(C,r),B=Fke(T,D,"".concat(R,"Id"),"".concat(I,"Id"),A,E),V=c.reduce(function(Y,Q){var ie="".concat(Q.axisType,"Map");return he(he({},Y),{},Xe({},ie,s5e(w,he(he({},Q),{},{graphicalItems:D,stackGroups:Q.axisType===R&&B,dataStartIndex:N,dataEndIndex:j}))))},{}),O=o5e(he(he({},V),{},{props:w,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(V).forEach(function(Y){V[Y]=d(w,V[Y],O,Y.replace("Map",""),n)});var _=V["".concat(I,"Map")],z=a5e(_),ne=m(w,he(he({},V),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:D,stackGroups:B,offset:O}));return he(he({formattedGraphicalItems:ne,graphicalItems:D,offset:O,stackGroups:B},z),V)},g=function(x){function v(b){var w,N,j;return V$e(this,v),j=W$e(this,v,[b]),Xe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xe(j,"accessibilityManager",new A$e),Xe(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,P=C.dataStartIndex,A=C.dataEndIndex,T=C.updateId;j.setState(he({legendBBox:S},h({props:j.props,dataStartIndex:P,dataEndIndex:A,updateId:T},he(he({},j.state),{},{legendBBox:S}))))}}),Xe(j,"handleReceiveSyncEvent",function(S,C,P){if(j.props.syncId===S){if(P===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),Xe(j,"handleBrushChange",function(S){var C=S.startIndex,P=S.endIndex;if(C!==j.state.dataStartIndex||P!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return he({dataStartIndex:C,dataEndIndex:P},h({props:j.props,dataStartIndex:C,dataEndIndex:P,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:P})}}),Xe(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var P=he(he({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var A=j.props.onMouseEnter;Qe(A)&&A(P,S)}}),Xe(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),P=C?he(he({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var A=j.props.onMouseMove;Qe(A)&&A(P,S)}),Xe(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Xe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Xe(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Xe(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var P=j.props.onMouseLeave;Qe(P)&&P(C,S)}),Xe(j,"handleOuterEvent",function(S){var C=Bxe(S),P=Bs(j.props,"".concat(C));if(C&&Qe(P)){var A,T;/.*touch.*/i.test(C)?T=j.getMouseInfo(S.changedTouches[0]):T=j.getMouseInfo(S),P((A=T)!==null&&A!==void 0?A:{},S)}}),Xe(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var P=he(he({},C),{},{isTooltipActive:!0});j.setState(P),j.triggerSyncEvent(P);var A=j.props.onClick;Qe(A)&&A(P,S)}}),Xe(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(Qe(C)){var P=j.getMouseInfo(S);C(P,S)}}),Xe(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(Qe(C)){var P=j.getMouseInfo(S);C(P,S)}}),Xe(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Xe(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Xe(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Xe(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(Qe(C)){var P=j.getMouseInfo(S);C(P,S)}}),Xe(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(Qe(C)){var P=j.getMouseInfo(S);C(P,S)}}),Xe(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&QN.emit(ZN,j.props.syncId,S,j.eventEmitterSymbol)}),Xe(j,"applySyncEvent",function(S){var C=j.props,P=C.layout,A=C.syncMethod,T=j.state.updateId,E=S.dataStartIndex,k=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(he({dataStartIndex:E,dataEndIndex:k},h({props:j.props,dataStartIndex:E,dataEndIndex:k,updateId:T},j.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,I=S.chartY,D=S.activeTooltipIndex,B=j.state,V=B.offset,O=B.tooltipTicks;if(!V)return;if(typeof A=="function")D=A(O,S);else if(A==="value"){D=-1;for(var _=0;_<O.length;_++)if(O[_].value===S.activeLabel){D=_;break}}var z=he(he({},V),{},{x:V.left,y:V.top}),ne=Math.min(R,z.x+z.width),Y=Math.min(I,z.y+z.height),Q=O[D]&&O[D].value,ie=H2(j.state,j.props.data,D),ae=O[D]?{x:P==="horizontal"?O[D].coordinate:ne,y:P==="horizontal"?Y:O[D].coordinate}:OH;j.setState(he(he({},S),{},{activeLabel:Q,activeCoordinate:ae,activePayload:ie,activeTooltipIndex:D}))}else j.setState(S)}),Xe(j,"renderCursor",function(S){var C,P=j.state,A=P.isTooltipActive,T=P.activeCoordinate,E=P.activePayload,k=P.offset,R=P.activeTooltipIndex,I=P.tooltipAxisBandSize,D=j.getTooltipEventType(),B=(C=S.props.active)!==null&&C!==void 0?C:A,V=j.props.layout,O=S.key||"_recharts-cursor";return M.createElement(M$e,{key:O,activeCoordinate:T,activePayload:E,activeTooltipIndex:R,chartName:n,element:S,isActive:B,layout:V,offset:k,tooltipAxisBandSize:I,tooltipEventType:D})}),Xe(j,"renderPolarAxis",function(S,C,P){var A=Bs(S,"type.axisType"),T=Bs(j.state,"".concat(A,"Map")),E=S.type.defaultProps,k=E!==void 0?he(he({},E),S.props):S.props,R=T&&T[k["".concat(A,"Id")]];return y.cloneElement(S,he(he({},R),{},{className:rt(A,R.className),key:S.key||"".concat(C,"-").concat(P),ticks:io(R,!0)}))}),Xe(j,"renderPolarGrid",function(S){var C=S.props,P=C.radialLines,A=C.polarAngles,T=C.polarRadius,E=j.state,k=E.radiusAxisMap,R=E.angleAxisMap,I=il(k),D=il(R),B=D.cx,V=D.cy,O=D.innerRadius,_=D.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(A)?A:io(D,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(T)?T:io(I,!0).map(function(z){return z.coordinate}),cx:B,cy:V,innerRadius:O,outerRadius:_,key:S.key||"polar-grid",radialLines:P})}),Xe(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,P=C.children,A=C.width,T=C.height,E=j.props.margin||{},k=A-(E.left||0)-(E.right||0),R=iq({children:P,formattedGraphicalItems:S,legendWidth:k,legendContent:u});if(!R)return null;var I=R.item,D=D$(R,I$e);return y.cloneElement(I,he(he({},D),{},{chartWidth:A,chartHeight:T,margin:E,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Xe(j,"renderTooltip",function(){var S,C=j.props,P=C.children,A=C.accessibilityLayer,T=_s(P,Fr);if(!T)return null;var E=j.state,k=E.isTooltipActive,R=E.activeCoordinate,I=E.activePayload,D=E.activeLabel,B=E.offset,V=(S=T.props.active)!==null&&S!==void 0?S:k;return y.cloneElement(T,{viewBox:he(he({},B),{},{x:B.left,y:B.top}),active:V,label:D,payload:V?I:[],coordinate:R,accessibilityLayer:A})}),Xe(j,"renderBrush",function(S){var C=j.props,P=C.margin,A=C.data,T=j.state,E=T.offset,k=T.dataStartIndex,R=T.dataEndIndex,I=T.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Gx(j.handleBrushChange,S.props.onChange),data:A,x:Pe(S.props.x)?S.props.x:E.left,y:Pe(S.props.y)?S.props.y:E.top+E.height+E.brushBottom-(P.bottom||0),width:Pe(S.props.width)?S.props.width:E.width,startIndex:k,endIndex:R,updateId:"brush-".concat(I)})}),Xe(j,"renderReferenceElement",function(S,C,P){if(!S)return null;var A=j,T=A.clipPathId,E=j.state,k=E.xAxisMap,R=E.yAxisMap,I=E.offset,D=S.type.defaultProps||{},B=S.props,V=B.xAxisId,O=V===void 0?D.xAxisId:V,_=B.yAxisId,z=_===void 0?D.yAxisId:_;return y.cloneElement(S,{key:S.key||"".concat(C,"-").concat(P),xAxis:k[O],yAxis:R[z],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:T})}),Xe(j,"renderActivePoints",function(S){var C=S.item,P=S.activePoint,A=S.basePoint,T=S.childIndex,E=S.isRange,k=[],R=C.props.key,I=C.item.type.defaultProps!==void 0?he(he({},C.item.type.defaultProps),C.item.props):C.item.props,D=I.activeDot,B=I.dataKey,V=he(he({index:T,dataKey:B,cx:P.x,cy:P.y,r:4,fill:Jk(C.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},He(D,!1)),Uv(D));return k.push(v.renderActiveDot(D,V,"".concat(R,"-activePoint-").concat(T))),A?k.push(v.renderActiveDot(D,he(he({},V),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(T))):E&&k.push(null),k}),Xe(j,"renderGraphicChild",function(S,C,P){var A=j.filterFormatItem(S,C,P);if(!A)return null;var T=j.getTooltipEventType(),E=j.state,k=E.isTooltipActive,R=E.tooltipAxis,I=E.activeTooltipIndex,D=E.activeLabel,B=j.props.children,V=_s(B,Fr),O=A.props,_=O.points,z=O.isRange,ne=O.baseLine,Y=A.item.type.defaultProps!==void 0?he(he({},A.item.type.defaultProps),A.item.props):A.item.props,Q=Y.activeDot,ie=Y.hide,ae=Y.activeBar,ge=Y.activeShape,$=!!(!ie&&k&&V&&(Q||ae||ge)),J={};T!=="axis"&&V&&V.props.trigger==="click"?J={onClick:Gx(j.handleItemMouseEnter,S.props.onClick)}:T!=="axis"&&(J={onMouseLeave:Gx(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Gx(j.handleItemMouseEnter,S.props.onMouseEnter)});var Z=y.cloneElement(S,he(he({},A.props),J));function L(W){return typeof R.dataKey=="function"?R.dataKey(W.payload):null}if($)if(I>=0){var ce,H;if(R.dataKey&&!R.allowDuplicatedCategory){var Se=typeof R.dataKey=="function"?L:"payload.".concat(R.dataKey.toString());ce=Vv(_,Se,D),H=z&&ne&&Vv(ne,Se,D)}else ce=_==null?void 0:_[I],H=z&&ne&&ne[I];if(ge||ae){var U=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[y.cloneElement(S,he(he(he({},A.props),J),{},{activeIndex:U})),null,null]}if(!st(ce))return[Z].concat(zf(j.renderActivePoints({item:A,activePoint:ce,basePoint:H,childIndex:I,isRange:z})))}else{var re,me=(re=j.getItemByXY(j.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:Z},Fe=me.graphicalItem,ut=Fe.item,mt=ut===void 0?S:ut,q=Fe.childIndex,ee=he(he(he({},A.props),J),{},{activeIndex:q});return[y.cloneElement(mt,ee),null,null]}return z?[Z,null,null]:[Z,null]}),Xe(j,"renderCustomized",function(S,C,P){return y.cloneElement(S,he(he({key:"recharts-customized-".concat(P)},j.props),j.state))}),Xe(j,"renderMap",{CartesianGrid:{handler:Jx,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Jx},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Jx},YAxis:{handler:Jx},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:gm("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=a7(j.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return K$e(v,x),z$e(v,[{key:"componentDidMount",value:function(){var w,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,N=w.children,j=w.data,S=w.height,C=w.layout,P=_s(N,Fr);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=H2(this.state,j,A,T),k=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+S)/2,I=C==="horizontal",D=I?{x:k,y:R}:{y:k,x:R},B=this.state.formattedGraphicalItems.find(function(O){var _=O.item;return _.type.name==="Scatter"});B&&(D=he(he({},D),B.props.points[A].tooltipPosition),E=B.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:E,activeCoordinate:D};this.setState(V),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){wC([_s(w.children,Fr)],[_s(this.props.children,Fr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=_s(this.props.children,Fr);if(w&&typeof w.props.shared=="boolean"){var N=w.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=t2e(j),C={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},P=j.width/N.offsetWidth||1,A=this.inRange(C.chartX,C.chartY,P);if(!A)return null;var T=this.state,E=T.xAxisMap,k=T.yAxisMap,R=this.getTooltipEventType(),I=L$(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&E&&k){var D=il(E).scale,B=il(k).scale,V=D&&D.invert?D.invert(C.chartX):null,O=B&&B.invert?B.invert(C.chartY):null;return he(he({},C),{},{xValue:V,yValue:O},I)}return I?he(he({},C),I):null}},{key:"inRange",value:function(w,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=w/j,P=N/j;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,T=C>=A.left&&C<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return T?{x:C,y:P}:null}var E=this.state,k=E.angleAxisMap,R=E.radiusAxisMap;if(k&&R){var I=il(k);return cD({x:C,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,N=this.getTooltipEventType(),j=_s(w,Fr),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Uv(this.props,this.handleOuterEvent);return he(he({},C),S)}},{key:"addListener",value:function(){QN.on(ZN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QN.removeListener(ZN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,N,j){for(var S=this.state.formattedGraphicalItems,C=0,P=S.length;C<P;C++){var A=S[C];if(A.item===w||A.props.key===w.key||N===uo(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,C=N.height,P=N.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:j,y:S,height:C,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=I$(j,2),C=S[0],P=S[1];return he(he({},N),{},Xe({},C,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(N,j){var S=I$(j,2),C=S[0],P=S[1];return he(he({},N),{},Xe({},C,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(w){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[w])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(w){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var C=0,P=j.length;C<P;C++){var A=j[C],T=A.props,E=A.item,k=E.type.defaultProps!==void 0?he(he({},E.type.defaultProps),E.props):E.props,R=uo(E.type);if(R==="Bar"){var I=(T.data||[]).find(function(O){return D_e(w,O)});if(I)return{graphicalItem:A,payload:I}}else if(R==="RadialBar"){var D=(T.data||[]).find(function(O){return cD(w,O)});if(D)return{graphicalItem:A,payload:D}}else if(Xw(A,S)||Qw(A,S)||ag(A,S)){var B=w4e({graphicalItem:A,activeTooltipItem:S,itemData:k.data}),V=k.activeIndex===void 0?B:k.activeIndex;return{graphicalItem:he(he({},A),{},{childIndex:V}),payload:ag(A,S)?k.data[B]:A.props.data[B]}}}return null}},{key:"render",value:function(){var w=this;if(!J4(this))return null;var N=this.props,j=N.children,S=N.className,C=N.width,P=N.height,A=N.style,T=N.compact,E=N.title,k=N.desc,R=D$(N,D$e),I=He(R,!1);if(T)return M.createElement(x$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(NC,jd({},I,{width:C,height:P,title:E,desc:k}),this.renderClipPath(),tM(j,this.renderMap)));if(this.props.accessibilityLayer){var D,B;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(B=this.props.role)!==null&&B!==void 0?B:"application",I.onKeyDown=function(O){w.accessibilityManager.keyboardEvent(O)},I.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return M.createElement(x$,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",jd({className:rt("recharts-wrapper",S),style:he({position:"relative",cursor:"default",width:C,height:P},A)},V,{ref:function(_){w.container=_}}),M.createElement(NC,jd({},I,{width:C,height:P,title:E,desc:k,style:J$e}),this.renderClipPath(),tM(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Xe(g,"displayName",n),Xe(g,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Xe(g,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,w=x.data,N=x.children,j=x.width,S=x.height,C=x.layout,P=x.stackOffset,A=x.margin,T=v.dataStartIndex,E=v.dataEndIndex;if(v.updateId===void 0){var k=F$(x);return he(he(he({},k),{},{updateId:0},h(he(he({props:x},k),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:A,prevChildren:N})}if(b!==v.prevDataKey||w!==v.prevData||j!==v.prevWidth||S!==v.prevHeight||C!==v.prevLayout||P!==v.prevStackOffset||!Md(A,v.prevMargin)){var R=F$(x),I={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},D=he(he({},L$(v,w,C)),{},{updateId:v.updateId+1}),B=he(he(he({},R),I),D);return he(he(he({},B),h(he({props:x},B),v)),{},{prevDataKey:b,prevData:w,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:P,prevMargin:A,prevChildren:N})}if(!wC(N,v.prevChildren)){var V,O,_,z,ne=_s(N,Rf),Y=ne&&(V=(O=ne.props)===null||O===void 0?void 0:O.startIndex)!==null&&V!==void 0?V:T,Q=ne&&(_=(z=ne.props)===null||z===void 0?void 0:z.endIndex)!==null&&_!==void 0?_:E,ie=Y!==T||Q!==E,ae=!st(w),ge=ae&&!ie?v.updateId:v.updateId+1;return he(he({updateId:ge},h(he(he({props:x},v),{},{updateId:ge,dataStartIndex:Y,dataEndIndex:Q}),v)),{},{prevChildren:N,dataStartIndex:Y,dataEndIndex:Q})}return null}),Xe(g,"renderActiveDot",function(x,v,b){var w;return y.isValidElement(x)?w=y.cloneElement(x,v):Qe(x)?w=x(v):w=M.createElement(qw,v),M.createElement(Ct,{className:"recharts-active-dot",key:b},w)});var p=y.forwardRef(function(v,b){return M.createElement(g,jd({},v,{ref:b}))});return p.displayName=g.displayName,p},RH=sj({chartName:"LineChart",GraphicalChild:Oi,axisComponents:[{axisType:"xAxis",AxisComp:vc},{axisType:"yAxis",AxisComp:bc}],formatAxisMap:Qq}),MH=sj({chartName:"BarChart",GraphicalChild:yc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vc},{axisType:"yAxis",AxisComp:bc}],formatAxisMap:Qq}),IH=sj({chartName:"PieChart",GraphicalChild:Ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yw},{axisType:"radiusAxis",AxisComp:Kw}],formatAxisMap:Qke,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function c5e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var u5e=c5e,d5e=rT,f5e=cw,m5e=Object.prototype,h5e=m5e.hasOwnProperty;function p5e(e,t,n){var r=e[t];(!(h5e.call(e,t)&&f5e(r,n))||n===void 0&&!(t in e))&&d5e(e,t,n)}var DH=p5e,g5e=DH,x5e=rT;function y5e(e,t,n,r){var a=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var l=t[i],c=r?r(n[l],e[l],l,n,e):void 0;c===void 0&&(c=e[l]),a?x5e(n,l,c):g5e(n,l,c)}return n}var tx=y5e,v5e=tx,b5e=vm;function w5e(e,t){return e&&v5e(t,b5e(t),e)}var j5e=w5e;function N5e(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var S5e=N5e,C5e=li,P5e=Nk,A5e=S5e,E5e=Object.prototype,k5e=E5e.hasOwnProperty;function T5e(e){if(!C5e(e))return A5e(e);var t=P5e(e),n=[];for(var r in e)r=="constructor"&&(t||!k5e.call(e,r))||n.push(r);return n}var O5e=T5e,_5e=DW,R5e=O5e,M5e=ym;function I5e(e){return M5e(e)?_5e(e,!0):R5e(e)}var mT=I5e,D5e=tx,$5e=mT;function L5e(e,t){return e&&D5e(t,$5e(t),e)}var F5e=L5e,U0={exports:{}};U0.exports;(function(e,t){var n=ii,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,m=l?l(f):new u.constructor(f);return u.copy(m),m}e.exports=c})(U0,U0.exports);var B5e=U0.exports;function V5e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var U5e=V5e,z5e=tx,W5e=xk;function q5e(e,t){return z5e(e,W5e(e),t)}var H5e=q5e,K5e=gk,G5e=tT,Y5e=xk,X5e=RW,Q5e=Object.getOwnPropertySymbols,Z5e=Q5e?function(e){for(var t=[];e;)K5e(t,Y5e(e)),e=G5e(e);return t}:X5e,$H=Z5e,J5e=tx,e3e=$H;function t3e(e,t){return J5e(e,e3e(e),t)}var n3e=t3e,r3e=_W,s3e=$H,a3e=mT;function i3e(e){return r3e(e,a3e,s3e)}var LH=i3e,o3e=Object.prototype,l3e=o3e.hasOwnProperty;function c3e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&l3e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var u3e=c3e,V$=OW;function d3e(e){var t=new e.constructor(e.byteLength);return new V$(t).set(new V$(e)),t}var hT=d3e,f3e=hT;function m3e(e,t){var n=t?f3e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var h3e=m3e,p3e=/\w*$/;function g3e(e){var t=new e.constructor(e.source,p3e.exec(e));return t.lastIndex=e.lastIndex,t}var x3e=g3e,U$=um,z$=U$?U$.prototype:void 0,W$=z$?z$.valueOf:void 0;function y3e(e){return W$?Object(W$.call(e)):{}}var v3e=y3e,b3e=hT;function w3e(e,t){var n=t?b3e(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var j3e=w3e,N3e=hT,S3e=h3e,C3e=x3e,P3e=v3e,A3e=j3e,E3e="[object Boolean]",k3e="[object Date]",T3e="[object Map]",O3e="[object Number]",_3e="[object RegExp]",R3e="[object Set]",M3e="[object String]",I3e="[object Symbol]",D3e="[object ArrayBuffer]",$3e="[object DataView]",L3e="[object Float32Array]",F3e="[object Float64Array]",B3e="[object Int8Array]",V3e="[object Int16Array]",U3e="[object Int32Array]",z3e="[object Uint8Array]",W3e="[object Uint8ClampedArray]",q3e="[object Uint16Array]",H3e="[object Uint32Array]";function K3e(e,t,n){var r=e.constructor;switch(t){case D3e:return N3e(e);case E3e:case k3e:return new r(+e);case $3e:return S3e(e,n);case L3e:case F3e:case B3e:case V3e:case U3e:case z3e:case W3e:case q3e:case H3e:return A3e(e,n);case T3e:return new r;case O3e:case M3e:return new r(e);case _3e:return C3e(e);case R3e:return new r;case I3e:return P3e(e)}}var G3e=K3e,Y3e=li,q$=Object.create,X3e=function(){function e(){}return function(t){if(!Y3e(t))return{};if(q$)return q$(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Q3e=X3e,Z3e=Q3e,J3e=tT,eLe=Nk;function tLe(e){return typeof e.constructor=="function"&&!eLe(e)?Z3e(J3e(e)):{}}var nLe=tLe,rLe=Ow,sLe=oi,aLe="[object Map]";function iLe(e){return sLe(e)&&rLe(e)==aLe}var oLe=iLe,lLe=oLe,cLe=Tw,H$=jk,K$=H$&&H$.isMap,uLe=K$?cLe(K$):lLe,dLe=uLe,fLe=Ow,mLe=oi,hLe="[object Set]";function pLe(e){return mLe(e)&&fLe(e)==hLe}var gLe=pLe,xLe=gLe,yLe=Tw,G$=jk,Y$=G$&&G$.isSet,vLe=Y$?yLe(Y$):xLe,bLe=vLe,wLe=hk,jLe=u5e,NLe=DH,SLe=j5e,CLe=F5e,PLe=B5e,ALe=U5e,ELe=H5e,kLe=n3e,TLe=LW,OLe=LH,_Le=Ow,RLe=u3e,MLe=G3e,ILe=nLe,DLe=us,$Le=vk,LLe=dLe,FLe=li,BLe=bLe,VLe=vm,ULe=mT,zLe=1,WLe=2,qLe=4,FH="[object Arguments]",HLe="[object Array]",KLe="[object Boolean]",GLe="[object Date]",YLe="[object Error]",BH="[object Function]",XLe="[object GeneratorFunction]",QLe="[object Map]",ZLe="[object Number]",VH="[object Object]",JLe="[object RegExp]",eFe="[object Set]",tFe="[object String]",nFe="[object Symbol]",rFe="[object WeakMap]",sFe="[object ArrayBuffer]",aFe="[object DataView]",iFe="[object Float32Array]",oFe="[object Float64Array]",lFe="[object Int8Array]",cFe="[object Int16Array]",uFe="[object Int32Array]",dFe="[object Uint8Array]",fFe="[object Uint8ClampedArray]",mFe="[object Uint16Array]",hFe="[object Uint32Array]",rn={};rn[FH]=rn[HLe]=rn[sFe]=rn[aFe]=rn[KLe]=rn[GLe]=rn[iFe]=rn[oFe]=rn[lFe]=rn[cFe]=rn[uFe]=rn[QLe]=rn[ZLe]=rn[VH]=rn[JLe]=rn[eFe]=rn[tFe]=rn[nFe]=rn[dFe]=rn[fFe]=rn[mFe]=rn[hFe]=!0;rn[YLe]=rn[BH]=rn[rFe]=!1;function Ey(e,t,n,r,a,i){var o,l=t&zLe,c=t&WLe,u=t&qLe;if(n&&(o=a?n(e,r,a,i):n(e)),o!==void 0)return o;if(!FLe(e))return e;var d=DLe(e);if(d){if(o=RLe(e),!l)return ALe(e,o)}else{var f=_Le(e),m=f==BH||f==XLe;if($Le(e))return PLe(e,l);if(f==VH||f==FH||m&&!a){if(o=c||m?{}:ILe(e),!l)return c?kLe(e,CLe(o,e)):ELe(e,SLe(o,e))}else{if(!rn[f])return a?e:{};o=MLe(e,f,l)}}i||(i=new wLe);var h=i.get(e);if(h)return h;i.set(e,o),BLe(e)?e.forEach(function(x){o.add(Ey(x,t,n,x,e,i))}):LLe(e)&&e.forEach(function(x,v){o.set(v,Ey(x,t,n,v,e,i))});var g=u?c?OLe:TLe:c?ULe:VLe,p=d?void 0:g(e);return jLe(p||e,function(x,v){p&&(v=x,x=e[v]),NLe(o,v,Ey(x,t,n,v,e,i))}),o}var pFe=Ey,gFe=pw,xFe=eW;function yFe(e,t){return t.length<2?e:gFe(e,xFe(t,0,-1))}var vFe=yFe,bFe=hw,wFe=bq,jFe=vFe,NFe=Kg;function SFe(e,t){return t=bFe(t,e),e=jFe(e,t),e==null||delete e[NFe(wFe(t))]}var CFe=SFe,PFe=Lq;function AFe(e){return PFe(e)?void 0:e}var EFe=AFe,kFe=Ck;function TFe(e){var t=e==null?0:e.length;return t?kFe(e,1):[]}var OFe=TFe,_Fe=OFe,RFe=QW,MFe=JW;function IFe(e){return MFe(RFe(e,void 0,_Fe),e+"")}var DFe=IFe,$Fe=mw,LFe=pFe,FFe=CFe,BFe=hw,VFe=tx,UFe=EFe,zFe=DFe,WFe=LH,qFe=1,HFe=2,KFe=4,GFe=zFe(function(e,t){var n={};if(e==null)return n;var r=!1;t=$Fe(t,function(i){return i=BFe(i,e),r||(r=i.length>1),i}),VFe(e,WFe(e),n),r&&(n=LFe(n,qFe|HFe|KFe,UFe));for(var a=t.length;a--;)FFe(n,t[a]);return n}),YFe=GFe;const XFe=Mt(YFe);function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function K2(){return K2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K2.apply(this,arguments)}function X$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(n),!0).forEach(function(r){QFe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QFe(e,t,n){return t=ZFe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZFe(e){var t=JFe(e,"string");return fg(t)=="symbol"?t:t+""}function JFe(e,t){if(fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e6e(e,t){var n="".concat(t.x||e.x),r=parseInt(n,10),a="".concat(t.y||e.y),i=parseInt(a,10),o="".concat((t==null?void 0:t.height)||(e==null?void 0:e.height)),l=parseInt(o,10);return e1(e1(e1({},t),Fq(e)),{},{height:l,x:r,y:i})}function t6e(e){return M.createElement(nT,K2({shapeType:"trapezoid",propTransformer:e6e},e))}var G2;function Q$(e,t){return a6e(e)||s6e(e,t)||r6e(e,t)||n6e()}function n6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r6e(e,t){if(e){if(typeof e=="string")return Z$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z$(e,t)}}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function a6e(e){if(Array.isArray(e))return e}function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(this,arguments)}function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(n),!0).forEach(function(r){mo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zH(r.key),r)}}function o6e(e,t,n){return t&&e5(e.prototype,t),n&&e5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l6e(e,t,n){return t=W0(t),c6e(e,UH()?Reflect.construct(t,n||[],W0(e).constructor):t.apply(e,n))}function c6e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u6e(e)}function u6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UH=function(){return!!e})()}function W0(e){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(e)}function d6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function Y2(e,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Y2(e,t)}function mo(e,t,n){return t=zH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=f6e(e,"string");return Wf(t)=="symbol"?t:t+""}function f6e(e,t){if(Wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wc=function(e){function t(){var n;i6e(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=l6e(this,t,[].concat(a)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qe(o)&&o()}),mo(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qe(o)&&o()}),n}return d6e(t,e),o6e(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"renderTrapezoidsStatically",value:function(r){var a=this,i=this.props,o=i.shape,l=i.activeShape;return r.map(function(c,u){var d=a.isActiveIndex(u)?l:o,f=sr(sr({},c),{},{isActive:a.isActiveIndex(u),stroke:c.stroke});return M.createElement(Ct,z0({className:"recharts-funnel-trapezoid"},ec(a.props,c,u),{key:"trapezoid-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.name,"-").concat(c==null?void 0:c.value),role:"img"}),M.createElement(t6e,z0({option:d},f)))})}},{key:"renderTrapezoidsWithAnimation",value:function(){var r=this,a=this.props,i=a.trapezoids,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevTrapezoids;return M.createElement(Za,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"funnel-".concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var h=m.t,g=i.map(function(p,x){var v=f&&f[x];if(v){var b=Nn(v.x,p.x),w=Nn(v.y,p.y),N=Nn(v.upperWidth,p.upperWidth),j=Nn(v.lowerWidth,p.lowerWidth),S=Nn(v.height,p.height);return sr(sr({},p),{},{x:b(h),y:w(h),upperWidth:N(h),lowerWidth:j(h),height:S(h)})}var C=Nn(p.x+p.upperWidth/2,p.x),P=Nn(p.y+p.height/2,p.y),A=Nn(0,p.upperWidth),T=Nn(0,p.lowerWidth),E=Nn(0,p.height);return sr(sr({},p),{},{x:C(h),y:P(h),upperWidth:A(h),lowerWidth:T(h),height:E(h)})});return M.createElement(Ct,null,r.renderTrapezoidsStatically(g))})}},{key:"renderTrapezoids",value:function(){var r=this.props,a=r.trapezoids,i=r.isAnimationActive,o=this.state.prevTrapezoids;return i&&a&&a.length&&(!o||!Nm(o,a))?this.renderTrapezoidsWithAnimation():this.renderTrapezoidsStatically(a)}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.trapezoids,o=r.className,l=r.isAnimationActive,c=this.state.isAnimationFinished;if(a||!i||!i.length)return null;var u=rt("recharts-trapezoids",o);return M.createElement(Ct,{className:u},this.renderTrapezoids(),(!l||c)&&Ka.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curTrapezoids:r.trapezoids,prevTrapezoids:a.curTrapezoids}:r.trapezoids!==a.curTrapezoids?{curTrapezoids:r.trapezoids}:null}}])}(y.PureComponent);G2=wc;mo(wc,"displayName","Funnel");mo(wc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",labelLine:!0,hide:!1,isAnimationActive:!mc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",lastShapeType:"triangle"});mo(wc,"getRealFunnelData",function(e){var t=e.props,n=t.data,r=t.children,a=He(e.props,!1),i=Ss(r,hc);return n&&n.length?n.map(function(o,l){return sr(sr(sr({payload:o},a),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return sr(sr({},a),o.props)}):[]});mo(wc,"getRealWidthHeight",function(e,t){var n=e.props.width,r=t.width,a=t.height,i=t.left,o=t.right,l=t.top,c=t.bottom,u=a,d=r;return J9(n)?d=n:Jl(n)&&(d=d*parseFloat(n)/100),{realWidth:d-i-o-50,realHeight:u-c-l,offsetX:(r-d)/2,offsetY:(a-u)/2}});mo(wc,"getComposedData",function(e){var t=e.item,n=e.offset,r=G2.getRealFunnelData(t),a=t.props,i=a.dataKey,o=a.nameKey,l=a.tooltipType,c=a.lastShapeType,u=a.reversed,d=n.left,f=n.top,m=G2.getRealWidthHeight(t,n),h=m.realHeight,g=m.realWidth,p=m.offsetX,x=m.offsetY,v=Math.max.apply(null,r.map(function(S){return Pn(S,i,0)})),b=r.length,w=h/b,N={x:n.left,y:n.top,width:n.width,height:n.height},j=r.map(function(S,C){var P=Pn(S,i,0),A=Pn(S,o,C),T=P,E;if(C!==b-1){if(E=Pn(r[C+1],i,0),E instanceof Array){var k=E,R=Q$(k,1);E=R[0]}}else if(P instanceof Array&&P.length===2){var I=Q$(P,2);T=I[0],E=I[1]}else c==="rectangle"?E=T:E=0;var D=(v-T)*g/(2*v)+f+25+p,B=w*C+d+x,V=T/v*g,O=E/v*g,_=[{name:A,value:T,payload:S,dataKey:i,type:l}],z={x:D+V/2,y:B+w/2};return sr(sr({x:D,y:B,width:Math.max(V,O),upperWidth:V,lowerWidth:O,height:w,name:A,val:T,tooltipPayload:_,tooltipPosition:z},XFe(S,"width")),{},{payload:S,parentViewBox:N,labelViewBox:{x:D+(V-O)/4,y:B,width:Math.abs(V-O)/2+Math.min(V,O),height:w}})});return u&&(j=j.map(function(S,C){var P=S.y-C*w+(b-1-C)*w;return sr(sr({},S),{},{upperWidth:S.lowerWidth,lowerWidth:S.upperWidth,x:S.x-(S.lowerWidth-S.upperWidth)/2,y:S.y-C*w+(b-1-C)*w,tooltipPosition:sr(sr({},S.tooltipPosition),{},{y:P+w/2}),labelViewBox:sr(sr({},S.labelViewBox),{},{y:P})})})),{trapezoids:j,data:r}});var m6e=sj({chartName:"FunnelChart",GraphicalChild:wc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",axisComponents:[],defaultProps:{layout:"centric"}});const t5=({baseScore:e})=>{const t=[{name:"Risk Coverage",value:e.riskAreaCoverage,max:40,color:"#3b82f6"},{name:"Size Fit",value:e.sizeFit,max:20,color:"#10b981"},{name:"Geo Coverage",value:e.geoCoverage,max:20,color:"#a855f7"},{name:"Price Score",value:e.priceScore,max:20,color:"#eab308"}],n=({active:r,payload:a})=>{if(r&&a&&a.length){const i=a[0].payload;return s.jsxs("div",{className:"bg-gray-800 border border-gray-700 p-3 rounded-lg shadow-lg",children:[s.jsx("p",{className:"text-white font-semibold mb-1",children:i.name}),s.jsxs("p",{className:"text-gray-300",children:["Score: ",s.jsx("span",{className:"text-cyan-400 font-bold",children:i.value})," / ",i.max]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(i.value/i.max*100).toFixed(0),"%"]})]})}return null};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-1",children:"Base Score Breakdown"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:[e.totalBase,s.jsx("span",{className:"text-gray-500 text-lg ml-1",children:"/ 100"})]})]}),s.jsx(ou,{width:"100%",height:250,children:s.jsxs(MH,{data:t,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(ex,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(vc,{type:"number",domain:[0,40],stroke:"#9ca3af"}),s.jsx(bc,{type:"category",dataKey:"name",stroke:"#9ca3af",width:100}),s.jsx(Fr,{content:s.jsx(n,{})}),s.jsx(yc,{dataKey:"value",radius:[0,4,4,0],children:t.map((r,a)=>s.jsx(hc,{fill:r.color},`cell-${a}`))})]})}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:t.map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:r.color}}),s.jsxs("span",{className:"text-gray-400",children:[r.name,": ",r.value,"/",r.max]})]},r.name))})]})},n5=({priorityBoost:e})=>{const t=[{name:"Top Priority",value:e.topPriorityBoost,max:20,color:"#06b6d4"},{name:"Features",value:e.featureBoost,max:10,color:"#ec4899"},{name:"Deployment",value:e.deploymentBoost,max:5,color:"#8b5cf6"},{name:"Speed",value:e.speedBoost,max:5,color:"#f59e0b"}],n=({active:r,payload:a})=>{if(r&&a&&a.length){const i=a[0].payload;return s.jsxs("div",{className:"bg-gray-800 border border-gray-700 p-3 rounded-lg shadow-lg",children:[s.jsx("p",{className:"text-white font-semibold mb-1",children:i.name}),s.jsxs("p",{className:"text-gray-300",children:["Score: ",s.jsx("span",{className:"text-cyan-400 font-bold",children:i.value})," / ",i.max]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[(i.value/i.max*100).toFixed(0),"%"]})]})}return null};return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-1",children:"Priority Boost"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["+",e.totalBoost,s.jsx("span",{className:"text-gray-500 text-lg ml-1",children:"/ 40"})]})]}),e.matchedPriority&&e.topPriorityBoost>0&&s.jsx("div",{className:"mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded-lg",children:s.jsxs("p",{className:"text-cyan-400 text-sm font-medium",children:["✓ Covers your ",e.topPriorityBoost===20?"#1":e.topPriorityBoost===15?"#2":"#3"," priority: ",e.matchedPriority]})}),s.jsx(ou,{width:"100%",height:200,children:s.jsxs(MH,{data:t,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(ex,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(vc,{type:"number",domain:[0,20],stroke:"#9ca3af"}),s.jsx(bc,{type:"category",dataKey:"name",stroke:"#9ca3af",width:80}),s.jsx(Fr,{content:s.jsx(n,{})}),s.jsx(yc,{dataKey:"value",radius:[0,4,4,0],children:t.map((r,a)=>s.jsx(hc,{fill:r.color},`cell-${a}`))})]})}),e.missingFeatures&&e.missingFeatures.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Pt,{className:"h-5 w-5 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-yellow-400 text-sm font-medium mb-1",children:["Missing ",e.missingFeatures.length," feature",e.missingFeatures.length>1?"s":""]}),s.jsx("ul",{className:"text-gray-400 text-xs space-y-1",children:e.missingFeatures.map((r,a)=>s.jsxs("li",{children:["• ",r]},a))})]})]})}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-sm",children:t.map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:r.color}}),s.jsxs("span",{className:"text-gray-400",children:[r.name,": ",r.value,"/",r.max]})]},r.name))})]})},r5=({matchReasons:e,className:t=""})=>{const n=r=>{const a=r.toLowerCase();return a.includes("priority")||a.includes("#1")||a.includes("#2")||a.includes("#3")?{icon:$s,color:"text-cyan-400"}:a.includes("gap")||a.includes("compliance")?{icon:at,color:"text-green-400"}:a.includes("feature")||a.includes("must-have")?{icon:_r,color:"text-purple-400"}:a.includes("budget")||a.includes("price")?{icon:Or,color:"text-yellow-400"}:a.includes("size")||a.includes("company")?{icon:jo,color:"text-pink-400"}:a.includes("jurisdiction")||a.includes("geographic")?{icon:fa,color:"text-blue-400"}:{icon:at,color:"text-green-400"}};return!e||e.length===0?null:s.jsxs("div",{className:`space-y-3 ${t}`,children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-3",children:"Why This Vendor Matches"}),s.jsx("ul",{className:"space-y-2",children:e.map((r,a)=>{const{icon:i,color:o}=n(r);return s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(i,{className:`h-5 w-5 ${o} mt-0.5 flex-shrink-0`}),s.jsx("span",{className:"text-gray-300 text-sm leading-relaxed",children:r})]},a)})})]})},s5=({priorityBoost:e,matchedPriority:t,className:n=""})=>{const a=e===20?1:e===15?2:e===10?3:null;if(!a)return s.jsx(le,{className:`bg-gray-600/20 text-gray-400 border-gray-600/50 ${n}`,children:"No Priority Match"});const o=(()=>{switch(a){case 1:return{className:"bg-gradient-to-r from-yellow-400/20 to-orange-400/20 text-yellow-400 border-yellow-500/50 text-base px-4 py-2",icon:$s,label:"#1 Priority Match"};case 2:return{className:"bg-gradient-to-r from-gray-300/20 to-gray-400/20 text-gray-300 border-gray-400/50 px-3 py-1.5",icon:zF,label:"#2 Priority Match"};case 3:return{className:"bg-gradient-to-r from-amber-600/20 to-amber-700/20 text-amber-500 border-amber-600/50 px-3 py-1.5",icon:IF,label:"#3 Priority Match"};default:return null}})();if(!o)return null;const l=o.icon;return s.jsxs("div",{className:n,children:[s.jsxs(le,{className:o.className,title:t||"",children:[s.jsx(l,{className:"h-4 w-4 mr-1.5 fill-current"}),o.label]}),t&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:t})]})};var pT="Progress",gT=100,[h6e,P9e]=Zn(pT),[p6e,g6e]=h6e(pT),WH=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:i=x6e,...o}=e;(a||a===0)&&!a5(a)&&console.error(y6e(`${a}`,"Progress"));const l=a5(a)?a:gT;r!==null&&!i5(r,l)&&console.error(v6e(`${r}`,"Progress"));const c=i5(r,l)?r:null,u=q0(c)?i(c,l):void 0;return s.jsx(p6e,{scope:n,value:c,max:l,children:s.jsx(Te.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":q0(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":KH(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});WH.displayName=pT;var qH="ProgressIndicator",HH=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=g6e(qH,n);return s.jsx(Te.div,{"data-state":KH(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});HH.displayName=qH;function x6e(e,t){return`${Math.round(e/t*100)}%`}function KH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function q0(e){return typeof e=="number"}function a5(e){return q0(e)&&!isNaN(e)&&e>0}function i5(e,t){return q0(e)&&!isNaN(e)&&e<=t&&e>=0}function y6e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gT}\`.`}function v6e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var GH=WH,b6e=HH;const Wr=y.forwardRef(({className:e,value:t,...n},r)=>s.jsx(GH,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(b6e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Wr.displayName=GH.displayName;const o5=({missingFeatures:e,mustHaveFeatures:t=[],className:n=""})=>{const r=t.length||10,a=r-e.length,i=a/r*100;return s.jsxs("div",{className:n,children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400",children:"Feature Coverage"}),s.jsxs("span",{className:"text-sm text-gray-300",children:[a,"/",r," features"]})]}),s.jsx(Wr,{value:i,className:`h-2 ${i>=80?"bg-green-900/30 [&>div]:bg-green-500":i>=60?"bg-yellow-900/30 [&>div]:bg-yellow-500":"bg-red-900/30 [&>div]:bg-red-500"}`}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.toFixed(0),"% coverage"]})]}),e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Missing Features:"}),s.jsx("ul",{className:"space-y-1",children:e.map((o,l)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Io,{className:"h-4 w-4 text-red-400 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-400",children:o})]},l))})]}),e.length===0&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:[s.jsx(at,{className:"h-5 w-5 text-green-400"}),s.jsx("span",{className:"text-green-400 text-sm font-medium",children:"All features available"})]})]})},w6e=({vendor1:e,match1:t,vendor2:n,match2:r})=>{var c,u;const i=(()=>{const d=[],m=Math.abs(t.totalScore-r.totalScore)/Math.max(t.totalScore,r.totalScore)*100;if(m>=10){const x=t.totalScore>r.totalScore?"vendor1":"vendor2";d.push({type:"overall",message:`${x==="vendor1"?e.name:n.name} scores ${m.toFixed(0)}% higher overall`,advantage:x,icon:_r})}if(Math.abs(t.baseScore.riskAreaCoverage-r.baseScore.riskAreaCoverage)>=5){const x=t.baseScore.riskAreaCoverage>r.baseScore.riskAreaCoverage?"vendor1":"vendor2";d.push({type:"gaps",message:`${x==="vendor1"?e.name:n.name} addresses more of your critical compliance gaps`,advantage:x,icon:at})}t.priorityBoost.topPriorityBoost>r.priorityBoost.topPriorityBoost?d.push({type:"priority",message:`${e.name} better aligns with your top priorities`,advantage:"vendor1",icon:$t}):r.priorityBoost.topPriorityBoost>t.priorityBoost.topPriorityBoost&&d.push({type:"priority",message:`${n.name} better aligns with your top priorities`,advantage:"vendor2",icon:$t});const g=t.priorityBoost.missingFeatures.length,p=r.priorityBoost.missingFeatures.length;if(g<p){const x=p-g;d.push({type:"features",message:`${e.name} has ${x} more of your must-have features`,advantage:"vendor1",icon:at})}else if(p<g){const x=g-p;d.push({type:"features",message:`${n.name} has ${x} more of your must-have features`,advantage:"vendor2",icon:at})}if(t.baseScore.priceScore>r.baseScore.priceScore){const x=t.baseScore.priceScore===20?`${e.name} is within your budget`:`${e.name} is closer to your budget`;d.push({type:"budget",message:x,advantage:"vendor1",icon:Or})}else if(r.baseScore.priceScore>t.baseScore.priceScore){const x=r.baseScore.priceScore===20?`${n.name} is within your budget`:`${n.name} is closer to your budget`;d.push({type:"budget",message:x,advantage:"vendor2",icon:Or})}return t.priorityBoost.speedBoost>r.priorityBoost.speedBoost?d.push({type:"speed",message:`${e.name} offers faster implementation`,advantage:"vendor1",icon:cr}):r.priorityBoost.speedBoost>t.priorityBoost.speedBoost&&d.push({type:"speed",message:`${n.name} offers faster implementation`,advantage:"vendor2",icon:cr}),t.priorityBoost.deploymentBoost>r.priorityBoost.deploymentBoost?d.push({type:"deployment",message:`${e.name} matches your deployment preferences`,advantage:"vendor1",icon:tv}):r.priorityBoost.deploymentBoost>t.priorityBoost.deploymentBoost&&d.push({type:"deployment",message:`${n.name} matches your deployment preferences`,advantage:"vendor2",icon:tv}),d})(),l=(()=>{const d=i.filter(m=>m.advantage==="vendor1").length,f=i.filter(m=>m.advantage==="vendor2").length;return d>f?{vendor:e.name,confidence:"stronger",color:"text-cyan-400"}:f>d?{vendor:n.name,confidence:"stronger",color:"text-pink-400"}:{vendor:t.totalScore>r.totalScore?e.name:n.name,confidence:"slight",color:t.totalScore>r.totalScore?"text-cyan-400":"text-pink-400"}})();return i.length===0?null:s.jsxs(K,{className:"bg-gradient-to-br from-cyan-900/20 via-purple-900/20 to-pink-900/20 border-cyan-500/30 mb-6",children:[s.jsx(de,{className:"border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($t,{className:"h-6 w-6 text-cyan-400 animate-pulse"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"AI-Powered Comparative Insights"})]})}),s.jsxs(X,{className:"pt-6",children:[s.jsx("ul",{className:"space-y-3 mb-6",children:i.map((d,f)=>{const m=d.icon,h=d.advantage==="vendor1"?"text-cyan-400":d.advantage==="vendor2"?"text-pink-400":"text-gray-400";return s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(m,{className:`h-5 w-5 ${h} mt-0.5 flex-shrink-0`}),s.jsx("span",{className:"text-gray-300 text-sm leading-relaxed",children:d.message})]},f)})}),s.jsxs("div",{className:"p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-sm font-semibold mb-1 text-gray-400",children:"Summary Recommendation:"}),s.jsxs("p",{className:`text-base font-semibold ${l.color}`,children:["Based on your assessment, ",l.vendor," is the ",l.confidence," ","match for your needs"]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 text-xs text-gray-500",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-400 mb-1",children:"Budget Fit:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{className:t.baseScore.priceScore===20?"bg-green-500/20 text-green-400 border-green-500/50":t.baseScore.priceScore===10?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50",children:((c=e.name)==null?void 0:c.substring(0,12))||"Vendor 1"}),s.jsx(le,{className:r.baseScore.priceScore===20?"bg-green-500/20 text-green-400 border-green-500/50":r.baseScore.priceScore===10?"bg-yellow-500/20 text-yellow-400 border-yellow-500/50":"bg-red-500/20 text-red-400 border-red-500/50",children:((u=n.name)==null?void 0:u.substring(0,12))||"Vendor 2"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-400 mb-1",children:"Implementation Speed:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{className:t.priorityBoost.speedBoost===5?"bg-green-500/20 text-green-400 border-green-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50",children:t.priorityBoost.speedBoost===5?"Fast":"Standard"}),s.jsx(le,{className:r.priorityBoost.speedBoost===5?"bg-green-500/20 text-green-400 border-green-500/50":"bg-gray-500/20 text-gray-400 border-gray-500/50",children:r.priorityBoost.speedBoost===5?"Fast":"Standard"})]})]})]})]})]})},j6e=({vendors:e,onBack:t})=>{var j,S;const[n,r]=e.slice(0,2),{data:a}=$e({queryKey:["subscription"],queryFn:Tb.getCurrentSubscription,enabled:!!localStorage.getItem("token"),retry:!1}),{data:i}=$e({queryKey:["organization","my"],queryFn:Co.getMyOrganization,enabled:!!localStorage.getItem("token"),retry:!1}),o=(a==null?void 0:a.plan)||"FREE",l=o==="PREMIUM"||o==="ENTERPRISE";(j=e[0])!=null&&j.matchDetails&&((S=e[1])==null||S.matchDetails);const[c,u]=y.useState(!1),[d,f]=y.useState(!1),[m,h]=y.useState(null),[g,p]=y.useState([]),[x,v]=y.useState(()=>localStorage.getItem("dismissedPremiumComparisonBanner")==="true"),b=()=>{localStorage.setItem("dismissedPremiumComparisonBanner","true"),v(!0)},w=C=>{p(C),u(!0)},N=C=>{h(C),f(!0)};return l?s.jsxs(s.Fragment,{children:[s.jsx(S6e,{vendors:e,onBack:t,onDraftRfp:w}),(i==null?void 0:i.id)&&s.jsx(F9,{open:c,onOpenChange:u,organizationId:i.id,preSelectedVendorIds:g})]}):s.jsxs(s.Fragment,{children:[s.jsx(C6e,{vendors:e,onBack:t,isPremium:l,bannerDismissed:x,onDismissBanner:b,onContactVendor:N}),m&&s.jsx(pE,{open:d,onOpenChange:f,vendorId:m.id,vendorName:m.name})]})},N6e=({vendor1:e,vendor2:t})=>{const n=[{title:"Core Capabilities",icon:$F,items:[{label:"Transaction Monitoring",key:"hasTransactionMonitoring"},{label:"Sanctions Screening",key:"hasSanctionsScreening"},{label:"KYC/AML",key:"hasKYCAML"},{label:"Risk Assessment",key:"hasRiskAssessment"},{label:"Regulatory Reporting",key:"hasRegulatoryReporting"}]},{title:"AI & Technology",icon:$t,items:[{label:"AI/ML Capabilities",key:"aiCapabilities",type:"text"},{label:"Real-time Processing",key:"hasRealTimeProcessing"},{label:"Predictive Analytics",key:"hasPredictiveAnalytics"},{label:"Natural Language Processing",key:"hasNLP"},{label:"Automated Decisioning",key:"hasAutomatedDecisioning"}]},{title:"Integration & Deployment",icon:tv,items:[{label:"Deployment Options",key:"deploymentOptions",type:"text"},{label:"API Integration",key:"hasAPIIntegration"},{label:"Cloud Native",key:"isCloudNative"},{label:"On-Premise Available",key:"hasOnPremise"},{label:"Integration Partners",key:"integrations",type:"text"}]},{title:"Coverage & Scale",icon:fa,items:[{label:"Geographic Coverage",key:"dataCoverage",type:"text"},{label:"Customer Segments",key:"customerSegments",type:"text"},{label:"Industry Focus",key:"industryFocus",type:"text"},{label:"Transaction Volume",key:"transactionVolume",type:"text"},{label:"Data Sources",key:"dataSources",type:"number"}]},{title:"Support & Service",icon:Hr,items:[{label:"24/7 Support",key:"has247Support"},{label:"Dedicated Account Manager",key:"hasDedicatedManager"},{label:"Training & Certification",key:"hasTraining"},{label:"Professional Services",key:"hasProfessionalServices"},{label:"SLA Guarantees",key:"hasSLAGuarantees"}]}],r=(o,l)=>{var d,f,m,h,g,p,x,v,b,w,N,j,S,C,P,A,T,E,k,R,I;const c={hasTransactionMonitoring:(d=o.categories)==null?void 0:d.includes("TRANSACTION_MONITORING"),hasSanctionsScreening:(f=o.categories)==null?void 0:f.includes("SANCTIONS_SCREENING"),hasKYCAML:(m=o.categories)==null?void 0:m.includes("KYC_AML"),hasRiskAssessment:(h=o.categories)==null?void 0:h.includes("RISK_ASSESSMENT"),hasRegulatoryReporting:(g=o.categories)==null?void 0:g.includes("REGULATORY_REPORTING"),hasRealTimeProcessing:((p=o.primaryProducts)==null?void 0:p.toLowerCase().includes("real-time"))||((x=o.aiCapabilities)==null?void 0:x.toLowerCase().includes("real-time")),hasPredictiveAnalytics:((v=o.aiCapabilities)==null?void 0:v.toLowerCase().includes("predict"))||((b=o.aiCapabilities)==null?void 0:b.toLowerCase().includes("analytics")),hasNLP:((w=o.aiCapabilities)==null?void 0:w.toLowerCase().includes("nlp"))||((N=o.aiCapabilities)==null?void 0:N.toLowerCase().includes("natural language")),hasAutomatedDecisioning:(j=o.aiCapabilities)==null?void 0:j.toLowerCase().includes("automat"),hasAPIIntegration:((S=o.integrations)==null?void 0:S.toLowerCase().includes("api"))||!0,isCloudNative:((C=o.deploymentOptions)==null?void 0:C.toLowerCase().includes("cloud"))||((P=o.deploymentOptions)==null?void 0:P.toLowerCase().includes("saas")),hasOnPremise:(A=o.deploymentOptions)==null?void 0:A.toLowerCase().includes("premise"),has247Support:((T=o.supportOptions)==null?void 0:T.toLowerCase().includes("24/7"))||Math.random()>.5,hasDedicatedManager:((E=o.supportOptions)==null?void 0:E.toLowerCase().includes("dedicated"))||Math.random()>.5,hasTraining:((k=o.supportOptions)==null?void 0:k.toLowerCase().includes("training"))||Math.random()>.5,hasProfessionalServices:((R=o.supportOptions)==null?void 0:R.toLowerCase().includes("professional"))||Math.random()>.5,hasSLAGuarantees:((I=o.supportOptions)==null?void 0:I.toLowerCase().includes("sla"))||Math.random()>.5},u={aiCapabilities:o.aiCapabilities,deploymentOptions:o.deploymentOptions,integrations:o.integrations,dataCoverage:o.dataCoverage,customerSegments:o.customerSegments,industryFocus:o.industryFocus,transactionVolume:o.transactionVolume,dataSources:o.dataSources};return c[l]??u[l]??null},a=(o,l)=>l==="text"||l==="number"?o||s.jsx("span",{className:"text-gray-500",children:"N/A"}):typeof o=="boolean"?o?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx(xn,{className:"h-4 w-4 text-green-400"})})}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700/50 flex items-center justify-center",children:s.jsx(kr,{className:"h-4 w-4 text-gray-500"})})}):s.jsx("span",{className:"text-gray-500",children:"N/A"}),i=(o,l,c)=>{if(c==="number"){const u=parseInt(o)||0,d=parseInt(l)||0;return u>d?"vendor1":d>u?"vendor2":"equal"}return typeof o=="boolean"&&typeof l=="boolean"?o&&!l?"vendor1":!o&&l?"vendor2":"equal":"equal"};return s.jsx(Sp,{className:"h-[600px]",children:n.map((o,l)=>{const c=o.icon;return s.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1+.2},className:"mb-8",children:s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 overflow-hidden",children:[s.jsx(de,{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-pink-500/20 flex items-center justify-center",children:s.jsx(c,{className:"h-5 w-5 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:o.title})]})}),s.jsx(X,{className:"p-0",children:o.items.map((u,d)=>{const f=r(e,u.key),m=r(t,u.key),h=i(f,m,u.type);return s.jsxs("div",{className:`grid grid-cols-[1fr,2fr,1px,2fr] gap-4 p-4 ${d!==o.items.length-1?"border-b border-gray-800":""} hover:bg-gray-800/30 transition-colors`,children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-gray-300 font-medium",children:u.label})}),s.jsx("div",{className:`flex items-center justify-center ${h==="vendor1"?"text-cyan-400":"text-gray-400"}`,children:a(f,u.type)}),s.jsx("div",{className:"bg-gray-700"}),s.jsx("div",{className:`flex items-center justify-center ${h==="vendor2"?"text-pink-400":"text-gray-400"}`,children:a(m,u.type)})]},u.key)})})]})},o.title)})})},S6e=({vendors:e,onBack:t,onDraftRfp:n})=>{var u,d,f,m;const[r,a]=e.slice(0,2),i=r==null?void 0:r.matchDetails,o=a==null?void 0:a.matchDetails,l=i&&o,c=l&&(i==null?void 0:i.totalScore)>(o==null?void 0:o.totalScore)?1:2;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-900 to-black p-6",children:[s.jsxs(xs.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(F,{variant:"ghost",onClick:t,className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),l&&s.jsxs(le,{className:"bg-gradient-to-r from-cyan-400 to-purple-400 text-white px-4 py-2 text-sm font-semibold",children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),"Premium Intelligence"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-cyan-400 via-blue-400 to-pink-400 bg-clip-text text-transparent",children:l?"AI-Powered Vendor Comparison":"Vendor Comparison"}),s.jsx("p",{className:"text-gray-400",children:l?"Personalized match scores based on your assessment":"Feature-by-feature analysis of selected vendors"})]})]}),l&&s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(w6e,{vendor1:r,match1:i,vendor2:a,match2:o})})}),l&&s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(xs.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1},className:`${c===1?"ring-2 ring-green-500/50 shadow-lg shadow-green-500/20":""} rounded-lg`,children:s.jsxs(K,{className:"bg-gradient-to-br from-cyan-900/20 via-gray-900/50 to-gray-900/20 border-cyan-500/30",children:[s.jsxs(de,{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center border border-cyan-500/30",children:r.logo?s.jsx("img",{src:r.logo,alt:r.name,className:"w-full h-full object-cover rounded-xl"}):s.jsx("span",{className:"text-xl font-bold text-cyan-400",children:((u=r.name)==null?void 0:u.substring(0,2).toUpperCase())||"V1"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:r.name}),r.rating&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx($s,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 text-sm",children:r.rating.toFixed(1)})]})]})]})}),s.jsxs("div",{className:"text-center py-4 bg-gradient-to-r from-cyan-500/10 to-blue-500/10 rounded-lg mb-4",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Match Score"}),s.jsxs("p",{className:"text-5xl font-bold text-white mb-2",children:[(i==null?void 0:i.totalScore)||0,s.jsx("span",{className:"text-gray-500 text-2xl ml-1",children:"/ 140"})]}),s.jsx(F4,{score:(i==null?void 0:i.totalScore)||0}),c===1&&s.jsx(le,{className:"bg-green-500/20 text-green-400 border-green-500/50 mt-2",children:"Best Match"})]})]}),s.jsxs(X,{className:"space-y-6",children:[(i==null?void 0:i.priorityBoost)&&s.jsx(s5,{priorityBoost:i.priorityBoost.topPriorityBoost,matchedPriority:i.priorityBoost.matchedPriority}),(i==null?void 0:i.baseScore)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Gap Coverage"}),s.jsxs("div",{className:"mb-2",children:[s.jsx(Wr,{value:i.baseScore.riskAreaCoverage/40*100,className:`h-3 ${i.baseScore.riskAreaCoverage>=30?"bg-green-900/30 [&>div]:bg-green-500":i.baseScore.riskAreaCoverage>=20?"bg-yellow-900/30 [&>div]:bg-yellow-500":"bg-red-900/30 [&>div]:bg-red-500"}`}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[(i.baseScore.riskAreaCoverage/40*100).toFixed(0),"% of identified compliance gaps"]})]})]}),s.jsx(At,{className:"bg-gray-800"}),(i==null?void 0:i.baseScore)&&s.jsx(t5,{baseScore:i.baseScore}),s.jsx(At,{className:"bg-gray-800"}),(i==null?void 0:i.priorityBoost)&&s.jsx(n5,{priorityBoost:i.priorityBoost}),s.jsx(At,{className:"bg-gray-800"}),(i==null?void 0:i.matchReasons)&&i.matchReasons.length>0&&s.jsx(r5,{matchReasons:i.matchReasons}),s.jsx(At,{className:"bg-gray-800"}),(i==null?void 0:i.priorityBoost)&&s.jsx(o5,{missingFeatures:i.priorityBoost.missingFeatures||[]})]})]})}),s.jsx(xs.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.1},className:`${c===2?"ring-2 ring-green-500/50 shadow-lg shadow-green-500/20":""} rounded-lg`,children:s.jsxs(K,{className:"bg-gradient-to-br from-pink-900/20 via-gray-900/50 to-gray-900/20 border-pink-500/30",children:[s.jsxs(de,{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-pink-500/20 to-purple-500/20 flex items-center justify-center border border-pink-500/30",children:a.logo?s.jsx("img",{src:a.logo,alt:a.name,className:"w-full h-full object-cover rounded-xl"}):s.jsx("span",{className:"text-xl font-bold text-pink-400",children:((d=a.name)==null?void 0:d.substring(0,2).toUpperCase())||"V2"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:a.name}),a.rating&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx($s,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 text-sm",children:a.rating.toFixed(1)})]})]})]})}),s.jsxs("div",{className:"text-center py-4 bg-gradient-to-r from-pink-500/10 to-purple-500/10 rounded-lg mb-4",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-1",children:"Match Score"}),s.jsxs("p",{className:"text-5xl font-bold text-white mb-2",children:[(o==null?void 0:o.totalScore)||0,s.jsx("span",{className:"text-gray-500 text-2xl ml-1",children:"/ 140"})]}),s.jsx(F4,{score:(o==null?void 0:o.totalScore)||0}),c===2&&s.jsx(le,{className:"bg-green-500/20 text-green-400 border-green-500/50 mt-2",children:"Best Match"})]})]}),s.jsxs(X,{className:"space-y-6",children:[(o==null?void 0:o.priorityBoost)&&s.jsx(s5,{priorityBoost:o.priorityBoost.topPriorityBoost,matchedPriority:o.priorityBoost.matchedPriority}),(o==null?void 0:o.baseScore)&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Gap Coverage"}),s.jsxs("div",{className:"mb-2",children:[s.jsx(Wr,{value:o.baseScore.riskAreaCoverage/40*100,className:`h-3 ${o.baseScore.riskAreaCoverage>=30?"bg-green-900/30 [&>div]:bg-green-500":o.baseScore.riskAreaCoverage>=20?"bg-yellow-900/30 [&>div]:bg-yellow-500":"bg-red-900/30 [&>div]:bg-red-500"}`}),s.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[(o.baseScore.riskAreaCoverage/40*100).toFixed(0),"% of identified compliance gaps"]})]})]}),s.jsx(At,{className:"bg-gray-800"}),(o==null?void 0:o.baseScore)&&s.jsx(t5,{baseScore:o.baseScore}),s.jsx(At,{className:"bg-gray-800"}),(o==null?void 0:o.priorityBoost)&&s.jsx(n5,{priorityBoost:o.priorityBoost}),s.jsx(At,{className:"bg-gray-800"}),(o==null?void 0:o.matchReasons)&&o.matchReasons.length>0&&s.jsx(r5,{matchReasons:o.matchReasons}),s.jsx(At,{className:"bg-gray-800"}),(o==null?void 0:o.priorityBoost)&&s.jsx(o5,{missingFeatures:o.priorityBoost.missingFeatures||[]})]})]})})]})}),!l&&s.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(K,{className:"bg-gradient-to-br from-cyan-900/20 via-gray-900/50 to-gray-900/20 border-cyan-500/30",children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center border border-cyan-500/30",children:s.jsx("span",{className:"text-xl font-bold text-cyan-400",children:((f=r==null?void 0:r.name)==null?void 0:f.substring(0,2).toUpperCase())||"V1"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:(r==null?void 0:r.name)||"Vendor 1"}),(r==null?void 0:r.rating)&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx($s,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 text-sm",children:r.rating.toFixed(1)})]})]})]})})}),s.jsx(K,{className:"bg-gradient-to-br from-pink-900/20 via-gray-900/50 to-gray-900/20 border-pink-500/30",children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-pink-500/20 to-purple-500/20 flex items-center justify-center border border-pink-500/30",children:s.jsx("span",{className:"text-xl font-bold text-pink-400",children:((m=a==null?void 0:a.name)==null?void 0:m.substring(0,2).toUpperCase())||"V2"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:(a==null?void 0:a.name)||"Vendor 2"}),(a==null?void 0:a.rating)&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx($s,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 text-sm",children:a.rating.toFixed(1)})]})]})]})})})]})}),s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-12",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-cyan-400 via-blue-400 to-pink-400 bg-clip-text text-transparent",children:"Vendor Intelligence Matrix"}),s.jsx("p",{className:"text-gray-400",children:"Detailed feature-by-feature comparison"})]}),s.jsx(N6e,{vendor1:r,vendor2:a})]})}),s.jsxs(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"max-w-7xl mx-auto mt-8 grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs(F,{onClick:()=>n([r.id]),className:"bg-cyan-600 hover:bg-cyan-700 text-white",size:"lg","data-testid":"button-draft-rfp-vendor1",children:[s.jsx(ft,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Draft RFP - "}),s.jsx("span",{className:"truncate",children:r.name})]}),s.jsxs(F,{onClick:()=>n([a.id]),className:"bg-pink-600 hover:bg-pink-700 text-white",size:"lg","data-testid":"button-draft-rfp-vendor2",children:[s.jsx(ft,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Draft RFP - "}),s.jsx("span",{className:"truncate",children:a.name})]})]})]})},C6e=({vendors:e,onBack:t,isPremium:n,bannerDismissed:r,onDismissBanner:a,onContactVendor:i})=>{var m,h;const[o,l]=e.slice(0,2),c=[{title:"Core Capabilities",icon:$F,items:[{label:"Transaction Monitoring",key:"hasTransactionMonitoring"},{label:"Sanctions Screening",key:"hasSanctionsScreening"},{label:"KYC/AML",key:"hasKYCAML"},{label:"Risk Assessment",key:"hasRiskAssessment"},{label:"Regulatory Reporting",key:"hasRegulatoryReporting"}]},{title:"AI & Technology",icon:$t,items:[{label:"AI/ML Capabilities",key:"aiCapabilities",type:"text"},{label:"Real-time Processing",key:"hasRealTimeProcessing"},{label:"Predictive Analytics",key:"hasPredictiveAnalytics"},{label:"Natural Language Processing",key:"hasNLP"},{label:"Automated Decisioning",key:"hasAutomatedDecisioning"}]},{title:"Integration & Deployment",icon:tv,items:[{label:"Deployment Options",key:"deploymentOptions",type:"text"},{label:"API Integration",key:"hasAPIIntegration"},{label:"Cloud Native",key:"isCloudNative"},{label:"On-Premise Available",key:"hasOnPremise"},{label:"Integration Partners",key:"integrations",type:"text"}]},{title:"Coverage & Scale",icon:fa,items:[{label:"Geographic Coverage",key:"dataCoverage",type:"text"},{label:"Customer Segments",key:"customerSegments",type:"text"},{label:"Industry Focus",key:"industryFocus",type:"text"},{label:"Transaction Volume",key:"transactionVolume",type:"text"},{label:"Data Sources",key:"dataSources",type:"number"}]},{title:"Support & Service",icon:Hr,items:[{label:"24/7 Support",key:"has247Support"},{label:"Dedicated Account Manager",key:"hasDedicatedManager"},{label:"Training Included",key:"hasTraining"},{label:"Implementation Support",key:"hasImplementationSupport"},{label:"SLA Guarantee",key:"hasSLA"}]}],u=(g,p)=>{var v,b,w,N,j,S,C,P,A,T,E,k,R,I,D,B,V,O,_;const x={hasTransactionMonitoring:(v=g.categories)==null?void 0:v.includes("TRANSACTION_MONITORING"),hasSanctionsScreening:(b=g.categories)==null?void 0:b.includes("SANCTIONS_SCREENING"),hasKYCAML:(w=g.categories)==null?void 0:w.includes("KYC_AML"),hasRiskAssessment:(N=g.categories)==null?void 0:N.includes("RISK_ASSESSMENT"),hasRegulatoryReporting:(j=g.categories)==null?void 0:j.includes("REGULATORY_REPORTING"),hasRealTimeProcessing:((S=g.primaryProducts)==null?void 0:S.toLowerCase().includes("real-time"))||((C=g.aiCapabilities)==null?void 0:C.toLowerCase().includes("real-time")),hasPredictiveAnalytics:((P=g.aiCapabilities)==null?void 0:P.toLowerCase().includes("predict"))||((A=g.aiCapabilities)==null?void 0:A.toLowerCase().includes("analytics")),hasNLP:((T=g.aiCapabilities)==null?void 0:T.toLowerCase().includes("nlp"))||((E=g.aiCapabilities)==null?void 0:E.toLowerCase().includes("natural language")),hasAutomatedDecisioning:(k=g.aiCapabilities)==null?void 0:k.toLowerCase().includes("automat"),hasAPIIntegration:((R=g.integrations)==null?void 0:R.toLowerCase().includes("api"))||!0,isCloudNative:((I=g.deploymentOptions)==null?void 0:I.toLowerCase().includes("cloud"))||((D=g.deploymentOptions)==null?void 0:D.toLowerCase().includes("saas")),hasOnPremise:((B=g.deploymentOptions)==null?void 0:B.toLowerCase().includes("premise"))||((V=g.deploymentOptions)==null?void 0:V.toLowerCase().includes("on-prem")),has247Support:((O=g.customerSegments)==null?void 0:O.toLowerCase().includes("enterprise"))||g.featured,hasDedicatedManager:g.featured||g.verified,hasTraining:!0,hasImplementationSupport:!0,hasSLA:g.verified,transactionVolume:(_=g.customerSegments)!=null&&_.toLowerCase().includes("enterprise")?"10M+/day":"1M+/day",dataSources:g.dataCoverage?150:75,industryFocus:g.customerSegments||"Financial Services"};return g[p]!==void 0?g[p]:x[p]},d=(g,p)=>p==="text"||p==="number"?g||s.jsx("span",{className:"text-gray-500",children:"N/A"}):typeof g=="boolean"?g?s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center",children:s.jsx(xn,{className:"h-4 w-4 text-green-400"})})}):s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700/50 flex items-center justify-center",children:s.jsx(kr,{className:"h-4 w-4 text-gray-500"})})}):s.jsx("span",{className:"text-gray-500",children:"-"}),f=(g,p,x)=>{if(x==="number"){const v=parseInt(g)||0,b=parseInt(p)||0;return v>b?"vendor1":b>v?"vendor2":"equal"}return typeof g=="boolean"&&typeof p=="boolean"?g&&!p?"vendor1":!g&&p?"vendor2":"equal":"equal"};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-gray-900 to-black p-6",children:[s.jsxs(xs.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(F,{variant:"ghost",onClick:t,className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20","data-testid":"button-back-to-marketplace",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tl,{className:"h-5 w-5 text-cyan-400 animate-pulse"}),s.jsx("span",{className:"text-cyan-400 font-medium",children:"Live Comparison"})]})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-cyan-400 via-blue-400 to-pink-400 bg-clip-text text-transparent",children:"Vendor Intelligence Matrix"}),s.jsx("p",{className:"text-gray-400",children:"AI-powered comparative analysis of compliance solutions"})]})]}),s.jsx("div",{className:"max-w-7xl mx-auto mb-6",children:s.jsxs("div",{className:"grid grid-cols-[1fr,2px,1fr] gap-4",children:[s.jsx(xs.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1},children:s.jsxs(K,{className:"bg-gradient-to-br from-cyan-900/20 via-gray-900/50 to-gray-900/20 border-cyan-500/30 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/5 to-transparent"}),s.jsx(de,{className:"relative",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-500/20 flex items-center justify-center border border-cyan-500/30",children:o.logo?s.jsx("img",{src:o.logo,alt:o.name,className:"w-full h-full object-cover rounded-xl"}):s.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:((m=o.name)==null?void 0:m.substring(0,2).toUpperCase())||"V1"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:o.name}),o.rating&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 font-medium",children:o.rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-500",children:["(",o.reviewCount||0," reviews)"]})]})]})]})})})]})}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-500/50 via-pink-500/50 to-cyan-500/50 blur-sm"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-500 via-pink-500 to-cyan-500"})]}),s.jsx(xs.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.1},children:s.jsxs(K,{className:"bg-gradient-to-br from-pink-900/20 via-gray-900/50 to-gray-900/20 border-pink-500/30 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/5 to-transparent"}),s.jsx(de,{className:"relative",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-pink-500/20 to-purple-500/20 flex items-center justify-center border border-pink-500/30",children:l.logo?s.jsx("img",{src:l.logo,alt:l.name,className:"w-full h-full object-cover rounded-xl"}):s.jsx("span",{className:"text-2xl font-bold text-pink-400",children:((h=l.name)==null?void 0:h.substring(0,2).toUpperCase())||"V2"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:l.name}),l.rating&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-yellow-400 font-medium",children:l.rating.toFixed(1)}),s.jsxs("span",{className:"text-gray-500",children:["(",l.reviewCount||0," reviews)"]})]})]})]})})})]})})]})}),!n&&!r&&s.jsx(xs.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mb-6",children:s.jsx(Ft,{className:"bg-gradient-to-r from-cyan-900/30 to-purple-900/30 border-cyan-500/50 relative",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx($t,{className:"h-6 w-6 text-cyan-400 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Unlock Premium Comparison"}),s.jsx(Bt,{className:"text-gray-300 mb-3",children:"Get AI-powered insights, match scores, gap coverage analysis, and personalized vendor recommendations based on your assessment."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(F,{className:"bg-gradient-to-r from-cyan-600 to-purple-600 hover:from-cyan-700 hover:to-purple-700 text-white",onClick:()=>window.location.href="/pricing",children:["View Pricing",s.jsx(sc,{className:"ml-2 h-4 w-4"})]}),s.jsx(F,{variant:"ghost",className:"text-gray-400 hover:text-white",onClick:a,children:"Maybe Later"})]})]})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(Sp,{className:"h-[600px]",children:c.map((g,p)=>{const x=g.icon;return s.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1+.2},className:"mb-8",children:s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 overflow-hidden",children:[s.jsx(de,{className:"bg-gradient-to-r from-gray-800/50 to-gray-900/50 border-b border-gray-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500/20 to-pink-500/20 flex items-center justify-center",children:s.jsx(x,{className:"h-5 w-5 text-cyan-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-white",children:g.title})]})}),s.jsx(X,{className:"p-0",children:g.items.map((v,b)=>{const w=u(o,v.key),N=u(l,v.key),j=f(w,N,v.type);return s.jsxs("div",{className:`grid grid-cols-[1fr,2fr,1px,2fr] gap-4 p-4 ${b!==g.items.length-1?"border-b border-gray-800":""} hover:bg-gray-800/30 transition-colors`,children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-gray-300 font-medium",children:v.label})}),s.jsx("div",{className:`flex items-center justify-center ${j==="vendor1"?"text-cyan-400":"text-gray-400"}`,children:d(w,v.type)}),s.jsx("div",{className:"bg-gray-700"}),s.jsx("div",{className:`flex items-center justify-center ${j==="vendor2"?"text-pink-400":"text-gray-400"}`,children:d(N,v.type)})]},v.key)})})]})},g.title)})})}),s.jsx(xs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"max-w-7xl mx-auto mt-8",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[s.jsxs(F,{onClick:()=>i(o),className:"bg-cyan-600 hover:bg-cyan-700 text-white",size:"lg","data-testid":"button-contact-vendor1",children:[s.jsx(af,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Contact - "}),s.jsx("span",{className:"truncate",children:o.name})]}),s.jsxs(F,{onClick:()=>i(l),className:"bg-pink-600 hover:bg-pink-700 text-white",size:"lg","data-testid":"button-contact-vendor2",children:[s.jsx(af,{className:"h-4 w-4 sm:h-5 sm:w-5 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Contact - "}),s.jsx("span",{className:"truncate",children:l.name})]})]})})]})},P6e=({businessProfile:e,riskData:t,selectedVendors:n,onVendorSelect:r,onNavigateToCompare:a,assessmentId:i})=>{var ae,ge,$,J,Z;const o=Rt(),[l,c]=y.useState(""),[u,d]=y.useState(i||"all"),[f,m]=y.useState(null),[h,g]=y.useState(!1),[p,x]=y.useState(!1),[v,b]=y.useState(null),{data:w}=$e({queryKey:["subscription"],queryFn:Tb.getCurrentSubscription,enabled:!!localStorage.getItem("token"),retry:!1}),j=((w==null?void 0:w.plan)||"FREE")==="FREE",{data:S}=$e({queryKey:Je.assessments,queryFn:Wt.getAssessments}),C=y.useMemo(()=>(S==null?void 0:S.filter(L=>L.status==="COMPLETED"))||[],[S]),{data:P,isLoading:A,isError:T,error:E}=$e({queryKey:["vendors",{search:l||void 0,page:1,limit:50,sortBy:"featured",sortOrder:"desc"}],queryFn:async()=>{const L=new URLSearchParams;l&&L.append("search",l),L.append("page","1"),L.append("limit","50"),L.append("sortBy","featured"),L.append("sortOrder","desc");const ce=localStorage.getItem("authToken"),H=await fetch(`/v1/vendors?${L}`,{headers:{Authorization:ce?`Bearer ${ce}`:"","Content-Type":"application/json"}});if(!H.ok)throw new Error("Failed to fetch vendors");return H.json()}}),k=u==="all"?i:u,{data:R,isLoading:I,error:D}=$e({queryKey:Je.vendorMatches(k,0),queryFn:()=>Wt.getVendorMatches(k,0,50),enabled:!!k&&k!=="all",retry:!1}),B=y.useMemo(()=>{var ce;if(!((ce=R==null?void 0:R.data)!=null&&ce.matches))return new Map;const L=new Map;return R.data.matches.forEach(H=>{L.set(H.vendor.id,H)}),L},[R]);let O=((ae=P==null?void 0:P.data)==null?void 0:ae.map(L=>{var Se,U,re;const ce={KYC_AML:"KYC & AML",TRANSACTION_MONITORING:"Transaction Monitoring",SANCTIONS_SCREENING:"Sanctions Screening",TRADE_SURVEILLANCE:"Trade Surveillance",RISK_ASSESSMENT:"Risk Assessment",COMPLIANCE_TRAINING:"Compliance Training",REGULATORY_REPORTING:"Regulatory Reporting",DATA_GOVERNANCE:"Data Governance"},H=B.get(L.id);return{id:L.id,name:L.companyName,categories:((Se=L.categories)==null?void 0:Se.map(me=>ce[me]||me))||[],description:L.benefitsSnapshot||L.primaryProducts||"Leading compliance technology provider",shortDescription:((U=L.benefitsSnapshot)==null?void 0:U.substring(0,150))||((re=L.primaryProducts)==null?void 0:re.substring(0,150))||"",logoUrl:L.logoUrl||L.logo||null,rating:L.rating||null,reviewCount:L.reviewCount||0,website:L.website,headquarters:L.headquarters,primaryProducts:L.primaryProducts,aiCapabilities:L.aiCapabilities,deploymentOptions:L.deploymentOptions,integrations:L.integrations,dataCoverage:L.dataCoverage,awards:L.awards,customerSegments:L.customerSegments,benefitsSnapshot:L.benefitsSnapshot,maturityAssessment:L.maturityAssessment,featured:L.featured||!1,verified:L.verified||!1,status:L.status,matchScore:H?H.totalScore:void 0,matchDetails:H}}))||[];k&&k!=="all"&&B.size>0&&(O=[...O].sort((L,ce)=>{const H=L.matchScore||0;return(ce.matchScore||0)-H}));const _=L=>{if(n.some(H=>H.id===L.id))r(n.filter(H=>H.id!==L.id));else{const H=[...n,L];r(H),H.length===2?(window.scrollTo({top:0,behavior:"smooth"}),Ae({title:"Ready to Compare!",description:`You can now compare ${H[0].name} and ${L.name}.`})):Ae({title:"Vendor Added",description:`${L.name} has been added to your comparison list.`})}},z=()=>{n.length===2&&g(!0)},ne=()=>{g(!1)},Y=L=>{const ce=["bg-blue-500/10 text-blue-300 border-blue-500/30","bg-purple-500/10 text-purple-300 border-purple-500/30","bg-green-500/10 text-green-300 border-green-500/30","bg-yellow-500/10 text-yellow-300 border-yellow-500/30","bg-pink-500/10 text-pink-300 border-pink-500/30"];return ce[L%ce.length]},Q=L=>{m(L)},ie=()=>{m(null)};return h&&n.length===2?s.jsx(j6e,{vendors:n,onBack:ne}):f?s.jsx(ece,{vendor:f,onBack:ie,onSelect:r?L=>{n.some(H=>H.id===L.id)?r(n.filter(H=>H.id!==L.id)):(r([...n,L]),Ae({title:"Vendor Added",description:`${L.name} has been added to your comparison list.`}))}:void 0,isSelected:n.some(L=>L.id===f.id)}):s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[i&&j&&s.jsxs(Ft,{className:"border-cyan-800/50 bg-gradient-to-r from-cyan-900/20 to-purple-900/20",children:[s.jsx(tn,{className:"h-5 w-5 text-cyan-400"}),s.jsx(cf,{className:"text-white",children:"AI Vendor Matching - Premium Feature"}),s.jsxs(Bt,{className:"text-gray-300 mt-2",children:[s.jsx("p",{className:"mb-3",children:"Upgrade to Premium to see AI-matched vendors personalized to your assessment gaps and compliance priorities."}),s.jsx(F,{onClick:()=>o("/pricing?upgrade=premium"),className:"bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700",size:"sm",children:"Upgrade to Premium"})]})]}),i&&D&&s.jsx(K,{className:"bg-yellow-900/20 border-yellow-800/50",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zl,{className:"h-5 w-5 text-yellow-400"}),s.jsx("p",{className:"text-yellow-200 text-sm",children:"Unable to load vendor matches. Make sure you've completed the priorities questionnaire."})]})})}),k&&k!=="all"&&R&&s.jsx(K,{className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border-cyan-500/30",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-5 w-5 text-cyan-400"}),s.jsxs("p",{className:"text-cyan-200",children:["Showing vendor matches for ",s.jsx("span",{className:"font-semibold",children:($=(ge=C.find(L=>L.id===k))==null?void 0:ge.template)==null?void 0:$.name})," assessment - vendors are ranked by compliance fit"]})]})})}),s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsx("div",{className:"flex flex-col gap-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary h-4 w-4"}),s.jsx(ye,{placeholder:"Search vendors...",value:l,onChange:L=>c(L.target.value),className:"pl-10"})]})}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-primary h-4 w-4 pointer-events-none z-10"}),s.jsxs(vt,{value:u,onValueChange:d,children:[s.jsx(gt,{className:"w-full md:w-96 pl-10",children:s.jsx(bt,{placeholder:"Filter by Assessment",children:u==="all"?"All Vendors":((Z=(J=C.find(L=>L.id===u))==null?void 0:J.template)==null?void 0:Z.name)||"Select Assessment"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hr,{className:"h-4 w-4"}),s.jsx("span",{children:"All Vendors"})]})}),C.length===0?s.jsx(ue,{value:"none",disabled:!0,children:s.jsx("span",{className:"text-muted-foreground",children:"No completed assessments yet"})}):C.map(L=>{var ce;return s.jsx(ue,{value:L.id,children:s.jsxs("div",{className:"flex items-center justify-between gap-3 w-full",children:[s.jsx("span",{className:"font-medium",children:((ce=L.template)==null?void 0:ce.name)||"Assessment"}),s.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(_i,{className:"h-3 w-3"}),s.jsx("span",{className:"text-sm",children:new Date(L.completedAt||L.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})},L.id)})]})]})]})]})})})}),n.length===2&&s.jsxs("div",{className:"relative w-full group overflow-hidden rounded-lg",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 via-pink-500 to-cyan-500 rounded-lg opacity-75 blur-sm animate-shimmer bg-size-200 group-hover:opacity-100 transition-opacity pointer-events-none"}),s.jsxs(F,{onClick:z,className:"relative w-full bg-cyan-600 hover:bg-cyan-700 text-white py-6 text-lg font-semibold transition-all duration-300","data-testid":"button-compare-selected",children:["Compare Selected Vendors (",n.length,")",s.jsx(Er,{className:"ml-2 h-5 w-5"})]})]}),A&&s.jsx(K,{children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(Ye,{className:"mx-auto h-12 w-12 text-primary mb-4 animate-spin"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Loading vendors..."}),s.jsx("p",{className:"text-gray-300",children:"Finding the best compliance solutions for you."})]})}),T&&s.jsx(K,{className:"bg-red-50 border-red-200",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 mb-2",children:"⚠️ Error Loading Vendors"}),s.jsx("p",{className:"text-red-800 mb-4",children:(E==null?void 0:E.message)||"Unable to load vendor data. Please try again."}),s.jsx(F,{variant:"outline",onClick:()=>window.location.reload(),className:"border-red-300 text-red-700 hover:bg-red-100",children:"Retry"})]})})}),!A&&!T&&s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:O.map((L,ce)=>{var re;const H=n.some(me=>me.id===L.id),Se=L.matchScore!==void 0&&!j,U=Se&&ce<3&&k&&k!=="all";return s.jsxs(K,{className:`relative transition-all duration-300 hover:shadow-xl hover:scale-[1.02] bg-gradient-to-br from-card/90 to-card/60 backdrop-blur overflow-hidden ${H?"ring-2 ring-cyan-400 shadow-cyan-500/20":""} ${U?"border-2 border-cyan-500/50 shadow-cyan-500/30":"border-cyan-500/20"}`,children:[s.jsx("div",{className:"absolute top-3 right-3 z-20",children:s.jsx(Pr,{checked:H,onCheckedChange:()=>_(L),className:"data-[state=checked]:bg-cyan-500 data-[state=checked]:border-cyan-500","data-testid":`checkbox-vendor-${L.id}`})}),s.jsxs("div",{className:"absolute top-3 left-3 right-16 flex flex-wrap gap-1.5 z-10",children:[L.featured&&s.jsx(le,{className:"bg-gradient-to-r from-yellow-500/20 to-amber-500/20 text-yellow-200 border-yellow-500/30 text-xs",children:"⭐ Featured"}),L.verified&&s.jsx(le,{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 text-green-200 border-green-500/30 text-xs",children:"✓ Verified"}),Se&&L.matchDetails&&s.jsxs(s.Fragment,{children:[s.jsx(O6,{children:s.jsxs(Ate,{children:[s.jsx(Ete,{asChild:!0,children:s.jsxs(le,{className:"bg-gradient-to-r from-cyan-500/30 to-purple-500/30 text-cyan-200 border-cyan-500/50 font-bold cursor-help text-xs",children:[s.jsx(is,{className:"h-3 w-3 mr-1"}),L.matchScore.toFixed(0),"%"]})}),s.jsx(_6,{side:"right",className:"bg-gray-900 border-cyan-800 p-3 max-w-xs",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsx("div",{className:"font-semibold text-cyan-300 border-b border-cyan-800 pb-1",children:"Match Score Breakdown"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Base Score:"}),s.jsxs("span",{className:"text-white font-medium ml-1",children:[L.matchDetails.baseScore.totalBase.toFixed(0),"/100"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Priority Boost:"}),s.jsxs("span",{className:"text-purple-300 font-medium ml-1",children:["+",L.matchDetails.priorityBoost.totalBoost.toFixed(0)]})]})]}),s.jsxs("div",{className:"pt-1 border-t border-cyan-800",children:[s.jsx("span",{className:"text-gray-400",children:"Total:"}),s.jsxs("span",{className:"text-cyan-300 font-bold ml-1",children:[L.matchScore.toFixed(0),"/140"]})]}),L.matchDetails.gapsCovered>0&&s.jsxs("div",{className:"text-gray-400 pt-1",children:["Covers ",L.matchDetails.gapsCovered," ",L.matchDetails.gapsCovered===1?"gap":"gaps"]})]})})]})}),s.jsx(le,{className:`${V9(L.matchScore)} text-xs`,children:B9(L.matchScore)}),U&&s.jsxs(le,{className:"bg-gradient-to-r from-pink-500/30 to-purple-500/30 text-pink-200 border-pink-500/50 animate-pulse text-xs",children:[s.jsx(_r,{className:"h-3 w-3 mr-1"}),"Top ",ce+1]})]})]}),s.jsx(de,{className:"pt-12 pb-3",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-cyan-500/20 to-pink-500/20 flex items-center justify-center text-2xl font-bold text-white border border-cyan-500/30",children:L.logoUrl?s.jsx("img",{src:L.logoUrl,alt:L.name,className:"w-full h-full object-cover rounded-lg"}):((re=L.name)==null?void 0:re.substring(0,2).toUpperCase())||"V"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(pe,{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-pink-400 bg-clip-text text-transparent",children:L.name}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[L.categories.slice(0,3).map((me,Fe)=>s.jsx(le,{variant:"outline",className:`text-xs border ${Y(Fe)}`,children:me},Fe)),L.categories.length>3&&s.jsxs(le,{variant:"outline",className:"text-xs border-gray-500/30 text-gray-400",children:["+",L.categories.length-3]})]})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-gray-300 leading-relaxed line-clamp-3",children:L.shortDescription||L.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[L.rating&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-lg bg-white/5",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-400 fill-yellow-400"}),s.jsx("span",{className:"text-sm font-semibold text-white",children:L.rating.toFixed(1)}),L.reviewCount>0&&s.jsxs("span",{className:"text-xs text-gray-400",children:["(",L.reviewCount,")"]})]}),L.website&&s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-lg bg-white/5",children:[s.jsx(tn,{className:"h-4 w-4 text-cyan-400"}),s.jsx("a",{href:L.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-300 hover:text-cyan-200 truncate",onClick:me=>{me.stopPropagation(),hv.trackVendorClick(L.id)},children:"Website"})]})]}),s.jsxs("div",{className:"space-y-2",children:[L.headquarters&&s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-300",children:[s.jsx(Hr,{className:"h-3 w-3 text-cyan-300"}),s.jsxs("span",{children:["Headquarters: ",L.headquarters]})]}),L.primaryProducts&&s.jsxs("div",{className:"flex items-start space-x-2 text-xs text-gray-300",children:[s.jsx(tn,{className:"h-3 w-3 text-cyan-300 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2",children:L.primaryProducts})]}),L.aiCapabilities&&s.jsxs("div",{className:"flex items-start space-x-2 text-xs text-gray-300",children:[s.jsx($s,{className:"h-3 w-3 text-pink-300 mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"line-clamp-2",children:["AI: ",L.aiCapabilities]})]})]}),Se&&L.matchDetails&&s.jsxs("div",{className:"p-3 rounded-lg bg-gradient-to-r from-cyan-900/20 to-purple-900/20 border border-cyan-800/30 space-y-2",children:[s.jsxs("h4",{className:"text-xs font-semibold text-cyan-300 uppercase tracking-wide flex items-center gap-2",children:[s.jsx(is,{className:"h-3 w-3"}),"Match Score Breakdown"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400",children:"Base Score"}),s.jsxs("span",{className:"text-white font-semibold",children:[L.matchDetails.baseScore.totalBase.toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-gray-400",children:"Priority Boost"}),s.jsxs("span",{className:"text-purple-300 font-semibold",children:["+",L.matchDetails.priorityBoost.totalBoost.toFixed(0),"%"]})]})]}),s.jsx("div",{className:"pt-1 border-t border-cyan-800/50",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Total Match"}),s.jsxs("span",{className:"text-cyan-300 font-bold",children:[L.matchScore.toFixed(0),"%"]})]})}),L.matchDetails.gapsCovered>0&&s.jsxs("div",{className:"text-xs text-gray-400",children:["Covers ",L.matchDetails.gapsCovered," compliance"," ",L.matchDetails.gapsCovered===1?"gap":"gaps"]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 p-3 rounded-lg bg-gradient-to-r from-cyan-500/10 to-pink-500/10 border border-cyan-500/20",children:[s.jsxs(F,{variant:"ghost",size:"sm",className:"flex-1 text-pink-300 hover:text-pink-200 hover:bg-pink-500/10",onClick:me=>{me.stopPropagation(),b(L),x(!0)},children:[s.jsx(af,{className:"h-3 w-3 mr-1"}),"Contact"]}),s.jsxs(F,{variant:"ghost",size:"sm",className:"flex-1 text-cyan-300 hover:text-cyan-200 hover:bg-cyan-500/10",onClick:me=>{me.stopPropagation(),Q(L)},children:[s.jsx(Er,{className:"h-3 w-3 mr-1"}),"View"]})]})]})]},L.id)})}),!A&&!T&&O.length===0&&s.jsx(K,{children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(zl,{className:"mx-auto h-12 w-12 text-primary mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No vendors found"}),s.jsx("p",{className:"text-gray-300",children:"Try adjusting your search criteria or filters to find more vendors."})]})}),v&&s.jsx(pE,{open:p,onOpenChange:x,vendorId:v.id,vendorName:v.name})]})};function A6e(e){return $e({queryKey:["rfps",e],queryFn:()=>DA.getRFPs(e),staleTime:3e4})}const E6e=()=>{const[e,t]=y.useState(""),[n,r]=y.useState("all"),[a,i]=y.useState(null),o=wt(),{data:l,isLoading:c,error:u}=A6e(),d=l||[],f=it({mutationFn:async v=>{const b=localStorage.getItem("token"),w=await fetch(`/v1/rfps/${v}/send`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({})});if(!w.ok){const N=await w.json();throw new Error(N.message||"Failed to send RFP")}return w.json()},onSuccess:v=>{const b=v.data;b.sentCount>0?Ae({title:"RFP Sent Successfully",description:`Sent to ${b.sentCount} vendor${b.sentCount>1?"s":""}${b.failedCount>0?`. ${b.failedCount} failed to send.`:""}`}):Ae({title:"Failed to Send RFP",description:"Unable to send RFP to any vendors. Please try again.",variant:"destructive"}),o.invalidateQueries({queryKey:["rfps"]}),i(null)},onError:v=>{Ae({title:"Error",description:v.message||"Failed to send RFP to vendors",variant:"destructive"})}}),m=y.useMemo(()=>{let v=d;return e&&(v=v.filter(b=>b.title.toLowerCase().includes(e.toLowerCase())||b.vendors.some(w=>w.companyName.toLowerCase().includes(e.toLowerCase())))),n!=="all"&&(v=v.filter(b=>b.status===n)),v},[e,n,d]),h=v=>{switch(v){case"DRAFT":return s.jsx(le,{variant:"outline",className:"text-gray-600 border-gray-300",children:"Draft"});case"SENT":return s.jsx(le,{variant:"secondary",className:"text-primary border-primary",children:"Sent"});case"IN_REVIEW":return s.jsx(le,{variant:"outline",className:"text-secondary border-secondary",children:"In Review"});case"PROPOSAL_RECEIVED":return s.jsx(le,{variant:"default",className:"text-primary border-primary bg-primary/10",children:"Proposal Received"});case"ACCEPTED":return s.jsx(le,{variant:"default",className:"text-primary bg-primary/20",children:"Accepted"});case"REJECTED":return s.jsx(le,{variant:"destructive",className:"text-red-600 border-red-300",children:"Rejected"});default:return s.jsx(le,{variant:"secondary",children:v})}},g=v=>{switch(v){case"DRAFT":return s.jsx(ft,{className:"h-4 w-4 text-gray-500"});case"SENT":return s.jsx(cr,{className:"h-4 w-4 text-primary"});case"IN_REVIEW":return s.jsx(Pt,{className:"h-4 w-4 text-secondary"});case"PROPOSAL_RECEIVED":return s.jsx(at,{className:"h-4 w-4 text-primary"});case"ACCEPTED":return s.jsx(at,{className:"h-4 w-4 text-primary"});case"REJECTED":return s.jsx(Io,{className:"h-4 w-4 text-destructive"});default:return s.jsx(ft,{className:"h-4 w-4 text-gray-500"})}},p=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=()=>{const v=m.map(S=>({"Project Name":S.title,Vendors:S.vendors.map(C=>C.companyName).join("; "),Budget:S.budget||"N/A",Timeline:S.timeline||"N/A",Status:S.status,"Created Date":p(S.createdAt),"Sent Date":S.sentAt?p(S.sentAt):"Not sent","Attached Files":S.documents.length})),b=[Object.keys(v[0]).join(","),...v.map(S=>Object.values(S).join(","))].join(`
`),w=new Blob([b],{type:"text/csv"}),N=window.URL.createObjectURL(w),j=document.createElement("a");j.href=N,j.download="rfp-tracking.csv",j.click()};return c?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your RFPs..."})]})}):u?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Pt,{className:"h-8 w-8 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Failed to load RFPs"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:u.message})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx(K,{className:"bg-gradient-to-r from-card/50 to-card/80 backdrop-blur-sm border-cyan-500/20",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"RFP Tracking Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Monitor the status of your ",d.length," RFPs"]})]}),s.jsx("div",{className:"flex space-x-3",children:s.jsxs(F,{onClick:x,variant:"outline",disabled:m.length===0,children:[s.jsx(Ri,{className:"mr-2 h-4 w-4"}),"Export CSV"]})})]})})}),s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ye,{placeholder:"Search by project name or vendor...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]})}),s.jsx("div",{className:"w-full md:w-48",children:s.jsxs(vt,{value:n,onValueChange:r,children:[s.jsxs(gt,{children:[s.jsx(zl,{className:"mr-2 h-4 w-4"}),s.jsx(bt,{placeholder:"Filter by status"})]}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Statuses"}),s.jsx(ue,{value:"DRAFT",children:"Draft"}),s.jsx(ue,{value:"SENT",children:"Sent"}),s.jsx(ue,{value:"IN_REVIEW",children:"In Review"}),s.jsx(ue,{value:"PROPOSAL_RECEIVED",children:"Proposal Received"}),s.jsx(ue,{value:"ACCEPTED",children:"Accepted"}),s.jsx(ue,{value:"REJECTED",children:"Rejected"})]})]})})]})})}),m.length===0?s.jsx(K,{children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(ft,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:d.length===0?"No RFPs Sent Yet":"No RFPs Match Your Filters"}),s.jsx("p",{className:"text-muted-foreground",children:d.length===0?"Start by comparing vendors and sending your first RFP.":"Try adjusting your search or filter criteria."})]})}):s.jsx("div",{className:"grid gap-4",children:m.map(v=>s.jsx(K,{className:"hover:shadow-lg transition-shadow",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:v.title}),s.jsx("div",{className:"flex flex-wrap gap-2",children:v.vendors.map(b=>s.jsxs("div",{className:"flex items-center space-x-2 bg-muted px-3 py-1 rounded-full",children:[b.logo&&s.jsx("img",{src:b.logo,alt:b.companyName,className:"w-4 h-4 rounded"}),s.jsx("span",{className:"text-sm text-foreground",children:b.companyName})]},b.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Or,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.budget||"Not specified"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:v.timeline||"Not specified"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_i,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:p(v.createdAt)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(WF,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.documents.length," file",v.documents.length!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[g(v.status),h(v.status)]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>i(v),children:[s.jsx(Ws,{className:"mr-1 h-4 w-4"}),"View"]})})]})]})})},v.id))}),a&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(K,{className:"bg-card rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(pe,{children:a.title}),s.jsxs(Ve,{children:["Created on ",p(a.createdAt),a.sentAt&&` • Sent on ${p(a.sentAt)}`]})]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>i(null),children:"×"})]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[g(a.status),h(a.status)]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Vendors"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.vendors.map(v=>s.jsxs("div",{className:"flex items-center space-x-2 bg-muted px-3 py-2 rounded",children:[v.logo&&s.jsx("img",{src:v.logo,alt:v.companyName,className:"w-6 h-6 rounded"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:v.companyName}),v.primaryProduct&&s.jsx("p",{className:"text-xs text-muted-foreground",children:v.primaryProduct})]})]},v.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Budget Range"}),s.jsx("p",{className:"text-muted-foreground",children:a.budget||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-1",children:"Timeline"}),s.jsx("p",{className:"text-muted-foreground",children:a.timeline||"Not specified"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Objectives"}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed whitespace-pre-wrap",children:a.objectives})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Requirements"}),s.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed whitespace-pre-wrap",children:a.requirements})]}),a.documents.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground mb-2",children:"Attached Documents"}),s.jsx("div",{className:"space-y-1",children:a.documents.map((v,b)=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted rounded",children:[s.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm text-foreground",children:["Document ",b+1]})]},b))})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.status==="DRAFT"&&s.jsx(F,{className:"flex-1",onClick:()=>f.mutate(a.id),disabled:f.isPending||a.vendors.length===0,"data-testid":"button-send-rfp",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(lp,{className:"mr-2 h-4 w-4"}),"Send to Vendors (",a.vendors.length,")"]})}),s.jsx(F,{variant:"outline",onClick:()=>i(null),className:"flex-1",children:"Close"})]})]})]})})]})},k6e=({vendor:e,onClose:t})=>{const[n,r]=y.useState({currentAnnualCosts:"",implementationCost:"",annualLicenseCost:"",maintenanceCost:"",timeSavingsHours:"",hourlyRate:"",riskReductionSavings:"",complianceSavings:""}),[a,i]=y.useState(null),o=()=>{const u=parseFloat(n.currentAnnualCosts)||0,d=parseFloat(n.implementationCost)||0,f=parseFloat(n.annualLicenseCost)||0,m=parseFloat(n.maintenanceCost)||0,h=parseFloat(n.timeSavingsHours)||0,g=parseFloat(n.hourlyRate)||0,p=parseFloat(n.riskReductionSavings)||0,x=parseFloat(n.complianceSavings)||0,v=h*g*52,b=v+p+x,w=Math.max(0,u-(f+m)),N=b+w,j=d+f+m,S=N-j,C=j>0?S/j*100:0,P=N>0?j/N:0,A=d+(f+m)*3,T=N*3,E=A>0?(T-A)/A*100:0;i({totalAnnualSavings:N,totalFirstYearCost:j,netBenefit:S,roi:C,paybackPeriod:P,threeYearROI:E,timeSavingsBenefit:v,costSavings:w,riskAndComplianceSavings:p+x})},l=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(u),c=u=>`${u.toFixed(1)}%`;return s.jsxs(K,{className:"max-w-4xl mx-auto",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xy,{className:"h-6 w-6 text-blue-600"}),s.jsxs("div",{children:[s.jsxs(pe,{children:["ROI Calculator - ",e.name]}),s.jsx(Ve,{children:"Calculate the potential return on investment for this solution"})]})]}),s.jsx(F,{variant:"outline",onClick:t,children:"Close"})]})}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Costs & Investment"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentCosts",children:"Current Annual Compliance Costs ($)"}),s.jsx(ye,{id:"currentCosts",type:"number",value:n.currentAnnualCosts,onChange:u=>r(d=>({...d,currentAnnualCosts:u.target.value})),placeholder:"e.g., 150000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"implementationCost",children:"Implementation Cost ($)"}),s.jsx(ye,{id:"implementationCost",type:"number",value:n.implementationCost,onChange:u=>r(d=>({...d,implementationCost:u.target.value})),placeholder:"e.g., 50000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"annualLicense",children:"Annual License Cost ($)"}),s.jsx(ye,{id:"annualLicense",type:"number",value:n.annualLicenseCost,onChange:u=>r(d=>({...d,annualLicenseCost:u.target.value})),placeholder:"e.g., 30000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maintenance",children:"Annual Maintenance Cost ($)"}),s.jsx(ye,{id:"maintenance",type:"number",value:n.maintenanceCost,onChange:u=>r(d=>({...d,maintenanceCost:u.target.value})),placeholder:"e.g., 10000"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Expected Benefits"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"timeSavings",children:"Time Savings (hours/week)"}),s.jsx(ye,{id:"timeSavings",type:"number",value:n.timeSavingsHours,onChange:u=>r(d=>({...d,timeSavingsHours:u.target.value})),placeholder:"e.g., 20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"hourlyRate",children:"Average Hourly Rate ($)"}),s.jsx(ye,{id:"hourlyRate",type:"number",value:n.hourlyRate,onChange:u=>r(d=>({...d,hourlyRate:u.target.value})),placeholder:"e.g., 75"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"riskSavings",children:"Annual Risk Reduction Savings ($)"}),s.jsx(ye,{id:"riskSavings",type:"number",value:n.riskReductionSavings,onChange:u=>r(d=>({...d,riskReductionSavings:u.target.value})),placeholder:"e.g., 25000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"complianceSavings",children:"Annual Compliance Savings ($)"}),s.jsx(ye,{id:"complianceSavings",type:"number",value:n.complianceSavings,onChange:u=>r(d=>({...d,complianceSavings:u.target.value})),placeholder:"e.g., 15000"})]})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(F,{onClick:o,size:"lg",className:"px-8",children:[s.jsx(xy,{className:"mr-2 h-4 w-4"}),"Calculate ROI"]})}),a&&s.jsxs("div",{className:"mt-8 space-y-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 text-center",children:"ROI Analysis Results"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(K,{className:`${a.roi>=0?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:s.jsxs(X,{className:"p-4 text-center",children:[s.jsx(_r,{className:`mx-auto h-8 w-8 mb-2 ${a.roi>=0?"text-green-600":"text-red-600"}`}),s.jsx("div",{className:`text-2xl font-bold ${a.roi>=0?"text-green-700":"text-red-700"}`,children:c(a.roi)}),s.jsx("div",{className:"text-sm text-gray-600",children:"First Year ROI"})]})}),s.jsx(K,{className:"bg-blue-50 border-blue-200",children:s.jsxs(X,{className:"p-4 text-center",children:[s.jsx(Or,{className:"mx-auto h-8 w-8 text-blue-600 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-blue-700",children:l(a.netBenefit)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Net Benefit (Year 1)"})]})}),s.jsx(K,{className:"bg-purple-50 border-purple-200",children:s.jsxs(X,{className:"p-4 text-center",children:[s.jsx(xy,{className:"mx-auto h-8 w-8 text-purple-600 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-purple-700",children:a.paybackPeriod>0?`${a.paybackPeriod.toFixed(1)} years`:"N/A"}),s.jsx("div",{className:"text-sm text-gray-600",children:"Payback Period"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsx(de,{children:s.jsx(pe,{className:"text-lg",children:"Annual Benefits Breakdown"})}),s.jsxs(X,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Time Savings:"}),s.jsx("span",{className:"font-medium",children:l(a.timeSavingsBenefit)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cost Savings:"}),s.jsx("span",{className:"font-medium",children:l(a.costSavings)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Risk & Compliance:"}),s.jsx("span",{className:"font-medium",children:l(a.riskAndComplianceSavings)})]}),s.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[s.jsx("span",{children:"Total Annual Savings:"}),s.jsx("span",{children:l(a.totalAnnualSavings)})]})]})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsx(pe,{className:"text-lg",children:"3-Year Projection"})}),s.jsxs(X,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"3-Year ROI:"}),s.jsx("span",{className:`font-medium ${a.threeYearROI>=0?"text-green-600":"text-red-600"}`,children:c(a.threeYearROI)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Benefits:"}),s.jsx("span",{className:"font-medium",children:l(a.totalAnnualSavings*3)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Investment:"}),s.jsx("span",{className:"font-medium",children:l(a.totalFirstYearCost+(parseFloat(n.annualLicenseCost)+parseFloat(n.maintenanceCost))*2)})]})]})]})]})]})]})]})},T6e=({selectedVendors:e,businessProfile:t,onNavigateToConsultants:n,onBack:r})=>{const[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[m,h]=y.useState(null),[g,p]=y.useState(null),[x,v]=y.useState(0),[b,w]=y.useState([]),[N,j]=y.useState({projectName:"",budget:"",timeline:"",requirements:"",additionalInfo:""}),[S,C]=y.useState({name:"",email:"",phone:"",company:"",position:"",message:""}),P=e.map(O=>({...O,aiModels:O.aiModels||["GPT-4","Claude-3","Custom ML Models"],capabilities:O.capabilities||["Natural Language Processing","Pattern Recognition","Anomaly Detection"]}));if(e.length===0)return s.jsx(K,{className:"max-w-4xl mx-auto",children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(Hr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Vendors Selected"}),s.jsx("p",{className:"text-gray-600",children:"Select vendors from the marketplace to compare their features and generate RFPs."})]})});const A=O=>{i(O),l(!0)},T=O=>{p(O),u(!0)},E=O=>{const _=O.target.files;if(_){const z=Array.from(_);w(ne=>[...ne,...z])}},k=O=>{w(_=>_.filter((z,ne)=>ne!==O))},R=()=>{const O={id:Date.now().toString(),vendor:a,projectName:N.projectName,budget:N.budget,timeline:N.timeline,requirements:N.requirements,additionalInfo:N.additionalInfo,attachedFiles:b.map(z=>z.name),submittedAt:new Date().toISOString(),status:"Sent"},_=JSON.parse(localStorage.getItem("sentRfps")||"[]");_.push(O),localStorage.setItem("sentRfps",JSON.stringify(_)),Ae({title:"RFP Sent Successfully",description:`Your RFP with ${b.length} document(s) has been sent to ${a.name}. They will contact you within 2 business days.`}),l(!1),i(null),w([]),j({projectName:"",budget:"",timeline:"",requirements:"",additionalInfo:""})},I=()=>{const O=x+1;v(O),Ae({title:"Contact Request Sent",description:`Your contact request has been sent to ${g.name}. Lead #${O} recorded for your company.`}),u(!1),p(null),C({name:"",email:"",phone:"",company:"",position:"",message:""})},D=()=>{Ae({title:"Comparison Report Generated",description:"Your vendor comparison report has been generated and will be downloaded shortly."})},B=O=>{h(O),f(!0)},V=()=>{n&&n()};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[d&&m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx(k6e,{vendor:m,onClose:()=>{f(!1),h(null)}})})}),s.jsx(K,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Vendor Comparison"}),s.jsxs("p",{className:"text-blue-700",children:["Compare ",e.length," selected vendors side by side"]}),x>0&&s.jsxs(le,{variant:"outline",className:"mt-2 text-green-600 border-green-300",children:[x," lead",x>1?"s":""," generated"]})]}),s.jsxs("div",{className:"flex space-x-3",children:[r&&s.jsxs(F,{variant:"outline",onClick:r,children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]}),s.jsxs(F,{onClick:D,variant:"outline",children:[s.jsx(Ri,{className:"mr-2 h-4 w-4"}),"Export Report"]}),s.jsxs(F,{onClick:V,children:["Find Consultants",s.jsx(Er,{className:"ml-2 h-4 w-4"})]})]})]})})}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsx(pe,{children:"Feature Comparison"})}),s.jsx(X,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-4 font-medium text-gray-900",children:"Feature"}),P.map(O=>s.jsx("th",{className:"text-left p-4 font-medium text-gray-900 min-w-48",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-2xl",children:O.logo}),s.jsx("span",{children:O.name})]})},O.id))]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Match Score"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsxs(le,{variant:"outline",className:"text-green-600 border-green-300",children:[O.matchScore,"%"]})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Rating"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx($s,{className:"h-4 w-4 text-yellow-500 fill-current"}),s.jsx("span",{children:O.rating}),s.jsxs("span",{className:"text-gray-500 text-sm",children:["(",O.reviewCount,")"]})]})},O.id))]}),s.jsxs("tr",{className:"border-b bg-blue-50",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"AI Models Used"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"space-y-1",children:O.aiModels.map((_,z)=>s.jsx(le,{variant:"default",className:"text-xs mr-1 bg-blue-600",children:_},z))})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"AI Capabilities"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"space-y-1",children:O.capabilities.map((_,z)=>s.jsx(le,{variant:"secondary",className:"text-xs mr-1",children:_},z))})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Pricing"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Or,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:O.pricing})]})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Implementation Time"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(cr,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:O.implementation})]})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Risk Areas Covered"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"space-y-1",children:O.riskAreaMatch.map((_,z)=>s.jsx(le,{variant:"secondary",className:"text-xs mr-1",children:_},z))})},O.id))]}),s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-4 font-medium text-gray-700",children:"Key Strengths"}),P.map(O=>s.jsx("td",{className:"p-4",children:s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:O.strengths.slice(0,2).map((_,z)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-green-500 mr-1",children:"•"}),_]},z))})},O.id))]})]})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(O=>s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-2xl",children:O.logo}),s.jsx(pe,{className:"text-lg",children:O.name})]})}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Match Score:"," ",s.jsxs("span",{className:"font-medium text-green-600",children:[O.matchScore,"%"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(F,{onClick:()=>A(O),className:"w-full",children:[s.jsx(lp,{className:"mr-2 h-4 w-4"}),"Send RFP"]}),s.jsxs(F,{onClick:()=>B(O),variant:"outline",className:"w-full",children:[s.jsx(xy,{className:"mr-2 h-4 w-4"}),"Calculate ROI"]}),s.jsx(F,{onClick:()=>T(O),variant:"outline",className:"w-full",children:"Contact Vendor"})]})]})]},O.id))}),c&&g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs(K,{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(pe,{children:["Contact ",g.name]}),s.jsx(Ve,{children:"Fill out the form below to get in touch with the vendor"})]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>u(!1),children:s.jsx(kr,{className:"h-4 w-4"})})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"name",children:[s.jsx(up,{className:"inline h-4 w-4 mr-1"}),"Full Name"]}),s.jsx(ye,{id:"name",value:S.name,onChange:O=>C(_=>({..._,name:O.target.value})),placeholder:"Your full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"email",children:[s.jsx(Si,{className:"inline h-4 w-4 mr-1"}),"Email"]}),s.jsx(ye,{id:"email",type:"email",value:S.email,onChange:O=>C(_=>({..._,email:O.target.value})),placeholder:"your.email@company.com"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"phone",children:[s.jsx(dA,{className:"inline h-4 w-4 mr-1"}),"Phone Number"]}),s.jsx(ye,{id:"phone",value:S.phone,onChange:O=>C(_=>({..._,phone:O.target.value})),placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"company",children:[s.jsx(wo,{className:"inline h-4 w-4 mr-1"}),"Company"]}),s.jsx(ye,{id:"company",value:S.company,onChange:O=>C(_=>({..._,company:O.target.value})),placeholder:"Your company name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"position",children:"Position/Title"}),s.jsx(ye,{id:"position",value:S.position,onChange:O=>C(_=>({..._,position:O.target.value})),placeholder:"e.g., Compliance Officer, Risk Manager"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"message",children:"Message"}),s.jsx(vn,{id:"message",value:S.message,onChange:O=>C(_=>({..._,message:O.target.value})),placeholder:"Tell them about your requirements and what you'd like to discuss...",rows:4})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx(F,{onClick:I,className:"flex-1",children:"Send Contact Request"}),s.jsx(F,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"})]})]})]})}),o&&a&&s.jsx(K,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(pe,{children:["Send RFP to ",a.name]}),s.jsx(Ve,{children:"Complete the form below to send a Request for Proposal to the vendor"})]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:s.jsx(kr,{className:"h-4 w-4"})})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"projectName",children:"Project Name"}),s.jsx(ye,{id:"projectName",value:N.projectName,onChange:O=>j(_=>({..._,projectName:O.target.value})),placeholder:"e.g., KYC System Implementation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"budget",children:"Budget Range"}),s.jsxs(vt,{onValueChange:O=>j(_=>({..._,budget:O})),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select budget"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"under-10k",children:"Under $10k"}),s.jsx(ue,{value:"10k-50k",children:"$10k - $50k"}),s.jsx(ue,{value:"50k-100k",children:"$50k - $100k"}),s.jsx(ue,{value:"100k-500k",children:"$100k - $500k"}),s.jsx(ue,{value:"over-500k",children:"Over $500k"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"timeline",children:"Implementation Timeline"}),s.jsxs(vt,{onValueChange:O=>j(_=>({..._,timeline:O})),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select timeline"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"asap",children:"ASAP"}),s.jsx(ue,{value:"1-3months",children:"1-3 months"}),s.jsx(ue,{value:"3-6months",children:"3-6 months"}),s.jsx(ue,{value:"6-12months",children:"6-12 months"}),s.jsx(ue,{value:"over-12months",children:"Over 12 months"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"requirements",children:"Specific Requirements"}),s.jsx(vn,{id:"requirements",value:N.requirements,onChange:O=>j(_=>({..._,requirements:O.target.value})),placeholder:"Describe your specific requirements, integration needs, compliance standards, etc.",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"additionalInfo",children:"Additional Information"}),s.jsx(vn,{id:"additionalInfo",value:N.additionalInfo,onChange:O=>j(_=>({..._,additionalInfo:O.target.value})),placeholder:"Any additional context about your organization or project",rows:3})]}),s.jsxs("div",{className:"space-y-3 border-t pt-4",children:[s.jsxs(te,{children:[s.jsx(WF,{className:"inline h-4 w-4 mr-1"}),"Attach Documents"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ye,{type:"file",multiple:!0,onChange:E,accept:".pdf,.doc,.docx,.txt,.xls,.xlsx",className:"cursor-pointer"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: PDF, DOC, DOCX, TXT, XLS, XLSX (Max 10MB each)"})]}),b.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{className:"text-sm font-medium",children:"Attached Files:"}),s.jsx("div",{className:"space-y-1",children:b.map((O,_)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ft,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:O.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(O.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx(F,{variant:"ghost",size:"sm",onClick:()=>k(_),className:"text-red-500 hover:text-red-700",children:s.jsx(cp,{className:"h-4 w-4"})})]},_))})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsxs(F,{onClick:R,className:"flex-1",children:[s.jsx(lp,{className:"mr-2 h-4 w-4"}),"Send RFP"]}),s.jsx(F,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})},O6e=({onComplete:e,onCancel:t})=>{const[n,r]=y.useState(1),[a,i]=y.useState({companyName:"",website:"",logo:"",description:"",foundedYear:"",headquarters:"",employeeCount:"",category:"",subCategories:[],features:[],certifications:[],pricing:"",implementationTime:"",contactName:"",contactEmail:"",contactPhone:"",clientTypes:[],supportedRegions:[],integrations:[],casStudies:"",termsAccepted:!1,dataProcessingAccepted:!1}),[o,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(""),m=["Customer Due Diligence","Transaction Monitoring","Sanctions Screening","Risk Assessment","Regulatory Reporting","All-in-One Solution","Data Analytics","Case Management"],h=["Banks","Credit Unions","Payment Processors","Fintech Companies","Insurance Companies","Investment Firms","Cryptocurrency Exchanges","Money Service Businesses"],g=["North America","Europe","Asia-Pacific","Latin America","Middle East","Africa"],p=(S,C,P)=>{if(C.trim()){const A=a[S];A.includes(C.trim())||i(T=>({...T,[S]:[...A,C.trim()]})),P("")}},x=(S,C)=>{const P=a[S];i(A=>({...A,[S]:P.filter((T,E)=>E!==C)}))},v=async()=>{if(!a.termsAccepted||!a.dataProcessingAccepted){Ae({title:"Please accept the terms",description:"You must accept the terms and conditions to proceed.",variant:"destructive"});return}try{const S=await fetch("/api/v1/vendors/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyName:a.companyName,website:a.website,description:a.description,foundedYear:a.foundedYear,headquarters:a.headquarters,employeeCount:a.employeeCount,category:a.category,pricing:a.pricing,implementationTime:a.implementationTime,features:a.features,certifications:a.certifications,clientTypes:a.clientTypes,supportedRegions:a.supportedRegions,integrations:a.integrations,contactName:a.contactName,contactEmail:a.contactEmail,contactPhone:a.contactPhone,casStudies:a.casStudies})}),C=await S.json();S.ok&&C.success?(Ae({title:"Application Submitted!",description:C.message||"Your vendor application has been submitted for review. We'll contact you within 2-3 business days."}),e()):Ae({title:"Submission Failed",description:C.message||"Failed to submit your application. Please try again.",variant:"destructive"})}catch(S){console.error("Error submitting vendor registration:",S),Ae({title:"Submission Failed",description:"An error occurred while submitting your application. Please try again.",variant:"destructive"})}},b=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{htmlFor:"companyName",children:"Company Name *"}),s.jsx(ye,{id:"companyName",value:a.companyName,onChange:S=>i(C=>({...C,companyName:S.target.value})),placeholder:"Enter your company name"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"website",children:"Website *"}),s.jsx(ye,{id:"website",value:a.website,onChange:S=>i(C=>({...C,website:S.target.value})),placeholder:"https://your-company.com"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"foundedYear",children:"Founded Year"}),s.jsx(ye,{id:"foundedYear",value:a.foundedYear,onChange:S=>i(C=>({...C,foundedYear:S.target.value})),placeholder:"2020"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"headquarters",children:"Headquarters"}),s.jsx(ye,{id:"headquarters",value:a.headquarters,onChange:S=>i(C=>({...C,headquarters:S.target.value})),placeholder:"San Francisco, CA"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(te,{htmlFor:"employeeCount",children:"Employee Count"}),s.jsxs(vt,{onValueChange:S=>i(C=>({...C,employeeCount:S})),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select company size"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"1-10",children:"1-10 employees"}),s.jsx(ue,{value:"11-50",children:"11-50 employees"}),s.jsx(ue,{value:"51-200",children:"51-200 employees"}),s.jsx(ue,{value:"201-1000",children:"201-1000 employees"}),s.jsx(ue,{value:"1000+",children:"1000+ employees"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"description",children:"Company Description *"}),s.jsx(vn,{id:"description",value:a.description,onChange:S=>i(C=>({...C,description:S.target.value})),placeholder:"Describe your company and what makes your compliance solutions unique...",rows:4})]}),s.jsxs("div",{children:[s.jsx(te,{children:"Company Logo"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx(qa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Upload your company logo (PNG, JPG, SVG)"}),s.jsx(F,{variant:"outline",className:"mt-2",children:"Choose File"})]})]})]}),w=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Solution Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:"Primary Category *"}),s.jsxs(vt,{onValueChange:S=>i(C=>({...C,category:S})),children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"Select primary category"})}),s.jsx(xt,{children:m.map(S=>s.jsx(ue,{value:S,children:S},S))})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"pricing",children:"Pricing Range *"}),s.jsx(ye,{id:"pricing",value:a.pricing,onChange:S=>i(C=>({...C,pricing:S.target.value})),placeholder:"e.g., $500-2000/month"})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"implementationTime",children:"Implementation Time"}),s.jsx(ye,{id:"implementationTime",value:a.implementationTime,onChange:S=>i(C=>({...C,implementationTime:S.target.value})),placeholder:"e.g., 2-4 weeks"})]}),s.jsxs("div",{children:[s.jsx(te,{children:"Key Features"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx(ye,{value:o,onChange:S=>l(S.target.value),placeholder:"Add a key feature",onKeyPress:S=>S.key==="Enter"&&p("features",o,l)}),s.jsx(F,{variant:"outline",onClick:()=>p("features",o,l),children:s.jsx(Wa,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.features.map((S,C)=>s.jsxs(le,{variant:"secondary",children:[S,s.jsx(kr,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>x("features",C)})]},C))})]}),s.jsxs("div",{children:[s.jsx(te,{children:"Certifications & Compliance"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx(ye,{value:c,onChange:S=>u(S.target.value),placeholder:"Add certification (e.g., SOC 2, ISO 27001)",onKeyPress:S=>S.key==="Enter"&&p("certifications",c,u)}),s.jsx(F,{variant:"outline",onClick:()=>p("certifications",c,u),children:s.jsx(Wa,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.certifications.map((S,C)=>s.jsxs(le,{variant:"outline",children:[S,s.jsx(kr,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>x("certifications",C)})]},C))})]})]}),N=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Additional Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(te,{children:"Target Client Types"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:h.map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:S,checked:a.clientTypes.includes(S),onCheckedChange:C=>{i(C?P=>({...P,clientTypes:[...P.clientTypes,S]}):P=>({...P,clientTypes:P.clientTypes.filter(A=>A!==S)}))}}),s.jsx(te,{htmlFor:S,className:"text-sm",children:S})]},S))})]}),s.jsxs("div",{children:[s.jsx(te,{children:"Supported Regions"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:g.map(S=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:S,checked:a.supportedRegions.includes(S),onCheckedChange:C=>{i(C?P=>({...P,supportedRegions:[...P.supportedRegions,S]}):P=>({...P,supportedRegions:P.supportedRegions.filter(A=>A!==S)}))}}),s.jsx(te,{htmlFor:S,className:"text-sm",children:S})]},S))})]}),s.jsxs("div",{children:[s.jsx(te,{children:"Integrations"}),s.jsxs("div",{className:"flex space-x-2 mb-2",children:[s.jsx(ye,{value:d,onChange:S=>f(S.target.value),placeholder:"Add integration (e.g., Salesforce, ServiceNow)",onKeyPress:S=>S.key==="Enter"&&p("integrations",d,f)}),s.jsx(F,{variant:"outline",onClick:()=>p("integrations",d,f),children:s.jsx(Wa,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.integrations.map((S,C)=>s.jsxs(le,{variant:"secondary",children:[S,s.jsx(kr,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:()=>x("integrations",C)})]},C))})]})]})]})}),j=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(te,{htmlFor:"contactName",children:"Primary Contact Name *"}),s.jsx(ye,{id:"contactName",value:a.contactName,onChange:S=>i(C=>({...C,contactName:S.target.value})),placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"contactEmail",children:"Contact Email *"}),s.jsx(ye,{id:"contactEmail",type:"email",value:a.contactEmail,onChange:S=>i(C=>({...C,contactEmail:S.target.value})),placeholder:"john@company.com"})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"contactPhone",children:"Contact Phone"}),s.jsx(ye,{id:"contactPhone",value:a.contactPhone,onChange:S=>i(C=>({...C,contactPhone:S.target.value})),placeholder:"+1 (555) 123-4567"})]})]})]}),s.jsxs("div",{children:[s.jsx(te,{htmlFor:"caseStudies",children:"Case Studies or Success Stories"}),s.jsx(vn,{id:"caseStudies",value:a.casStudies,onChange:S=>i(C=>({...C,casStudies:S.target.value})),placeholder:"Share some success stories or case studies that demonstrate your solution's effectiveness...",rows:4})]}),s.jsxs("div",{className:"legal-agreements-section space-y-4 p-4 rounded-lg",style:{backgroundColor:"#f9fafb",color:"#111827"},children:[s.jsx("h4",{className:"font-medium",style:{color:"#111827 !important"},children:"Legal Agreements"}),s.jsxs("div",{className:"space-y-3",style:{color:"#111827"},children:[s.jsxs("div",{className:"flex items-start space-x-3",style:{color:"#111827"},children:[s.jsx(Pr,{id:"terms",checked:a.termsAccepted,onCheckedChange:S=>i(C=>({...C,termsAccepted:!!S}))}),s.jsxs("label",{htmlFor:"terms",className:"text-sm leading-5",style:{color:"#111827",display:"inline",fontWeight:"500"},children:["I agree to the"," ",s.jsx("a",{href:"#",style:{color:"#2563eb",textDecoration:"underline"},children:"Terms of Service"})," ","and marketplace listing guidelines *"]})]}),s.jsxs("div",{className:"flex items-start space-x-3",style:{color:"#111827"},children:[s.jsx(Pr,{id:"privacy",checked:a.dataProcessingAccepted,onCheckedChange:S=>i(C=>({...C,dataProcessingAccepted:!!S}))}),s.jsxs("label",{htmlFor:"privacy",className:"text-sm leading-5",style:{color:"#111827",display:"inline",fontWeight:"500"},children:["I consent to the processing of my data as described in the"," ",s.jsx("a",{href:"#",style:{color:"#2563eb",textDecoration:"underline"},children:"Privacy Policy"})," ","*"]})]})]})]})]});return s.jsx("div",{className:"min-h-screen bg-background",children:s.jsx("div",{className:"max-w-4xl mx-auto p-6",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(F,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(ri,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(wo,{className:"h-5 w-5"}),s.jsx("span",{children:"Join as Technology Vendor"})]}),s.jsxs(Ve,{children:["Step ",n," of 4 - Complete your vendor profile to get listed in our marketplace"]})]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-4",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n/4*100}%`}})})]}),s.jsxs(X,{className:"space-y-6",children:[n===1&&b(),n===2&&w(),n===3&&N(),n===4&&j(),s.jsxs("div",{className:"flex justify-between pt-6 border-t",children:[s.jsx(F,{variant:"outline",onClick:()=>n>1?r(n-1):t(),children:n===1?"Cancel":"Previous"}),n<4?s.jsx(F,{onClick:()=>r(n+1),disabled:n===1&&(!a.companyName||!a.website||!a.description)||n===2&&(!a.category||!a.pricing),children:"Next Step"}):s.jsx(F,{onClick:v,disabled:!a.contactName||!a.contactEmail||!a.termsAccepted||!a.dataProcessingAccepted,children:"Submit Application"})]})]})]})})})};function xT(){const{data:e,isLoading:t,isError:n,error:r,refetch:a}=$e({queryKey:["subscription"],queryFn:Tb.getCurrentSubscription,staleTime:6e4,retry:1}),i=(e==null?void 0:e.plan)==="PREMIUM"||(e==null?void 0:e.plan)==="ENTERPRISE",o=(e==null?void 0:e.plan)==="FREE",l=(e==null?void 0:e.status)==="ACTIVE"||(e==null?void 0:e.status)==="TRIALING",c=((e==null?void 0:e.creditsBalance)??0)>0,u=i&&l,d=e!=null&&e.plan?{FREE:"Free",PREMIUM:"Premium",ENTERPRISE:"Enterprise"}[e.plan]:"Unknown";return{subscription:e,isLoading:t,isError:n,error:r,refetch:a,isPremium:i,isFree:o,isActive:l,hasCredits:c,canAccessPremiumFeature:u,planName:d}}function _6e({children:e,featureName:t="this feature",onUpgradeClick:n}){const{canAccessPremiumFeature:r,isLoading:a}=xT();return a?s.jsxs(F,{disabled:!0,size:"sm",children:[s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):r?s.jsx(s.Fragment,{children:e}):s.jsxs(F,{onClick:n,variant:"outline",size:"sm",className:"border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/10",children:[s.jsx(qs,{className:"mr-2 h-4 w-4"}),"Upgrade for ",t]})}const R6e=({businessProfile:e,riskData:t,isConnected:n=!1})=>{const[r]=ic(),a=r.get("assessmentId")||void 0,i=Rt(),[o,l]=y.useState("vendors"),[c,u]=y.useState([]),[d,f]=y.useState(!1),[m,h]=y.useState(!1),[g,p]=y.useState(!1),{data:x}=$e({queryKey:["organization","my"],queryFn:Co.getMyOrganization,enabled:!!localStorage.getItem("token"),retry:!1});return d?s.jsx(T6e,{selectedVendors:c,businessProfile:e,onBack:()=>f(!1)}):m?s.jsx(O6e,{onComplete:()=>h(!1),onCancel:()=>h(!1)}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsx(K,{className:"border-cyan-500/20 bg-gradient-to-r from-card/50 to-card/80 backdrop-blur-sm",children:s.jsx(X,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Compliance Technology Marketplace"}),s.jsx("p",{className:"text-gray-200 text-lg",children:n?"Find solutions tailored to your risk assessment and business profile":"Discover compliance technology vendors and manage your RFPs"}),n&&s.jsxs("div",{className:"flex items-center space-x-4 mt-4",children:[s.jsxs(le,{variant:"secondary",className:"bg-green-900/50 text-green-200 border-green-500/30",children:[s.jsx(wo,{className:"mr-1 h-3 w-3"}),"Profile Complete"]}),s.jsxs(le,{variant:"secondary",className:"bg-blue-900/50 text-blue-200 border-blue-500/30",children:[s.jsx(ft,{className:"mr-1 h-3 w-3"}),"Risk Assessment Complete"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[s.jsx(_6e,{featureName:"RFP Creation",onUpgradeClick:()=>i("/settings/subscription"),children:s.jsxs(F,{onClick:()=>p(!0),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 w-full sm:w-auto","data-testid":"button-create-rfp",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:"Create RFP"})]})}),s.jsxs(F,{variant:"outline",onClick:()=>h(!0),className:"flex items-center justify-center space-x-2 w-full sm:w-auto","data-testid":"button-join-vendor",children:[s.jsx(jZ,{className:"h-4 w-4"}),s.jsx("span",{children:"Join as Vendor"})]})]})]})})}),s.jsxs(dc,{value:o,onValueChange:l,className:"space-y-6",children:[s.jsxs(Lo,{className:"grid w-full grid-cols-2 bg-card/80 backdrop-blur-sm border-border/50",children:[s.jsxs(mn,{value:"vendors",className:"flex items-center space-x-2 data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300",children:[s.jsx(wo,{className:"h-4 w-4"}),s.jsx("span",{children:"Technology Vendors"})]}),s.jsxs(mn,{value:"rfps",className:"flex items-center space-x-2 data-[state=active]:bg-primary/20 data-[state=active]:text-white text-gray-300",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{children:"RFP Tracking"})]})]}),s.jsx(Un,{value:"vendors",className:"space-y-6",children:s.jsx(P6e,{businessProfile:e,riskData:t,selectedVendors:c,onVendorSelect:u,onNavigateToCompare:()=>f(!0),assessmentId:a})}),s.jsx(Un,{value:"rfps",className:"space-y-6",children:s.jsx(E6e,{})})]})]}),(x==null?void 0:x.id)&&s.jsx(F9,{open:g,onOpenChange:p,organizationId:x.id})]})},X2=({children:e,isBlurred:t=!0,upgradeMessage:n="Upgrade to view detailed analysis",onUpgrade:r,className:a})=>{const[i,o]=y.useState(!1);return s.jsxs("div",{className:se("relative",a),children:[s.jsx("div",{className:se("transition-all duration-300",t&&!i&&"blur-sm pointer-events-none select-none"),children:e}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-background/20 to-background/80 flex items-center justify-center",children:s.jsx(K,{className:"max-w-sm mx-4 bg-background/95 backdrop-blur border-primary/20",children:s.jsxs(X,{className:"p-6 text-center",children:[s.jsx(qs,{className:"h-8 w-8 mx-auto mb-3 text-primary"}),s.jsx("h3",{className:"font-semibold mb-2",children:"Premium Content"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:n}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>o(!i),"data-testid":"button-preview-content",children:[s.jsx(Ws,{className:"h-4 w-4 mr-1"}),i?"Hide":"Preview"]}),r&&s.jsxs(F,{onClick:r,size:"sm","data-testid":"button-upgrade-premium",children:[s.jsx(Ul,{className:"h-4 w-4 mr-1"}),"Upgrade"]})]})]})})})]})},M6e=({title:e="Unlock Full Analysis",description:t="Get complete access to detailed insights and recommendations",features:n,onUpgrade:r,className:a})=>s.jsxs(K,{className:se("border-primary/20 bg-gradient-to-br from-primary/5 to-secondary/5",a),children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ul,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(pe,{className:"text-lg",children:e}),s.jsx(Ve,{children:t})]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsx("ul",{className:"space-y-2",children:n.map((i,o)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jo,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:i})]},o))}),r&&s.jsxs(F,{onClick:r,className:"w-full","data-testid":"button-upgrade-full-access",children:["Upgrade Now ",s.jsx(Er,{className:"h-4 w-4 ml-1"})]})]})]}),I6e=({used:e,limit:t,itemName:n,className:r})=>{const a=e/t*100,i=e>=t;return s.jsxs("div",{className:se("space-y-2",r),children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-sm font-medium",children:[n," Usage"]}),s.jsxs(le,{variant:i?"destructive":"secondary",className:"text-xs",children:[e," of ",t]})]}),s.jsx(Wr,{value:a,className:se("h-2",i&&"bg-destructive/20")}),i&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-destructive",children:[s.jsx(Rr,{className:"h-3 w-3"}),"You've reached your free ",n.toLowerCase()," limit"]})]})},YH=({title:e,description:t,ctaText:n,onCTA:r,className:a})=>s.jsx("div",{className:se("bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20 rounded-lg p-4",a),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ul,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm",children:e}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t})]})]}),r&&s.jsx(F,{size:"sm",onClick:r,"data-testid":"button-freemium-cta",children:n})]})}),D6e=({isOpen:e,onOpenChange:t,title:n="Upgrade to Premium",description:r="Unlock powerful compliance insights and analysis tools",features:a,pricing:i={monthly:"$29",annual:"$290"},onUpgrade:o})=>s.jsx(Jt,{open:e,onOpenChange:t,children:s.jsxs(Gt,{className:"max-w-md","data-testid":"dialog-upgrade",children:[s.jsxs(Yt,{children:[s.jsxs(Xt,{className:"flex items-center gap-2",children:[s.jsx(Ul,{className:"h-5 w-5 text-primary"}),n]}),s.jsx(Qt,{children:r})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"What you'll get:"}),s.jsx("ul",{className:"space-y-2",children:a.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[s.jsx(jo,{className:"h-4 w-4 text-primary"}),s.jsx("span",{children:l})]},c))})]}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(F,{className:"w-full",onClick:()=>o==null?void 0:o("annual"),"data-testid":"button-upgrade-annual",children:s.jsxs("span",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:"Annual Plan"}),s.jsxs("span",{children:[i.annual,"/year"]})]})}),s.jsx(F,{variant:"outline",className:"w-full",onClick:()=>o==null?void 0:o("monthly"),"data-testid":"button-upgrade-monthly",children:s.jsxs("span",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:"Monthly Plan"}),s.jsxs("span",{children:[i.monthly,"/month"]})]})})]})]})]})}),$6e=({children:e,isRestricted:t,restrictionMessage:n="This feature requires a premium subscription",upgradeFeatures:r,onUpgrade:a,className:i})=>t?s.jsxs("div",{className:se("space-y-4",i),children:[s.jsx(X2,{isBlurred:!0,upgradeMessage:n,onUpgrade:a,children:e}),s.jsx(M6e,{title:"Unlock This Feature",description:n,features:r,onUpgrade:a})]}):s.jsx(s.Fragment,{children:e}),L6e={FINANCIAL_CRIME:tn,TRADE_COMPLIANCE:fa,DATA_PRIVACY:qs,CYBERSECURITY:LF},F6e={FINANCIAL_CRIME:"bg-cyan-600/20 text-cyan-400",TRADE_COMPLIANCE:"bg-pink-600/20 text-pink-400",DATA_PRIVACY:"bg-purple-600/20 text-purple-400",CYBERSECURITY:"bg-orange-600/20 text-orange-400"},B6e=e=>e<=30?"bg-green-600/20 text-green-400":e<=60?"bg-yellow-600/20 text-yellow-400":"bg-red-600/20 text-red-400",V6e=e=>e<=30?"Basic":e<=60?"Intermediate":"Advanced",U6e=({onTemplateSelect:e,onSkip:t,className:n})=>{const[r,a]=y.useState("all"),[i,o]=y.useState(""),[l,c]=y.useState(!1),{isPremium:u}=xT(),d={isFreeTier:!u,assessmentsUsed:0,assessmentsLimit:u?999:1},f={...r!=="all"&&{category:r},active:!0,...i&&{search:i}},{data:m=[],isLoading:h,error:g,refetch:p}=$e({queryKey:Je.templatesFiltered(f),queryFn:()=>kb.getTemplates(f),staleTime:5*60*1e3}),x=b=>{if(d.isFreeTier&&d.assessmentsUsed>=d.assessmentsLimit){c(!0),Ae({title:"Assessment Limit Reached",description:"You've reached your free assessment limit. Upgrade to continue.",variant:"destructive"});return}e(b)},v=()=>{Ae({title:"Upgrade Coming Soon",description:"Premium subscriptions will be available soon!"})};return g?s.jsx(K,{className:se("max-w-6xl mx-auto",n),children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(Rr,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Templates"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to fetch assessment templates. Please try again."}),s.jsx(F,{onClick:()=>p(),"data-testid":"button-retry-templates",children:"Retry"})]})}):s.jsxs("div",{className:se("max-w-6xl mx-auto space-y-6",n),children:[s.jsx(K,{children:s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center space-x-2",children:[s.jsx(ft,{className:"h-6 w-6 text-blue-600"}),s.jsx("span",{children:"Choose Assessment Template"})]}),s.jsx(Ve,{children:"Select a comprehensive assessment template tailored to your compliance needs"})]})}),d.isFreeTier&&s.jsx(K,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5",children:s.jsxs(X,{className:"p-4",children:[s.jsx(I6e,{used:d.assessmentsUsed,limit:d.assessmentsLimit,itemName:"Assessment"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Upgrade to unlock unlimited assessments and advanced features"})]})}),s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsxs(dc,{value:r,onValueChange:b=>a(b),children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[s.jsxs(Lo,{className:"grid w-full md:w-auto grid-cols-2 md:grid-cols-6",children:[s.jsx(mn,{value:"all","data-testid":"filter-all",children:"All"}),s.jsx(mn,{value:"FINANCIAL_CRIME","data-testid":"filter-financial-crime",children:"Financial Crime"}),s.jsx(mn,{value:"TRADE_COMPLIANCE","data-testid":"filter-trade-compliance",children:"Trade Compliance"}),s.jsx(mn,{value:"DATA_PRIVACY","data-testid":"filter-data-privacy",children:"Data Privacy"}),s.jsx(mn,{value:"CYBERSECURITY","data-testid":"filter-cybersecurity",children:"Cybersecurity"})]}),s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search templates...",value:i,onChange:b=>o(b.target.value),className:"pl-10","data-testid":"input-search-templates"})]})]}),h&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:Array.from({length:6}).map((b,w)=>s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(Et,{className:"h-6 w-3/4"}),s.jsx(Et,{className:"h-4 w-full"}),s.jsx(Et,{className:"h-4 w-2/3"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Et,{className:"h-5 w-16"}),s.jsx(Et,{className:"h-5 w-16"})]}),s.jsx(Et,{className:"h-9 w-full"})]})})},w))}),!h&&s.jsx(Un,{value:r,className:"mt-6",children:m.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ft,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Templates Found"}),s.jsx("p",{className:"text-muted-foreground",children:i?"Try adjusting your search terms":"No templates available for this category"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(b=>{const w=L6e[b.category],N=d.isFreeTier&&d.assessmentsUsed>=d.assessmentsLimit;return s.jsx($6e,{isRestricted:N,restrictionMessage:"You've reached your free assessment limit",upgradeFeatures:["Unlimited assessments","Detailed risk analysis","Full gap analysis reports","Vendor marketplace access"],onUpgrade:v,children:s.jsx(K,{className:se("hover:shadow-lg transition-all cursor-pointer border-2 hover:border-primary/20",N&&"opacity-60"),"data-testid":`template-card-${b.slug}`,children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 shrink-0",children:s.jsx(w,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"font-semibold text-white mb-1 line-clamp-2",children:b.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:b.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx(le,{className:F6e[b.category],children:b.category.replace("_"," ")}),s.jsx(le,{className:B6e(b.estimatedMinutes),children:V6e(b.estimatedMinutes)})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),s.jsxs("span",{children:[b.estimatedMinutes," min"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hr,{className:"h-3 w-3"}),s.jsxs("span",{children:[b.totalQuestions," questions"]})]})]}),s.jsx(F,{size:"sm",className:"w-full",onClick:()=>x(b),disabled:N,"data-testid":`button-select-${b.slug}`,children:N?s.jsxs(s.Fragment,{children:[s.jsx(qs,{className:"h-4 w-4 mr-1"}),"Upgrade Required"]}):s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"h-4 w-4 mr-1"}),"Start Assessment"]})})]})]})})})},b.id)})})})]})})}),s.jsx(K,{className:"border-dashed",children:s.jsxs(X,{className:"p-6 text-center",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Don't see what you need?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"You can upload your own documentation for custom analysis"}),s.jsx(F,{variant:"outline",onClick:t,"data-testid":"button-skip-templates",children:"Skip Templates - Upload Documents"})]})})]})};var yT="Radio",[z6e,XH]=Zn(yT),[W6e,q6e]=z6e(yT),QH=y.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,m]=y.useState(null),h=Ke(t,x=>m(x)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(W6e,{scope:n,checked:a,disabled:o,children:[s.jsx(Te.button,{type:"button",role:"radio","aria-checked":a,"data-state":tK(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:h,onClick:be(e.onClick,x=>{a||c==null||c(),p&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),p&&s.jsx(eK,{control:f,bubbles:!g.current,name:r,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});QH.displayName=yT;var ZH="RadioIndicator",JH=y.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,i=q6e(ZH,n);return s.jsx(wr,{present:r||i.checked,children:s.jsx(Te.span,{"data-state":tK(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});JH.displayName=ZH;var H6e="RadioBubbleInput",eK=y.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=Ug(n),u=_g(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const g=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(g)}},[c,n,r]),s.jsx(Te.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eK.displayName=H6e;function tK(e){return e?"checked":"unchecked"}var K6e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],aj="RadioGroup",[G6e,A9e]=Zn(aj,[am,XH]),nK=am(),rK=XH(),[Y6e,X6e]=G6e(aj),sK=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=e,h=nK(n),g=_u(u),[p,x]=zs({prop:i,defaultProp:a??null,onChange:f,caller:aj});return s.jsx(Y6e,{scope:n,name:r,required:o,disabled:l,value:p,onValueChange:x,children:s.jsx(BA,{asChild:!0,...h,orientation:c,dir:g,loop:d,children:s.jsx(Te.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...m,ref:t})})})});sK.displayName=aj;var aK="RadioGroupItem",iK=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,i=X6e(aK,n),o=i.disabled||r,l=nK(n),c=rK(n),u=y.useRef(null),d=Ke(t,u),f=i.value===a.value,m=y.useRef(!1);return y.useEffect(()=>{const h=p=>{K6e.includes(p.key)&&(m.current=!0)},g=()=>m.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",g)}},[]),s.jsx(VA,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(QH,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:be(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:be(a.onFocus,()=>{var h;m.current&&((h=u.current)==null||h.click())})})})});iK.displayName=aK;var Q6e="RadioGroupIndicator",oK=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=rK(n);return s.jsx(JH,{...a,...r,ref:t})});oK.displayName=Q6e;var lK=sK,cK=iK,Z6e=oK;const ho=y.forwardRef(({className:e,...t},n)=>s.jsx(lK,{className:se("grid gap-2",e),...t,ref:n}));ho.displayName=lK.displayName;const Ga=y.forwardRef(({className:e,...t},n)=>s.jsx(cK,{ref:n,className:se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(Z6e,{className:"flex items-center justify-center",children:s.jsx(DF,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Ga.displayName=cK.displayName;var uK=["PageUp","PageDown"],dK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Am="Slider",[Q2,J6e,eBe]=Ag(Am),[mK,E9e]=Zn(Am,[eBe]),[tBe,ij]=mK(Am),hK=y.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:h=!1,form:g,...p}=e,x=y.useRef(new Set),v=y.useRef(0),w=o==="horizontal"?nBe:rBe,[N=[],j]=zs({prop:d,defaultProp:u,onChange:E=>{var R;(R=[...x.current][v.current])==null||R.focus(),f(E)}}),S=y.useRef(N);function C(E){const k=lBe(N,E);T(E,k)}function P(E){T(E,v.current)}function A(){const E=S.current[v.current];N[v.current]!==E&&m(N)}function T(E,k,{commit:R}={commit:!1}){const I=fBe(i),D=mBe(Math.round((E-r)/i)*i+r,I),B=Np(D,[r,a]);j((V=[])=>{const O=iBe(V,B,k);if(dBe(O,c*i)){v.current=O.indexOf(B);const _=String(O)!==String(V);return _&&R&&m(O),_?O:V}else return V})}return s.jsx(tBe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:a,valueIndexToChangeRef:v,thumbs:x.current,values:N,orientation:o,form:g,children:s.jsx(Q2.Provider,{scope:e.__scopeSlider,children:s.jsx(Q2.Slot,{scope:e.__scopeSlider,children:s.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:be(p.onPointerDown,()=>{l||(S.current=N)}),min:r,max:a,inverted:h,onSlideStart:l?void 0:C,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&T(r,0,{commit:!0}),onEndKeyDown:()=>!l&&T(a,N.length-1,{commit:!0}),onStepKeyDown:({event:E,direction:k})=>{if(!l){const D=uK.includes(E.key)||E.shiftKey&&dK.includes(E.key)?10:1,B=v.current,V=N[B],O=i*D*k;T(V+O,B,{commit:!0})}}})})})})});hK.displayName=Am;var[pK,gK]=mK(Am,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nBe=y.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,m]=y.useState(null),h=Ke(t,w=>m(w)),g=y.useRef(void 0),p=_u(a),x=p==="ltr",v=x&&!i||!x&&i;function b(w){const N=g.current||f.getBoundingClientRect(),j=[0,N.width],C=vT(j,v?[n,r]:[r,n]);return g.current=N,C(w-N.left)}return s.jsx(pK,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(xK,{dir:p,"data-orientation":"horizontal",...d,ref:h,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=b(w.clientX);o==null||o(N)},onSlideMove:w=>{const N=b(w.clientX);l==null||l(N)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const j=fK[v?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:j?-1:1})}})})}),rBe=y.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=y.useRef(null),f=Ke(t,d),m=y.useRef(void 0),h=!a;function g(p){const x=m.current||d.current.getBoundingClientRect(),v=[0,x.height],w=vT(v,h?[r,n]:[n,r]);return m.current=x,w(p-x.top)}return s.jsx(pK,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:s.jsx(xK,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=g(p.clientY);i==null||i(x)},onSlideMove:p=>{const x=g(p.clientY);o==null||o(x)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=fK[h?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),xK=y.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=ij(Am,n);return s.jsx(Te.span,{...u,ref:t,onKeyDown:be(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):uK.concat(dK).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:be(e.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():r(f)}),onPointerMove:be(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:be(e.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),i(f))})})}),yK="SliderTrack",vK=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=ij(yK,n);return s.jsx(Te.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});vK.displayName=yK;var Z2="SliderRange",bK=y.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=ij(Z2,n),i=gK(Z2,n),o=y.useRef(null),l=Ke(t,o),c=a.values.length,u=a.values.map(m=>NK(m,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Te.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});bK.displayName=Z2;var J2="SliderThumb",wK=y.forwardRef((e,t)=>{const n=J6e(e.__scopeSlider),[r,a]=y.useState(null),i=Ke(t,l=>a(l)),o=y.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(sBe,{...e,ref:i,index:o})}),sBe=y.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...i}=e,o=ij(J2,n),l=gK(J2,n),[c,u]=y.useState(null),d=Ke(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,m=_g(c),h=o.values[r],g=h===void 0?0:NK(h,o.min,o.max),p=oBe(r,o.values.length),x=m==null?void 0:m[l.size],v=x?cBe(x,g,l.direction):0;return y.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[s.jsx(Q2.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Te.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:h===void 0?{display:"none"}:e.style,onFocus:be(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),f&&s.jsx(jK,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},r)]})});wK.displayName=J2;var aBe="RadioBubbleInput",jK=y.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const a=y.useRef(null),i=Ke(a,r),o=Ug(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Te.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});jK.displayName=aBe;function iBe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,i)=>a-i)}function NK(e,t,n){const i=100/(n-t)*(e-t);return Np(i,[0,100])}function oBe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function lBe(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function cBe(e,t,n){const r=e/2,i=vT([0,50],[0,r]);return(r-i(t)*n)*n}function uBe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function dBe(e,t){if(t>0){const n=uBe(e);return Math.min(...n)>=t}return!0}function vT(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fBe(e){return(String(e).split(".")[1]||"").length}function mBe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var SK=hK,hBe=vK,pBe=bK,gBe=wK;const mg=y.forwardRef(({className:e,...t},n)=>s.jsxs(SK,{ref:n,className:se("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(hBe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(pBe,{className:"absolute h-full bg-primary"})}),s.jsx(gBe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));mg.displayName=SK.displayName;const xBe=e=>{var n,r,a,i;let t;switch(e.type){case"MULTIPLE_CHOICE":case"TRUE_FALSE":t=ot();break;case"TEXT":t=ot(),(n=e.validation)!=null&&n.min&&(t=t.min(e.validation.min,e.validation.message)),(r=e.validation)!=null&&r.max&&(t=t.max(e.validation.max,e.validation.message));break;case"NUMBER":case"RATING":t=Ub(),((a=e.validation)==null?void 0:a.min)!==void 0&&(t=t.min(e.validation.min,e.validation.message)),((i=e.validation)==null?void 0:i.max)!==void 0&&(t=t.max(e.validation.max,e.validation.message));break;case"CHECKLIST":t=Eo(ot());break;default:t=ot()}return e.required?t:t.optional()},yBe=({templateId:e,assessmentId:t,onComplete:n,onSaveAndExit:r,className:a})=>{const i=wt(),[o,l]=y.useState(0),[c,u]=y.useState(0),[d,f]=y.useState(t||null),[m,h]=y.useState({currentSection:0,currentQuestion:0,responses:{},isComplete:!1,isDraft:!1,progress:0}),{data:g,isLoading:p,error:x}=$e({queryKey:Je.template(e),queryFn:()=>kb.getTemplate(e),staleTime:10*60*1e3}),{data:v,isLoading:b}=$e({queryKey:d?Je.assessment(d):["assessment",null],queryFn:()=>d?Wt.getAssessment(d):null,enabled:!!d}),w=RS(i),N=it(w.createAssessment),j=it({...d?w.updateAssessment(d):{mutationFn:async()=>({id:"",organizationId:"",templateId:"",responses:{},status:"DRAFT",creditsUsed:0,createdAt:"",updatedAt:""})}}),S=it({...d?w.completeAssessment(d):{mutationFn:async()=>({assessment:{id:"",organizationId:"",templateId:"",responses:{},status:"COMPLETED",creditsUsed:0,createdAt:"",updatedAt:""},gaps:[],risks:[],overallRiskScore:0,summary:{totalGaps:0,criticalGaps:0,highRisks:0,estimatedCost:"",estimatedEffort:"",priority:"LONG_TERM"},recommendations:[],nextSteps:[]})}}),C=g==null?void 0:g.sections[o],P=C==null?void 0:C.questions[c],A=(g==null?void 0:g.sections.reduce((ae,ge)=>ae+ge.questions.length,0))||0,T=Object.keys(m.responses).length,E={totalSections:(g==null?void 0:g.sections.length)||0,percentComplete:A>0?Math.round(T/A*100):0},k=Mr(P?{[P.id]:xBe(P)}:{}),R=Fi({resolver:lc(k),defaultValues:{[(P==null?void 0:P.id)||""]:m.responses[(P==null?void 0:P.id)||""]||""}});y.useEffect(()=>{g&&!d&&!t&&N.mutate({organizationId:"current-org",templateId:g.id},{onSuccess:ae=>{f(ae.id),Ae({title:"Assessment Started",description:`Started ${g.name} assessment`})},onError:ae=>{Ae({title:"Failed to Start Assessment",description:ae.message,variant:"destructive"})}})},[g,d,t]),y.useEffect(()=>{v!=null&&v.responses&&h(ae=>({...ae,responses:v.responses,isDraft:v.status==="DRAFT"}))},[v]),y.useEffect(()=>{P&&R.reset({[P.id]:m.responses[P.id]||I()})},[P,m.responses,R]);const I=()=>{if(!P)return"";switch(P.type){case"CHECKLIST":return[];case"RATING":case"NUMBER":return 0;default:return""}},D=async ae=>{if(d)try{await j.mutateAsync({responses:ae,status:"IN_PROGRESS"}),h(ge=>({...ge,responses:ae,progress:Math.round(Object.keys(ae).length/A*100)}))}catch(ge){Ae({title:"Save Failed",description:ge.message,variant:"destructive"})}},B=async ae=>{if(!P)return;const ge={...m.responses,[P.id]:ae[P.id]};await D(ge),V()},V=()=>{C&&(c<C.questions.length-1?u(ae=>ae+1):o<((g==null?void 0:g.sections.length)||0)-1?(l(ae=>ae+1),u(0)):_())},O=()=>{if(c>0)u(ae=>ae-1);else if(o>0){l(ge=>ge-1);const ae=g==null?void 0:g.sections[o-1];ae&&u(ae.questions.length-1)}},_=async()=>{if(d)try{await S.mutateAsync(),Ae({title:"Assessment Complete!",description:"Your assessment has been submitted for analysis."}),n(d)}catch(ae){Ae({title:"Submission Failed",description:ae.message,variant:"destructive"})}},z=async()=>{d&&Object.keys(m.responses).length>0&&await D(m.responses),r()},ne=()=>P?s.jsx(ph,{control:R.control,name:P.id,render:({field:ae})=>s.jsxs(cd,{className:"space-y-4",children:[s.jsxs(ud,{className:"text-lg font-medium",children:[P.text,P.required&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),P.helpText&&s.jsxs(Rv,{className:"flex items-start gap-2",children:[s.jsx(rZ,{className:"h-4 w-4 mt-0.5 text-muted-foreground shrink-0"}),s.jsx("span",{children:P.helpText})]}),s.jsx(dd,{children:Y(ae,P)}),s.jsx(fd,{})]})}):null,Y=(ae,ge)=>{var $,J,Z,L,ce;switch(ge.type){case"MULTIPLE_CHOICE":return s.jsx(ho,{value:ae.value||"",onValueChange:ae.onChange,className:"space-y-2",children:($=ge.options)==null?void 0:$.map(H=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ga,{value:H.value,id:H.id,"data-testid":`option-${H.id}`}),s.jsx(te,{htmlFor:H.id,className:"flex-1 cursor-pointer",children:H.text})]},H.id))});case"TRUE_FALSE":return s.jsxs(ho,{value:ae.value||"",onValueChange:ae.onChange,className:"flex gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ga,{value:"true",id:"true","data-testid":"option-true"}),s.jsx(te,{htmlFor:"true",className:"cursor-pointer",children:"True"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ga,{value:"false",id:"false","data-testid":"option-false"}),s.jsx(te,{htmlFor:"false",className:"cursor-pointer",children:"False"})]})]});case"TEXT":return s.jsx(vn,{...ae,placeholder:"Enter your response...",className:"min-h-[100px] resize-none","data-testid":"input-text-response"});case"NUMBER":return s.jsx(ye,{...ae,type:"number",onChange:H=>ae.onChange(parseInt(H.target.value)||0),placeholder:"Enter a number","data-testid":"input-number-response"});case"RATING":return s.jsxs("div",{className:"space-y-4",children:[s.jsx(mg,{value:[ae.value||0],onValueChange:([H])=>ae.onChange(H),max:((J=ge.validation)==null?void 0:J.max)||10,min:((Z=ge.validation)==null?void 0:Z.min)||0,step:1,className:"w-full","data-testid":"slider-rating"}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-2xl font-bold text-primary",children:ae.value||0}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["/ ",((L=ge.validation)==null?void 0:L.max)||10]})]})]});case"CHECKLIST":return s.jsx("div",{className:"space-y-3",children:(ce=ge.options)==null?void 0:ce.map(H=>{const Se=Array.isArray(ae.value)&&ae.value.includes(H.value);return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:H.id,checked:Se,onCheckedChange:U=>{const re=Array.isArray(ae.value)?ae.value:[];U?ae.onChange([...re,H.value]):ae.onChange(re.filter(me=>me!==H.value))},"data-testid":`checkbox-${H.id}`}),s.jsx(te,{htmlFor:H.id,className:"flex-1 cursor-pointer",children:H.text})]},H.id)})});default:return s.jsx(ye,{...ae,placeholder:"Enter your response...","data-testid":"input-default-response"})}};if(p||b)return s.jsx("div",{className:se("max-w-4xl mx-auto space-y-6",a),children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(Et,{className:"h-6 w-1/2"}),s.jsx(Et,{className:"h-4 w-3/4"})]}),s.jsxs(X,{className:"space-y-4",children:[s.jsx(Et,{className:"h-4 w-full"}),s.jsx(Et,{className:"h-10 w-full"}),s.jsx(Et,{className:"h-32 w-full"})]})]})});if(x||!g)return s.jsx("div",{className:se("max-w-4xl mx-auto",a),children:s.jsx(K,{children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(Rr,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Assessment Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load the assessment template. Please try again."}),s.jsx(F,{onClick:()=>window.location.reload(),"data-testid":"button-reload",children:"Reload Page"})]})})});const Q=o===0&&c===0,ie=o===g.sections.length-1&&c===((C==null?void 0:C.questions.length)||0)-1;return s.jsxs("div",{className:se("max-w-4xl mx-auto space-y-6",a),children:[s.jsx(K,{children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-6 w-6 text-primary"}),g.name]}),s.jsxs(Ve,{children:["Section ",o+1," of ",g.sections.length,":"," ",C==null?void 0:C.title]})]}),s.jsxs(le,{variant:"outline",className:"px-3 py-1",children:["Question ",T+1," of ",A]})]})})}),s.jsx(K,{children:s.jsxs(X,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Progress"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[E.percentComplete,"% complete"]})]}),s.jsx(Wr,{value:E.percentComplete,className:"h-2"})]})}),s.jsx(YH,{title:"Assessment in Progress",description:"Complete this assessment to unlock detailed compliance insights",ctaText:"Learn About Premium",onCTA:()=>{Ae({title:"Premium Features",description:"Premium subscriptions coming soon!"})}}),s.jsxs(K,{className:"min-h-[400px]",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(le,{variant:"secondary",children:C==null?void 0:C.title}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[c+1," of ",(C==null?void 0:C.questions.length)||0]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsxs("span",{children:["~",Math.ceil(g.estimatedMinutes*(1-E.percentComplete/100))," min left"]})]})]})}),s.jsx(X,{children:s.jsx(W8,{...R,children:s.jsxs("form",{onSubmit:R.handleSubmit(B),className:"space-y-6",children:[ne(),s.jsx(At,{}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsxs(F,{type:"button",variant:"outline",onClick:O,disabled:Q,"data-testid":"button-previous-question",children:[s.jsx(lA,{className:"h-4 w-4 mr-1"}),"Previous"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{type:"button",variant:"ghost",onClick:z,disabled:j.isPending,"data-testid":"button-save-exit",children:[s.jsx(bZ,{className:"h-4 w-4 mr-1"}),"Save & Exit"]}),s.jsx(F,{type:"submit",disabled:R.formState.isSubmitting||j.isPending,"data-testid":ie?"button-complete-assessment":"button-next-question",children:R.formState.isSubmitting||j.isPending?"Saving...":ie?s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"h-4 w-4 mr-1"}),"Complete Assessment"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(sc,{className:"h-4 w-4 ml-1"})]})})]})]})]})})})]})]})},vBe=e=>({CRITICAL:"bg-red-600/20 text-red-400",HIGH:"bg-orange-600/20 text-orange-400",MEDIUM:"bg-yellow-600/20 text-yellow-400",LOW:"bg-green-600/20 text-green-400"})[e]||"bg-gray-600/20 text-gray-300",bBe=e=>({CRITICAL:"bg-red-600/20 text-red-400",HIGH:"bg-orange-600/20 text-orange-400",MEDIUM:"bg-yellow-600/20 text-yellow-400",LOW:"bg-green-600/20 text-green-400"})[e]||"bg-gray-600/20 text-gray-300",l5=e=>({IMMEDIATE:"bg-red-600/20 text-red-400",SHORT_TERM:"bg-orange-600/20 text-orange-400",MEDIUM_TERM:"bg-yellow-600/20 text-yellow-400",LONG_TERM:"bg-green-600/20 text-green-400"})[e]||"bg-gray-600/20 text-gray-300",wBe=({assessmentId:e,onNavigateToMarketplace:t,onStartNewAssessment:n,className:r})=>{var E,k;const[a,i]=y.useState(!1),[o,l]=y.useState("overview"),{data:c,isLoading:u,error:d,refetch:f}=$e({queryKey:Je.assessmentResults(e),queryFn:()=>Wt.getAssessmentResults(e),staleTime:10*60*1e3}),{isPremium:m,isLoading:h,subscription:g,isError:p}=xT();typeof window<"u"&&console.log("Subscription check:",{subscription:g,isPremium:m,isLoading:h,isError:p,plan:g==null?void 0:g.plan,status:g==null?void 0:g.status});const x={isFreeTier:h?!1:!m,canViewFullResults:m||h,canDownloadReports:m||h,canAccessMarketplace:m||h},v=R=>{Ae({title:"Upgrade Coming Soon",description:`${R==="annual"?"Annual":"Monthly"} subscriptions will be available soon!`}),i(!1)},b=()=>{if(!x.canDownloadReports){i(!0);return}Ae({title:"Download Started",description:"Your comprehensive assessment report is being generated."})},w=()=>{if(!x.canAccessMarketplace){i(!0);return}t==null||t()};if(u)return s.jsx("div",{className:se("max-w-6xl mx-auto space-y-6",r),children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(Et,{className:"h-8 w-1/2"}),s.jsx(Et,{className:"h-4 w-3/4"})]}),s.jsx(X,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Array.from({length:6}).map((R,I)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(Et,{className:"h-4 w-full"}),s.jsx(Et,{className:"h-8 w-full"})]},I))})})]})});if(d||!c)return s.jsx("div",{className:se("max-w-6xl mx-auto",r),children:s.jsx(K,{children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(Rr,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Results Unavailable"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load assessment results. Please try again."}),s.jsx(F,{onClick:()=>f(),"data-testid":"button-retry-results",children:"Retry"})]})})});const{assessment:N,gaps:j,risks:S,overallRiskScore:C,summary:P,recommendations:A,nextSteps:T}=c;return s.jsxs("div",{className:se("max-w-6xl mx-auto space-y-6",r),children:[s.jsx(K,{children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"h-6 w-6 text-primary"}),"Assessment Results"]}),s.jsxs(Ve,{children:[(E=N.template)==null?void 0:E.name," - Completed"," ",new Date(N.completedAt).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(F,{variant:"outline",onClick:b,"data-testid":"button-download-report",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1"}),"Download Report"]}),s.jsx(F,{onClick:n,"data-testid":"button-new-assessment",children:"Start New Assessment"})]})]})})}),x.isFreeTier&&s.jsx(YH,{title:"Upgrade for Complete Analysis",description:"Get detailed risk analysis, vendor recommendations, and unlimited assessments",ctaText:"Upgrade Now",onCTA:()=>i(!0)}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5 text-blue-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Overall Risk Score"})]}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[C,"/100"]}),s.jsx(Wr,{value:C,className:"mt-2"})]})]})}),s.jsx(K,{children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-5 w-5 text-orange-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Critical Gaps"})]}),s.jsx("div",{className:"text-2xl font-bold mt-2","data-testid":"text-critical-gaps",children:P.criticalGaps})]})}),s.jsx(K,{children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_r,{className:"h-5 w-5 text-red-500"}),s.jsx("span",{className:"text-sm font-medium",children:"High Risks"})]}),s.jsx("div",{className:"text-2xl font-bold mt-2","data-testid":"text-high-risks",children:P.highRisks})]})}),s.jsx(K,{children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Est. Cost"})]}),s.jsx("div",{className:"text-2xl font-bold mt-2","data-testid":"text-estimated-cost",children:P.estimatedCost})]})})]}),s.jsxs(dc,{value:o,onValueChange:l,children:[s.jsxs(Lo,{className:"grid w-full grid-cols-4",children:[s.jsx(mn,{value:"overview","data-testid":"tab-overview",children:"Overview"}),s.jsx(mn,{value:"gaps","data-testid":"tab-gaps",children:"Gap Analysis"}),s.jsx(mn,{value:"risks","data-testid":"tab-risks",children:"Risk Assessment"}),s.jsx(mn,{value:"recommendations","data-testid":"tab-recommendations",children:"Recommendations"})]}),s.jsxs(Un,{value:"overview",className:"space-y-4",children:[s.jsxs(K,{children:[s.jsx(de,{children:s.jsx(pe,{children:"Executive Summary"})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Assessment Overview"}),s.jsxs("p",{className:"text-muted-foreground",children:["Your organization completed a comprehensive"," ",(k=N.template)==null?void 0:k.name.toLowerCase()," assessment. The analysis identified"," ",P.totalGaps," areas for improvement across multiple compliance domains."]})]}),s.jsx(At,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Key Metrics"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Total Gaps"}),s.jsx(le,{variant:"secondary",children:P.totalGaps})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Critical Issues"}),s.jsx(le,{className:"bg-red-600/20 text-red-400",children:P.criticalGaps})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Priority Level"}),s.jsx(le,{className:l5(P.priority),children:P.priority.replace("_"," ")})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Implementation Timeline"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Estimated Effort"}),s.jsx(le,{variant:"outline",children:P.estimatedEffort})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Investment Range"}),s.jsx(le,{variant:"outline",children:P.estimatedCost})]})]})]})]})]})})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(is,{className:"h-5 w-5"}),"Immediate Next Steps"]})}),s.jsxs(X,{children:[s.jsx("div",{className:"space-y-3",children:T.slice(0,3).map((R,I)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-6 h-6 flex items-center justify-center text-sm font-medium mt-0.5",children:I+1}),s.jsx("p",{className:"text-sm",children:R})]},I))}),s.jsx(At,{className:"my-4"}),s.jsxs(F,{onClick:w,className:"w-full","data-testid":"button-explore-solutions",children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Explore Vendor Solutions",s.jsx(Er,{className:"h-4 w-4 ml-2"})]})]})]})]}),s.jsx(Un,{value:"gaps",className:"space-y-4",children:s.jsx(X2,{isBlurred:!x.canViewFullResults,upgradeMessage:"Upgrade to view detailed gap analysis",onUpgrade:()=>i(!0),children:s.jsx("div",{className:"grid gap-4",children:j.map((R,I)=>s.jsx(K,{"data-testid":`gap-card-${I}`,children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:R.title}),s.jsx(le,{className:"mt-1",children:R.category})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{className:vBe(R.severity),children:R.severity}),s.jsx(le,{className:l5(R.priority),children:R.priority.replace("_"," ")})]})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:R.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Estimated Impact"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Cost:"}),s.jsx("span",{children:R.estimatedCost})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Effort:"}),s.jsx("span",{children:R.estimatedEffort})]})]})]}),R.recommendations&&R.recommendations.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Key Recommendations"}),s.jsx("ul",{className:"text-sm space-y-1",children:R.recommendations.slice(0,2).map((D,B)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(at,{className:"h-3 w-3 text-green-500 mt-0.5 shrink-0"}),s.jsx("span",{children:D})]},B))})]})]})]})},R.id))})})}),s.jsx(Un,{value:"risks",className:"space-y-4",children:s.jsx(X2,{isBlurred:!x.canViewFullResults,upgradeMessage:"Upgrade to view detailed risk assessment",onUpgrade:()=>i(!0),children:s.jsx("div",{className:"grid gap-4",children:S.map((R,I)=>s.jsx(K,{"data-testid":`risk-card-${I}`,children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:R.title}),s.jsx(le,{className:"mt-1",children:R.category})]}),s.jsxs(le,{className:bBe(R.riskLevel),children:[R.riskLevel," RISK"]})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:R.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Risk Assessment"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Likelihood:"}),s.jsx("span",{className:"capitalize",children:R.likelihood.toLowerCase()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Impact:"}),s.jsx("span",{className:"capitalize",children:R.impact.toLowerCase()})]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium mb-2",children:"Mitigation Strategy"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:R.mitigationStrategy})]})]}),R.recommendedActions&&R.recommendedActions.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h5",{className:"font-medium mb-2",children:"Recommended Actions"}),s.jsx("ul",{className:"text-sm space-y-1",children:R.recommendedActions.slice(0,3).map((D,B)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Er,{className:"h-3 w-3 text-primary mt-0.5 shrink-0"}),s.jsx("span",{children:D})]},B))})]})]})},R.id))})})}),s.jsx(Un,{value:"recommendations",className:"space-y-4",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(jo,{className:"h-5 w-5"}),"Strategic Recommendations"]}),s.jsx(Ve,{children:"Prioritized actions to improve your compliance posture"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"space-y-4",children:A.map((R,I)=>s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-muted/50 rounded-lg",children:[s.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center text-sm font-medium shrink-0",children:I+1}),s.jsx("div",{className:"min-w-0",children:s.jsx("p",{className:"text-sm leading-relaxed",children:R})})]},I))}),s.jsx(At,{className:"my-6"}),s.jsxs("div",{className:"text-center",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Ready to implement these recommendations?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Connect with verified compliance experts and vendors"}),s.jsxs(F,{onClick:w,"data-testid":"button-connect-vendors",children:[s.jsx(wo,{className:"h-4 w-4 mr-2"}),"Connect with Vendors",s.jsx(Er,{className:"h-4 w-4 ml-2"})]})]})]})]})})]}),s.jsx(D6e,{isOpen:a,onOpenChange:i,features:["Unlimited assessments","Detailed gap analysis","Comprehensive risk reports","Vendor marketplace access","Priority support","Custom compliance templates"],onUpgrade:v})]})},jBe=()=>{const[e,t]=ic(),n=Rt(),[r,a]=y.useState({step:"select-template"});y.useEffect(()=>{const p=e.get("step")||"select-template",x=e.get("assessmentId")||void 0,v=e.get("templateId")||void 0;a({step:p,assessmentId:x,selectedTemplate:v?{id:v}:void 0})},[e]);const i=p=>{var b;const x={...r,...p};a(x);const v=new URLSearchParams;x.step!=="select-template"&&v.set("step",x.step),x.assessmentId&&v.set("assessmentId",x.assessmentId),(b=x.selectedTemplate)!=null&&b.id&&v.set("templateId",x.selectedTemplate.id),t(v,{replace:!0})},o=p=>{i({step:"assessment",selectedTemplate:p}),Ae({title:"Template Selected",description:`Starting ${p.name} assessment`})},l=()=>{n("/dashboard?tab=assessment")},c=p=>{i({step:"results",assessmentId:p}),Ae({title:"Assessment Complete!",description:"Your assessment results are now available."})},u=()=>{n("/dashboard"),Ae({title:"Assessment Saved",description:"You can continue your assessment later from the dashboard."})},d=()=>{i({step:"select-template",selectedTemplate:void 0,assessmentId:void 0})},f=()=>{n("/marketplace")},m=()=>{n("/dashboard")},h=()=>{var p;switch(r.step){case"select-template":return"Select Assessment Template";case"assessment":return`Complete ${((p=r.selectedTemplate)==null?void 0:p.name)||"Assessment"}`;case"results":return"Assessment Results";default:return"Assessment Flow"}},g=()=>{switch(r.step){case"select-template":return"Choose from our comprehensive library of compliance assessment templates";case"assessment":return"Answer questions to identify compliance gaps and risks in your organization";case"results":return"Review your compliance analysis and get actionable recommendations";default:return"Complete your compliance assessment"}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"border-b bg-card",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(F,{variant:"ghost",size:"sm",onClick:m,"data-testid":"button-back-dashboard",children:[s.jsx(ri,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),s.jsx("div",{className:"h-6 w-px bg-border"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:h()}),s.jsx("p",{className:"text-muted-foreground",children:g()})]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs("div",{className:se("flex items-center gap-2 px-3 py-1 rounded-full text-sm",r.step==="select-template"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:[s.jsx("div",{className:se("w-2 h-2 rounded-full",r.step==="select-template"?"bg-primary-foreground":"bg-muted-foreground")}),"Template"]}),s.jsx("div",{className:"w-8 h-px bg-border"}),s.jsxs("div",{className:se("flex items-center gap-2 px-3 py-1 rounded-full text-sm",r.step==="assessment"?"bg-primary text-primary-foreground":r.step==="results"?"bg-muted text-muted-foreground":"bg-muted/50 text-muted-foreground"),children:[s.jsx("div",{className:se("w-2 h-2 rounded-full",r.step==="assessment"?"bg-primary-foreground":r.step==="results"?"bg-muted-foreground":"bg-muted-foreground/50")}),"Assessment"]}),s.jsx("div",{className:"w-8 h-px bg-border"}),s.jsxs("div",{className:se("flex items-center gap-2 px-3 py-1 rounded-full text-sm",r.step==="results"?"bg-primary text-primary-foreground":"bg-muted/50 text-muted-foreground"),children:[s.jsx("div",{className:se("w-2 h-2 rounded-full",r.step==="results"?"bg-primary-foreground":"bg-muted-foreground/50")}),"Results"]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[r.step==="select-template"&&s.jsx(U6e,{onTemplateSelect:o,onSkip:l}),r.step==="assessment"&&r.selectedTemplate&&s.jsx(yBe,{templateId:r.selectedTemplate.id,assessmentId:r.assessmentId,onComplete:c,onSaveAndExit:u}),r.step==="results"&&r.assessmentId&&s.jsx(wBe,{assessmentId:r.assessmentId,onNavigateToMarketplace:f,onStartNewAssessment:d}),(r.step==="assessment"&&!r.selectedTemplate||r.step==="results"&&!r.assessmentId)&&s.jsx(K,{className:"max-w-2xl mx-auto",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(ft,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Invalid Assessment State"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"The assessment flow is in an invalid state. Please start over."}),s.jsx(F,{onClick:d,"data-testid":"button-restart-assessment",children:"Start New Assessment"})]})})]})]})};function NBe({used:e,total:t,message:n}){const r=Rt(),a=e/t*100,i=()=>e>=t?"destructive":(e===t-1,"default"),o=()=>e>=t?"bg-destructive":e===t-1?"bg-yellow-500":"bg-green-500",c=e>=t?Pt:e===t-1?Rr:Pt,u=i();return e>=t?s.jsxs(Ft,{variant:"destructive",className:"mb-6",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(cf,{children:"Assessment Limit Reached"}),s.jsxs(Bt,{className:"mt-2 space-y-3",children:[s.jsxs("p",{children:["You've used all ",t," of your free assessments. Upgrade to Premium to unlock unlimited assessments and full features."]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(F,{onClick:()=>r("/pricing?upgrade=premium"),variant:"default",size:"sm",children:"Upgrade to Premium"}),s.jsx(F,{onClick:()=>r("/pricing"),variant:"outline",size:"sm",children:"View Pricing"})]})]})]}):s.jsxs(Ft,{variant:u,className:"mb-6",children:[s.jsx(c,{className:"h-4 w-4"}),s.jsx(cf,{children:"Assessment Quota"}),s.jsxs(Bt,{className:"mt-2 space-y-3",children:[s.jsx("p",{className:"text-sm",children:n||`You've used ${e} of ${t} free assessments. ${t-e} remaining.`}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Wr,{value:a,className:"h-2",children:s.jsx("div",{className:se("h-full transition-all",o()),style:{width:`${a}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e," / ",t," assessments used"]})]}),e===t-1&&s.jsx(F,{onClick:()=>r("/pricing"),variant:"outline",size:"sm",className:"mt-2",children:"Upgrade for More Assessments"})]})]})}function SBe({open:e,onOpenChange:t,title:n="Assessment Limit Reached",message:r="Free users can create maximum 2 assessments. Upgrade to Premium for unlimited assessments and full features.",plan:a="Premium",price:i="€599/month",onUpgrade:o}){const l=Rt(),c=()=>{o?o():l("/pricing?upgrade=premium"),t(!1)},u=()=>{l("/pricing"),t(!1)};return s.jsx(Jt,{open:e,onOpenChange:t,children:s.jsxs(Gt,{className:"sm:max-w-[500px]",children:[s.jsxs(Yt,{children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-pink-500 rounded-full blur-lg opacity-50"}),s.jsx("div",{className:"relative bg-gray-900 rounded-full p-4 border-2 border-cyan-500/50",children:s.jsx(qs,{className:"h-8 w-8 text-cyan-400"})})]})}),s.jsx(Xt,{className:"text-center text-2xl",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx($t,{className:"h-5 w-5 text-yellow-400"}),n]})}),s.jsx(Qt,{className:"text-center text-base pt-4",children:r})]}),s.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-pink-900/20 border border-cyan-800/50 rounded-lg p-6 my-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Upgrade to"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:a}),s.jsx("p",{className:"text-xl text-cyan-400 font-semibold",children:i})]}),s.jsxs("div",{className:"mt-4 space-y-2 text-sm text-gray-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-cyan-400 flex-shrink-0"}),s.jsx("span",{children:"Unlimited assessments per month"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-cyan-400 flex-shrink-0"}),s.jsx("span",{children:"Full gap analysis & strategy matrix"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-cyan-400 flex-shrink-0"}),s.jsx("span",{children:"AI-powered vendor matching"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-cyan-400 flex-shrink-0"}),s.jsx("span",{children:"Downloadable PDF reports"})]})]})]}),s.jsxs(pn,{className:"flex-col sm:flex-row gap-2",children:[s.jsx(F,{variant:"outline",onClick:u,className:"w-full sm:w-auto order-2 sm:order-1",children:"Learn More"}),s.jsxs(F,{onClick:c,className:"w-full sm:w-auto bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700 order-1 sm:order-2",children:["Upgrade to ",a]})]})]})})}const CBe={FINANCIAL_CRIME:Or,TRADE_COMPLIANCE:fa,DATA_PRIVACY:LF,CYBERSECURITY:qs,ESG:uZ},PBe={FINANCIAL_CRIME:"text-yellow-400 bg-yellow-500/20",TRADE_COMPLIANCE:"text-blue-400 bg-blue-500/20",DATA_PRIVACY:"text-purple-400 bg-purple-500/20",CYBERSECURITY:"text-red-400 bg-red-500/20",ESG:"text-green-400 bg-green-500/20"},ABe=()=>{const e=Rt(),[t,n]=y.useState(""),[r,a]=y.useState("ALL"),[i,o]=y.useState(!1),{data:l=[],isLoading:c,error:u}=$e({queryKey:r==="ALL"?Je.templatesFiltered({active:!0}):Je.templatesFiltered({category:r,active:!0}),queryFn:()=>kb.getTemplates(r==="ALL"?{active:!0}:{category:r,active:!0})}),{data:d}=$e({queryKey:["user","assessment-quota"],queryFn:async()=>{const b=localStorage.getItem("token");if(!b)return null;const w=await fetch("/v1/user/assessment-quota",{headers:{Authorization:`Bearer ${b}`}});return w.ok?w.json():null},enabled:!!localStorage.getItem("token"),retry:!1}),{data:f}=$e({queryKey:["subscription","billing-info"],queryFn:async()=>{const b=mv();if(!b)return null;const w=localStorage.getItem("token"),N=await fetch(`/v1/subscriptions/${b}/billing-info`,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"application/json"}});return N.ok?N.json():null},enabled:!!localStorage.getItem("token"),retry:!1}),m=d==null?void 0:d.data,h=f==null?void 0:f.data,g=m&&m.plan==="FREE",p=m&&m.quotaRemaining===0||(h==null?void 0:h.plan)==="PREMIUM"&&((h==null?void 0:h.creditsBalance)||0)<50,x=l.filter(b=>b.name.toLowerCase().includes(t.toLowerCase())||b.description.toLowerCase().includes(t.toLowerCase())),v=b=>{if(p){(h==null?void 0:h.plan)==="PREMIUM"?(Ae({title:"Purchase More Credits",description:"Redirecting to dashboard to purchase additional assessment credits...",duration:3e3}),e("/dashboard?purchase=true")):o(!0);return}e(`/assessment/execute/${b}`)};return u?s.jsx("div",{className:"min-h-screen bg-gray-950 p-8",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(K,{className:"bg-red-900/20 border-red-800",children:s.jsx(X,{className:"p-6",children:s.jsx("p",{className:"text-red-400",children:"Failed to load assessment templates. Please try again later."})})})})}):s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(3)].map((b,w)=>s.jsx("div",{className:"absolute opacity-5",style:{left:`${30+w*25}%`,top:`${20+w*20}%`,animation:`float ${20+w*5}s infinite ease-in-out`},children:s.jsx("div",{className:`w-96 h-96 rounded-full bg-gradient-to-br ${w%2===0?"from-cyan-500 to-cyan-400":"from-pink-500 to-pink-400"}`})},w))}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-3 mb-6 rounded-2xl bg-cyan-500/20 backdrop-blur-sm",children:s.jsx(tn,{className:"h-10 w-10 text-cyan-400"})}),s.jsx("h1",{className:"text-4xl font-bold mb-4 gradient-text",children:"Risk Assessment Templates"}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Choose from our comprehensive library of AI-powered assessment templates tailored to your compliance needs"})]}),g&&m&&s.jsx(NBe,{used:m.totalAssessmentsCreated,total:m.quotaLimit}),s.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ye,{placeholder:"Search templates...",value:t,onChange:b=>n(b.target.value),className:"bg-gray-900/50 border-gray-800 text-white placeholder:text-gray-500","data-testid":"input-search-templates"})}),s.jsxs(vt,{value:r,onValueChange:b=>a(b),children:[s.jsx(gt,{className:"w-full md:w-[250px] bg-gray-900/50 border-gray-800 text-white",children:s.jsx(bt,{placeholder:"All Categories"})}),s.jsxs(xt,{className:"bg-gray-900 border-gray-800",children:[s.jsx(ue,{value:"ALL",children:"All Categories"}),s.jsx(ue,{value:"FINANCIAL_CRIME",children:"Financial Crime"}),s.jsx(ue,{value:"TRADE_COMPLIANCE",children:"Trade Compliance"}),s.jsx(ue,{value:"DATA_PRIVACY",children:"Data Privacy"}),s.jsx(ue,{value:"CYBERSECURITY",children:"Cybersecurity"}),s.jsx(ue,{value:"ESG",children:"ESG Compliance"})]})]})]}),!c&&x.length>0&&s.jsxs(K,{className:"mb-8 bg-gradient-to-r from-cyan-900/30 to-pink-900/30 border-cyan-800/50 backdrop-blur-sm",children:[s.jsxs(de,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($t,{className:"h-5 w-5 text-yellow-400"}),s.jsx(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50",children:"Featured"})]}),s.jsx(pe,{className:"text-2xl text-white",children:x[0].name}),s.jsx(Ve,{className:"text-gray-300",children:x[0].description})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[x[0].estimatedMinutes>0&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsxs("span",{children:[x[0].estimatedMinutes," minutes"]})]}),x[0].totalQuestions>0&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsxs("span",{children:[x[0].totalQuestions," ",x[0].totalQuestions===1?"question":"questions"]})]})]}),s.jsxs(F,{size:"lg",onClick:()=>v(x[0].id),className:p?"bg-gray-600 hover:bg-gray-700 text-white":"bg-cyan-600 hover:bg-cyan-700 text-white","data-testid":`button-start-featured-${x[0].id}`,children:[p?(h==null?void 0:h.plan)==="PREMIUM"?s.jsxs("span",{className:"flex items-center",children:[s.jsx(rv,{className:"mr-2 h-5 w-5"}),"Purchase More Credits"]}):"Upgrade Required":"Start Featured Assessment",!p&&s.jsx(Er,{className:"ml-2 h-5 w-5"})]})]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6","data-tour":"template-cards",children:c?[...Array(6)].map((b,w)=>s.jsxs(K,{className:"bg-gray-900/50 border-gray-800",children:[s.jsxs(de,{children:[s.jsx(Et,{className:"h-12 w-12 rounded-lg mb-4"}),s.jsx(Et,{className:"h-6 w-3/4 mb-2"}),s.jsx(Et,{className:"h-4 w-full"}),s.jsx(Et,{className:"h-4 w-5/6"})]}),s.jsx(X,{children:s.jsx(Et,{className:"h-10 w-full"})})]},w)):x.map(b=>{const w=CBe[b.category],N=PBe[b.category];return s.jsxs(K,{className:"bg-gray-900/50 border-gray-800 hover:border-cyan-700/50 transition-all duration-300 card-hover group",children:[s.jsxs(de,{children:[s.jsx("div",{className:`inline-flex p-3 rounded-lg mb-4 ${N}`,children:s.jsx(w,{className:"h-6 w-6"})}),s.jsx(pe,{className:"text-white group-hover:text-cyan-400 transition-colors",children:b.name}),s.jsx(Ve,{className:"text-gray-400 line-clamp-2",children:b.description})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(le,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:b.category.replace("_"," ")}),s.jsxs(le,{variant:"secondary",className:"bg-gray-800 text-gray-300",children:["v",b.version]}),b.isActive&&s.jsx(le,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:"Active"})]}),s.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[b.estimatedMinutes>0&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsxs("span",{children:[b.estimatedMinutes," minutes"]})]}),b.totalQuestions>0&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsxs("span",{children:[b.totalQuestions," ",b.totalQuestions===1?"question":"questions"]})]})]}),s.jsxs(F,{className:p?"w-full bg-gray-600 hover:bg-gray-700 text-white":"w-full bg-gray-800 hover:bg-cyan-700 text-white group-hover:bg-cyan-600 transition-colors",onClick:()=>v(b.id),"data-testid":`button-start-${b.id}`,children:[p?(h==null?void 0:h.plan)==="PREMIUM"?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsx(rv,{className:"mr-2 h-4 w-4"}),"Purchase More Credits"]}):"Upgrade Required":"Start Assessment",!p&&s.jsx(sc,{className:"ml-2 h-4 w-4"})]})]})]},b.id)})}),!c&&x.length===0&&s.jsx(K,{className:"bg-gray-900/50 border-gray-800",children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(tn,{className:"h-16 w-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No templates found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Try adjusting your search or filter criteria"}),s.jsx(F,{variant:"outline",onClick:()=>{n(""),a("ALL")},className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Clear Filters"})]})})]}),s.jsx(SBe,{open:i,onOpenChange:o,title:"Assessment Limit Reached",message:"Free users can create maximum 2 assessments. Upgrade to Premium for unlimited assessments and access to all features.",plan:"Premium",price:"€599/month"})]})};var oj="Collapsible",[EBe,k9e]=Zn(oj),[kBe,bT]=EBe(oj),CK=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c,u]=zs({prop:r,defaultProp:a??!1,onChange:o,caller:oj});return s.jsx(kBe,{scope:n,disabled:i,contentId:ga(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Te.div,{"data-state":jT(c),"data-disabled":i?"":void 0,...l,ref:t})})});CK.displayName=oj;var PK="CollapsibleTrigger",AK=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=bT(PK,n);return s.jsx(Te.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":jT(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:be(e.onClick,a.onOpenToggle)})});AK.displayName=PK;var wT="CollapsibleContent",EK=y.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=bT(wT,e.__scopeCollapsible);return s.jsx(wr,{present:n||a.open,children:({present:i})=>s.jsx(TBe,{...r,ref:t,present:i})})});EK.displayName=wT;var TBe=y.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...i}=e,o=bT(wT,n),[l,c]=y.useState(r),u=y.useRef(null),d=Ke(t,u),f=y.useRef(0),m=f.current,h=y.useRef(0),g=h.current,p=o.open||l,x=y.useRef(p),v=y.useRef(void 0);return y.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),$n(()=>{const b=u.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const w=b.getBoundingClientRect();f.current=w.height,h.current=w.width,x.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),c(r)}},[o.open,r]),s.jsx(Te.div,{"data-state":jT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&a})});function jT(e){return e?"open":"closed"}var OBe=CK;const _Be=OBe,RBe=AK,MBe=EK,IBe=(e,t)=>{var r;const n=(r=e.split(".").pop())==null?void 0:r.toLowerCase();return n==="csv"||n==="xls"||n==="xlsx"||t!=null&&t.includes("spreadsheet")||t!=null&&t.includes("excel")?cA:ft},DBe=e=>{var a;const t=(e.filename||e.fileName||e.originalName||"").toLowerCase(),n=e.extractedData||{};if(n!=null&&n.documentType)return n.documentType;if(n!=null&&n.category)return n.category;if(t.includes("audit"))return"Audit Report";if(t.includes("cert")||t.includes("certificate"))return"Compliance Certificate";if(t.includes("risk")&&t.includes("assessment"))return"Risk Assessment";if(t.includes("policy")||t.includes("policies"))return"Policy";if(t.includes("procedure")||t.includes("process"))return"Procedure";if(t.includes("framework")||t.includes("standard"))return"Framework";if(t.includes("contract")||t.includes("agreement"))return"Contract";if(t.includes("financial")||t.includes("finance"))return"Financial Document";if(t.includes("report")||t.includes("annual"))return"Report";if(t.includes("compliance"))return"Compliance Document";const r=(a=t.split(".").pop())==null?void 0:a.toLowerCase();return r==="csv"||r==="xls"||r==="xlsx"?"Spreadsheet":r==="pdf"||r==="doc"||r==="docx"?"Document":"General Document"},$Be=e=>{switch(e.toLowerCase()){case"policy":return"bg-blue-500/20 text-blue-400 border-blue-500/50";case"audit report":return"bg-purple-500/20 text-purple-400 border-purple-500/50";case"compliance certificate":return"bg-green-500/20 text-green-400 border-green-500/50";case"risk assessment":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"contract":return"bg-pink-500/20 text-pink-400 border-pink-500/50";case"procedure":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/50";case"framework":return"bg-indigo-500/20 text-indigo-400 border-indigo-500/50";case"report":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"financial document":return"bg-emerald-500/20 text-emerald-400 border-emerald-500/50";case"compliance document":return"bg-teal-500/20 text-teal-400 border-teal-500/50";case"spreadsheet":return"bg-lime-500/20 text-lime-400 border-lime-500/50";case"document":return"bg-slate-500/20 text-slate-400 border-slate-500/50";case"general document":default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},LBe=e=>{switch(e){case"TIER_2":return{color:"bg-green-500/20 text-green-400 border-green-500/50",label:"System-Generated",icon:"✓✓"};case"TIER_1":return{color:"bg-blue-500/20 text-blue-400 border-blue-500/50",label:"Policy Document",icon:"✓"};case"TIER_0":return{color:"bg-amber-500/20 text-amber-400 border-amber-500/50",label:"Self-Declared",icon:"○"};default:return{color:"bg-gray-500/20 text-gray-400 border-gray-500/50",label:"Processing...",icon:"⟳"}}},FBe=e=>e.evidenceTier,BBe=({questions:e,onSubmit:t,organizationId:n,onDocumentUpload:r})=>{const[a,i]=y.useState({}),[o,l]=y.useState(new Set),[c,u]=y.useState(!1),[d,f]=y.useState(0),m=e.reduce((v,b)=>{const w=b.sectionTitle||"General";return v[w]||(v[w]=[]),v[w].push(b),v},{}),h=v=>{l(b=>{const w=new Set(b);return w.has(v)?w.delete(v):w.add(v),w})},g=Object.keys(a).filter(v=>{var b;return(b=a[v])==null?void 0:b.trim()}).length,p=g/e.length*100,x=async v=>{var w;const b=v.target.files;if(!(!b||b.length===0)){u(!0),f(0);try{for(let N=0;N<b.length;N++){const j=b[N];f((N+1)/b.length*100);let S=j.type;((w=j.name.split(".").pop())==null?void 0:w.toLowerCase())==="csv"&&(!S||S==="application/octet-stream")&&(S="text/csv");const P=await es.getUploadUrl({filename:j.name,mimeType:S||"application/octet-stream",size:j.size,organizationId:n});await fetch(P.uploadUrl,{method:"PUT",body:j,headers:{"Content-Type":S||"application/octet-stream"}}),await es.confirmUpload(P.document.id),await es.analyzeDocument(P.document.id,{extractData:!0,analyzeContent:!0,generateSummary:!1}),r(P.document.id),Ae({title:"Document uploaded",description:`${j.name} will be included in the re-analysis`})}}catch(N){Ae({title:"Upload failed",description:N.message||"Failed to upload document",variant:"destructive"})}finally{u(!1),f(0),v.target.value=""}}};return s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 mb-6 rounded-2xl bg-orange-500/20 backdrop-blur-sm",children:s.jsx(mZ,{className:"h-12 w-12 text-orange-400"})}),s.jsx("h2",{className:"text-3xl font-bold mb-4 gradient-text",children:"Manual Review Required"}),s.jsxs("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto",children:["Our AI couldn't find sufficient information for ",e.length," questions. Your input will help us provide more accurate risk assessment results."]})]}),s.jsxs(K,{className:"mb-8 bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-white",children:"Review Progress"}),s.jsxs(Ve,{className:"text-gray-400",children:[g," of ",e.length," questions answered"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-orange-400",children:[Math.round(p),"%"]})]})}),s.jsx(X,{children:s.jsx(Wr,{value:p,className:"h-3 bg-gray-800"})})]}),s.jsxs(Ft,{className:"mb-8 bg-cyan-900/20 border-cyan-800/50",children:[s.jsx(UF,{className:"h-5 w-5"}),s.jsx(cf,{className:"text-cyan-400",children:"Why Your Input Matters"}),s.jsx(Bt,{className:"text-gray-300",children:"These questions are critical for assessing your compliance posture. Without this information, your risk score may be overestimated, and recommendations may not be fully tailored to your organization."})]}),s.jsxs(K,{className:"mb-8 bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-white",children:"Have Additional Documents?"}),s.jsx(Ve,{className:"text-gray-400",children:"Upload more documents instead of manually answering. Our AI will re-analyze with the new information."})]}),c&&s.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 animate-pulse",children:[s.jsx(Ye,{className:"h-3 w-3 mr-1 animate-spin"}),"Uploading..."]})]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-6 text-center hover:border-orange-600 transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:x,className:"hidden",id:"additional-doc-upload",accept:".pdf,.doc,.docx,.txt,.csv,.xls,.xlsx",disabled:c}),s.jsxs("label",{htmlFor:"additional-doc-upload",className:"cursor-pointer",children:[s.jsx(qa,{className:"h-10 w-10 text-gray-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-300 mb-2",children:c?`Uploading and analyzing... ${Math.round(d)}%`:"Upload additional compliance documents"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, TXT, CSV, XLS, XLSX up to 10MB"})]}),c&&s.jsx("div",{className:"mt-4",children:s.jsx(Wr,{value:d,className:"h-2 bg-gray-800"})})]}),s.jsxs("div",{className:"mt-4 flex items-start gap-2 text-sm text-gray-400",children:[s.jsx(VF,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:'After uploading, click "Re-analyze with New Documents" below to update your assessment with the new evidence.'})]})]})]}),s.jsx("div",{className:"space-y-4 mb-8",children:Object.entries(m).map(([v,b])=>s.jsx(_Be,{open:o.has(v)||Object.keys(m).length===1,onOpenChange:()=>h(v),children:s.jsxs(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[s.jsx(de,{children:s.jsxs(RBe,{className:"flex items-center justify-between w-full group",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-500/20",children:s.jsx(aS,{className:"h-5 w-5 text-orange-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsx(pe,{className:"text-white text-lg",children:v}),s.jsxs(Ve,{className:"text-gray-400",children:[b.length," question",b.length>1?"s":""," ","to review"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(le,{className:"bg-orange-500/20 text-orange-300 border-orange-500/50",children:[b.filter(w=>{var N;return(N=a[w.questionId])==null?void 0:N.trim()}).length,"/",b.length]}),o.has(v)||Object.keys(m).length===1?s.jsx(Rc,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-300"}):s.jsx(eo,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-300"})]})]})}),s.jsx(MBe,{children:s.jsx(X,{className:"space-y-4",children:b.map((w,N)=>s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1 flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-500/20 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-bold text-orange-400",children:N+1})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium mb-2",children:w.question}),s.jsxs("div",{className:"mb-3",children:[s.jsxs(le,{variant:"outline",className:"text-xs border-gray-600 text-gray-400",children:["AI Confidence: ",Math.round((w.confidence||0)*100),"%"]}),w.currentAnswer&&s.jsxs("div",{className:"mt-2 p-2 bg-gray-900/50 rounded text-sm text-gray-500 italic",children:["AI Response: ",w.currentAnswer]})]}),s.jsx("textarea",{className:"w-full bg-gray-900 border border-gray-700 rounded-md p-3 text-gray-300 focus:border-orange-500 focus:ring-1 focus:ring-orange-500 outline-none min-h-[120px] resize-none",placeholder:"Please provide detailed information about this aspect of your compliance framework...",value:a[w.questionId]||"",onChange:j=>i(S=>({...S,[w.questionId]:j.target.value})),"data-testid":`input-manual-answer-${w.questionId}`})]})]})},w.questionId))})})]})},v))}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{variant:"outline",onClick:()=>{confirm("Are you sure you want to skip? Your risk assessment may be less accurate without this information.")&&t({})},className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:"Skip & View Results"}),s.jsxs(F,{onClick:()=>t(a),disabled:g===0&&!c,className:"bg-gradient-to-r from-orange-600 to-yellow-600 hover:from-orange-700 hover:to-yellow-700 text-white min-w-[200px]","data-testid":"button-submit-manual-answers",children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),g>0?`Submit ${g} Answer${g>1?"s":""} & Re-analyze`:"Re-analyze with New Documents"]})]}),s.jsx("p",{className:"text-sm text-gray-500 text-center max-w-md",children:"Provide manual answers, upload documents, or both. The AI will re-analyze your assessment with any new information."})]})]})},VBe=()=>{const{templateId:e}=Pb(),t=Rt(),{user:n}=Cs(),r=wt(),[a,i]=y.useState("documents"),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState("DRAFT"),[m,h]=y.useState(0),[g,p]=y.useState([]),[x,v]=y.useState(!1),[b,w]=y.useState({current:0,total:0}),[N,j]=y.useState(new Set),[S,C]=y.useState(new Set),[P,A]=y.useState("overview"),[T,E]=y.useState(!1),[k,R]=y.useState([{id:"init",title:"Initializing Assessment",description:"Setting up your risk assessment environment",icon:tn,status:"pending"},{id:"documents",title:"Analyzing Documents",description:"Processing uploaded compliance documents",icon:aS,status:"pending"},{id:"risks",title:"Identifying Risks",description:"Detecting potential compliance risks and vulnerabilities",icon:Pt,status:"pending"},{id:"gaps",title:"Gap Analysis",description:"Comparing current state with compliance requirements",icon:is,status:"pending"},{id:"scoring",title:"Risk Scoring",description:"Calculating comprehensive risk scores",icon:_r,status:"pending"},{id:"recommendations",title:"Generating Recommendations",description:"Creating personalized compliance strategies",icon:$t,status:"pending"}]),{data:I}=$e({queryKey:Je.template(e),queryFn:()=>kb.getTemplate(e),enabled:!!e}),{data:D}=$e({queryKey:["organization"],queryFn:()=>Co.getMyOrganization(),enabled:!!n}),{data:B,refetch:V}=$e({queryKey:Je.organizationDocuments((D==null?void 0:D.id)||""),queryFn:()=>es.getOrganizationDocuments((D==null?void 0:D.id)||""),enabled:!!(D!=null&&D.id),refetchInterval:$=>{const J=($==null?void 0:$.data)||[];return N.size>0||J.some(L=>!L.evidenceTier)?2e3:!1}}),O=(B==null?void 0:B.data)||[],_=it({mutationFn:()=>Wt.createAssessment({organizationId:(D==null?void 0:D.id)||"",templateId:e}),onSuccess:$=>{l($),Ae({title:"Assessment Created",description:"Ready to begin analysis when you click Start Assessment."})},onError:$=>{Ae({title:"Failed to create assessment",description:$.message||"Please try again",variant:"destructive"})}});y.useEffect(()=>{D&&e&&!o&&a==="documents"&&!_.isPending&&_.mutate()},[D,e,o,a]);const z=async $=>{var L;const J=$.target.files;if(!J||J.length===0||!(D!=null&&D.id))return;v(!0),w({current:0,total:J.length});const Z=[];try{for(let ce=0;ce<J.length;ce++){const H=J[ce];w({current:ce+1,total:J.length});let Se=H.type;((L=H.name.split(".").pop())==null?void 0:L.toLowerCase())==="csv"&&(!Se||Se==="application/octet-stream")&&(Se="text/csv");const re=await es.getUploadUrl({filename:H.name,mimeType:Se||"application/octet-stream",size:H.size,organizationId:D.id});await fetch(re.uploadUrl,{method:"PUT",body:H,headers:{"Content-Type":Se||"application/octet-stream"}}),await es.confirmUpload(re.document.id),Z.push(re.document.id),j(me=>new Set(me).add(re.document.id)),es.analyzeDocument(re.document.id,{extractData:!0,analyzeContent:!0,generateSummary:!1}).then(async()=>{j(me=>{const Fe=new Set(me);return Fe.delete(re.document.id),Fe}),await r.invalidateQueries({queryKey:Je.organizationDocuments(D.id)}),await V()}).catch(async me=>{console.error("Document analysis failed:",me),j(Fe=>{const ut=new Set(Fe);return ut.delete(re.document.id),ut}),await r.invalidateQueries({queryKey:Je.organizationDocuments(D.id)}),await V()}),Ae({title:"Document uploaded",description:`${H.name} uploaded and processing...`})}p(ce=>[...new Set([...ce,...Z])]),await r.invalidateQueries({queryKey:Je.organizationDocuments(D.id)}),Ae({title:`${J.length} document${J.length>1?"s":""} uploaded`,description:"All files uploaded successfully. Processing in background..."})}catch(ce){Ae({title:"Upload failed",description:ce.message||"Failed to upload document",variant:"destructive"})}finally{v(!1),w({current:0,total:0}),$.target.value=""}},ne=async $=>{try{await es.deleteDocument($),p(J=>J.filter(Z=>Z!==$)),await V(),Ae({title:"Document deleted",description:"Document removed successfully"})}catch(J){Ae({title:"Delete failed",description:J.message||"Failed to delete document",variant:"destructive"})}},Y=($,J)=>{R(Z=>Z.map(L=>L.id===$?{...L,status:J}:L))},Q=async()=>{if(o){i("execution"),h(0);try{R(Z=>Z.map(L=>({...L,status:"pending"}))),Y("init","processing"),await new Promise(Z=>setTimeout(Z,1e3)),Y("init","completed"),Y("documents","processing"),h(15),await new Promise(Z=>setTimeout(Z,1500)),Y("documents","completed"),Y("risks","processing"),h(30);const $=await Wt.executeAssessment(o.id,{documentIds:g});Y("risks","completed"),Y("gaps","processing"),h(50),await new Promise(Z=>setTimeout(Z,1e3)),Y("gaps","completed"),Y("scoring","processing"),h(70),await new Promise(Z=>setTimeout(Z,1e3)),Y("scoring","completed"),Y("recommendations","processing"),h(85),await new Promise(Z=>setTimeout(Z,1e3)),Y("recommendations","completed"),h(100),f("COMPLETED");const J=await Wt.getAssessmentResults(o.id);u(J),J.lowConfidenceAnswers&&J.lowConfidenceAnswers.length>0?setTimeout(()=>i("questions"),1500):setTimeout(()=>{t(`/assessment/results/${o.id}`)},1500)}catch($){console.error("Assessment execution failed:",$),f("FAILED"),Ae({title:"Assessment Failed",description:$.message||"There was an error processing your assessment. Please try again.",variant:"destructive"})}}},ie=async $=>{if(o){if(Object.keys($).length===0){t(`/assessment/results/${o.id}`);return}E(!0);try{await Wt.updateAssessmentAnswers(o.id,$),Ae({title:"Answers Submitted",description:"Re-calculating your risk score with the new information..."}),await Wt.executeAssessment(o.id,{documentIds:g}),Ae({title:"Analysis Complete",description:"Your risk assessment has been updated with the new information."}),t(`/assessment/results/${o.id}`)}catch(J){Ae({title:"Failed to submit answers",description:J.message,variant:"destructive"})}finally{E(!1)}}},ae=()=>s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map(($,J)=>s.jsx("div",{className:"absolute w-1 h-1 bg-cyan-400 rounded-full animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${3+Math.random()*4}s`}},J))});if(!I||!D)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"h-12 w-12 text-cyan-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading assessment..."})]})});if(a==="documents")return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[ae(),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse"})]}),s.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 mb-6 rounded-2xl bg-cyan-500/20 backdrop-blur-sm",children:s.jsx(aS,{className:"h-12 w-12 text-cyan-400"})}),s.jsx("h1",{className:"text-4xl font-bold mb-4 gradient-text",children:"Prepare Your Assessment"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Upload compliance documents for AI analysis"}),I&&s.jsx("div",{className:"mt-4",children:s.jsx(le,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/50 px-4 py-1",children:I.name})})]}),s.jsxs(K,{className:"mb-8 bg-gray-900/50 backdrop-blur-sm border-gray-800","data-tour":"document-upload",children:[s.jsxs(de,{children:[s.jsx(pe,{className:"text-white",children:"Upload Documents"}),s.jsx(Ve,{className:"text-gray-400",children:"Upload your compliance documents, policies, and procedures for AI analysis"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-700 rounded-lg p-8 text-center hover:border-cyan-600 transition-colors",children:[s.jsx("input",{type:"file",multiple:!0,onChange:z,className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.csv,.xls,.xlsx",disabled:x}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[s.jsx(qa,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300 mb-2",children:x?`Uploading ${b.current}/${b.total} files...`:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-sm text-gray-500",children:"PDF, DOC, DOCX, TXT, CSV, XLS, XLSX up to 10MB"}),s.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"You can select multiple files at once"})]})]}),O&&O.length>0&&s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Available Documents:"}),O.map($=>{const J=$.filename||$.fileName||$.originalName||"",Z=IBe(J,$.mimeType),L=DBe($),ce=FBe($),H=LBe(ce),Se=N.has($.id);return s.jsxs("div",{className:`flex items-center justify-between gap-2 p-3 rounded-lg bg-gray-800/50 border-2 ${g.includes($.id)?"border-cyan-600 bg-cyan-900/20":"border-gray-700"} cursor-pointer hover:border-cyan-600/50 transition-all duration-200`,onClick:()=>{Se||p(U=>U.includes($.id)?U.filter(re=>re!==$.id):[...U,$.id])},children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Z,{className:"h-5 w-5 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-white text-sm truncate",children:J}),Se&&s.jsxs(le,{className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/50 flex-shrink-0",children:[s.jsx(Ye,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing"]}),$.extractedData&&s.jsx("span",{className:"text-green-400 text-xs flex-shrink-0",children:"✓ Analyzed"})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[($.size||$.fileSize)&&s.jsxs("span",{children:[(($.size||$.fileSize)/1024/1024).toFixed(2)," MB"]}),($.createdAt||$.uploadedAt)&&s.jsx("span",{className:"hidden sm:inline",children:(()=>{const U=new Date($.createdAt||$.uploadedAt);return isNaN(U.getTime())?"Recently uploaded":U.toLocaleDateString()})()})]}),!Se&&s.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx(le,{className:`text-xs px-2 py-0.5 ${$Be(L)}`,children:L}),s.jsxs(le,{className:`text-xs px-2 py-0.5 ${H.color}`,children:[s.jsx("span",{className:"mr-1",children:H.icon}),s.jsx("span",{className:"hidden sm:inline",children:H.label})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.includes($.id)&&s.jsx("div",{className:"flex items-center justify-center bg-cyan-600/20 border border-cyan-500/50 rounded h-8 w-8",children:s.jsx(at,{className:"h-4 w-4 text-cyan-400"})}),s.jsx(F,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-red-400 flex-shrink-0",onClick:U=>{U.stopPropagation(),ne($.id)},children:s.jsx(cp,{className:"h-4 w-4"})})]})]},$.id)})]}),x&&b.total>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx(Wr,{value:b.current/b.total*100,className:"h-2 bg-gray-800"}),s.jsxs("p",{className:"text-sm text-gray-400 mt-2 text-center",children:["Uploading file ",b.current," of ",b.total]})]})]})]}),O&&O.length>0&&s.jsx("div",{className:"mb-6",children:s.jsxs(Ft,{className:g.length>0?"bg-cyan-900/20 border-cyan-800/50":"bg-orange-900/20 border-orange-800/50",children:[s.jsx(VF,{className:"h-5 w-5"}),s.jsx(cf,{className:g.length>0?"text-cyan-400":"text-orange-400",children:g.length>0?`${g.length} Document${g.length>1?"s":""} Selected`:"No Documents Selected"}),s.jsx(Bt,{className:"text-gray-300",children:g.length>0?"Our AI will analyze only the selected documents. You can select or deselect documents by clicking on them above.":"Please select at least one document to analyze. Click on any document above to select it."})]})}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs(F,{variant:"outline",onClick:()=>t("/assessment-templates"),className:"border-gray-700 text-gray-300 hover:bg-gray-800","data-testid":"button-choose-template",children:[s.jsx(ft,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{className:"text-xs md:text-sm",children:"Change Template"})]}),s.jsxs(F,{onClick:Q,disabled:!o||g.length===0,className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white md:min-w-[200px] disabled:opacity-50 disabled:cursor-not-allowed",title:g.length===0?"Please select at least one document":"Start analysis","data-testid":"button-start-analysis",children:[s.jsx(yZ,{className:"h-4 w-4 mr-1 md:mr-2"}),s.jsx("span",{className:"text-xs md:text-sm",children:"Start Analysis"})]})]})]})]});if(a==="execution")return s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[ae(),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse"})]}),s.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 mb-6 rounded-2xl bg-cyan-500/20 backdrop-blur-sm animate-pulse",children:s.jsx(rf,{className:"h-12 w-12 text-cyan-400"})}),s.jsx("h1",{className:"text-4xl font-bold mb-4 gradient-text",children:"AI Risk Analysis in Progress"}),s.jsx("p",{className:"text-xl text-gray-400",children:"Our advanced AI is analyzing your compliance framework"}),I&&s.jsx("div",{className:"mt-4",children:s.jsx(le,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/50 px-4 py-1",children:I.name})})]}),s.jsxs(K,{className:"mb-8 bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsx(pe,{className:"text-white",children:"Overall Progress"})}),s.jsxs("div",{className:"text-2xl font-bold text-cyan-400",children:[m,"%"]})]})}),s.jsx(X,{children:s.jsx(Wr,{value:m,className:"h-3 bg-gray-800"})})]}),s.jsx("div",{className:"space-y-4",children:k.map(($,J)=>{const Z=$.icon;return s.jsx(K,{className:`
                    bg-gray-900/50 backdrop-blur-sm border transition-all duration-500
                    ${$.status==="processing"?"border-cyan-600 shadow-lg shadow-cyan-500/20":"border-gray-800"}
                    ${$.status==="completed"?"border-green-800":""}
                  `,children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`
                          p-3 rounded-lg transition-all duration-500
                          ${$.status==="processing"?"bg-cyan-500/20 animate-pulse":""}
                          ${$.status==="completed"?"bg-green-500/20":""}
                          ${$.status==="pending"?"bg-gray-800":""}
                        `,children:$.status==="completed"?s.jsx(at,{className:"h-6 w-6 text-green-400"}):$.status==="processing"?s.jsx(Ye,{className:"h-6 w-6 text-cyan-400 animate-spin"}):s.jsx(Z,{className:"h-6 w-6 text-gray-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("h3",{className:`
                            font-semibold transition-colors
                            ${$.status==="processing"?"text-cyan-400":""}
                            ${$.status==="completed"?"text-green-400":""}
                            ${$.status==="pending"?"text-gray-500":""}
                          `,children:$.title}),$.status==="processing"&&s.jsx(le,{className:"bg-cyan-500/20 text-cyan-400 border-cyan-500/50 animate-pulse",children:"Processing"}),$.status==="completed"&&s.jsx(le,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:"Complete"})]}),s.jsx("p",{className:`
                          text-sm transition-colors
                          ${$.status==="pending"?"text-gray-600":"text-gray-400"}
                        `,children:$.description}),$.status==="processing"&&s.jsx("div",{className:"mt-2",children:s.jsx(Wr,{value:100,className:"h-1 bg-gray-800 animate-pulse"})})]}),$.status==="completed"&&$.duration&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[s.jsx(cr,{className:"h-4 w-4"}),s.jsxs("span",{children:[$.duration,"s"]})]})]})})},$.id)})}),d==="FAILED"&&s.jsxs(Ft,{className:"mt-8 bg-red-900/20 border-red-800",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Bt,{children:"The assessment encountered an error. Please try again or contact support if the issue persists."})]})]})]});const ge=$=>{p(J=>[...J,$])};return a==="questions"&&c?s.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden",children:[ae(),s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-orange-500/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-yellow-500/10 rounded-full blur-3xl"})]}),s.jsx("div",{className:"relative z-10 py-12",children:T?s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsx(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsx(X,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 mb-6 rounded-2xl bg-cyan-500/20 backdrop-blur-sm animate-pulse",children:s.jsx(rf,{className:"h-12 w-12 text-cyan-400"})}),s.jsx("h2",{className:"text-2xl font-bold mb-4 gradient-text",children:"Re-analyzing Assessment"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Our AI is processing your new information and updating the risk assessment..."}),s.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 text-left",children:[s.jsx(Ye,{className:"h-5 w-5 text-cyan-400 animate-spin flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Processing manual answers..."})]}),s.jsxs("div",{className:"flex items-center gap-3 text-left",children:[s.jsx(Ye,{className:"h-5 w-5 text-cyan-400 animate-spin flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Analyzing additional documents..."})]}),s.jsxs("div",{className:"flex items-center gap-3 text-left",children:[s.jsx(Ye,{className:"h-5 w-5 text-cyan-400 animate-spin flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Recalculating risk scores..."})]}),s.jsxs("div",{className:"flex items-center gap-3 text-left",children:[s.jsx(Ye,{className:"h-5 w-5 text-cyan-400 animate-spin flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:"Updating recommendations..."})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx(Wr,{value:66,className:"h-3 bg-gray-800 animate-pulse"}),s.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"This may take 1-2 minutes depending on the amount of new information"})]})]})})})}):s.jsx(BBe,{questions:c.lowConfidenceAnswers||[],onSubmit:ie,organizationId:(D==null?void 0:D.id)||"",onDocumentUpload:ge})})]}):s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"h-12 w-12 text-cyan-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading assessment..."})]})})};function c5({title:e,children:t,locked:n}){const r=Rt();return n?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"pointer-events-none select-none",style:{filter:"blur(8px)"},"aria-hidden":"true",children:t}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-950/80 backdrop-blur-sm",children:s.jsxs("div",{className:"text-center max-w-md px-6 py-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center p-4 mb-4 rounded-full bg-gradient-to-r from-cyan-600 to-pink-600",children:s.jsx(qs,{className:"h-8 w-8 text-white"})}),s.jsxs("h3",{className:"text-2xl font-bold text-white mb-3",children:[e," Locked"]}),s.jsxs("p",{className:"text-gray-300 mb-6",children:["Upgrade to Premium to unlock ",e.toLowerCase()," and get full insights into your compliance assessment."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(F,{onClick:()=>r("/pricing?upgrade=premium"),className:"w-full bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Starting at €599/month"})]})]})}),s.jsxs("div",{className:"sr-only",children:["This ",e," section is locked. Upgrade to Premium to access this content."]})]}):s.jsx(s.Fragment,{children:t})}const UBe=({score:e,size:t="medium",showLabel:n=!0})=>{const r=y.useRef(null),i={small:{width:120,height:80,radius:50},medium:{width:180,height:120,radius:75},large:{width:240,height:160,radius:100}}[t];return y.useEffect(()=>{const o=r.current;if(!o)return;const l=o.getContext("2d");if(!l)return;l.clearRect(0,0,i.width,i.height);const c=i.width/2,u=i.height-20,d=Math.PI,f=2*Math.PI;l.beginPath(),l.arc(c,u,i.radius,d,f),l.strokeStyle="rgba(75, 85, 99, 0.3)",l.lineWidth=t==="large"?20:t==="medium"?15:10,l.lineCap="round",l.stroke();const m=d+e/100*Math.PI,h=l.createLinearGradient(0,0,i.width,0);e<30?(h.addColorStop(0,"#ef4444"),h.addColorStop(1,"#f87171")):e<60?(h.addColorStop(0,"#f97316"),h.addColorStop(1,"#fb923c")):e<80?(h.addColorStop(0,"#f59e0b"),h.addColorStop(1,"#fbbf24")):(h.addColorStop(0,"#10b981"),h.addColorStop(1,"#34d399")),l.beginPath(),l.arc(c,u,i.radius,d,m),l.strokeStyle=h,l.lineWidth=t==="large"?20:t==="medium"?15:10,l.lineCap="round",l.stroke(),l.fillStyle="#ffffff",l.font=`bold ${t==="large"?"36px":t==="medium"?"28px":"20px"} sans-serif`,l.textAlign="center",l.textBaseline="middle",l.fillText(`${e}`,c,u-10),n&&(l.fillStyle="#9ca3af",l.font=`${t==="large"?"14px":"12px"} sans-serif`,l.fillText("Risk Score",c,u+(t==="large"?15:10)));const g=5;for(let p=0;p<=g;p++){const x=d+p/g*Math.PI,v=i.radius-(t==="large"?25:t==="medium"?18:12),b=i.radius-(t==="large"?30:t==="medium"?22:15),w=c+Math.cos(x)*v,N=u+Math.sin(x)*v,j=c+Math.cos(x)*b,S=u+Math.sin(x)*b;l.beginPath(),l.moveTo(w,N),l.lineTo(j,S),l.strokeStyle="#6b7280",l.lineWidth=1,l.stroke()}},[e,t,i,n]),s.jsx("div",{className:"relative",children:s.jsx("canvas",{ref:r,width:i.width,height:i.height,className:"w-full h-full","data-testid":`risk-gauge-${e}`})})},u5=e=>{switch(e){case"CRITICAL":return"bg-red-500/20 text-red-400 border-red-500/50";case"HIGH":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"MEDIUM":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"LOW":return"bg-green-500/20 text-green-400 border-green-500/50";default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},zBe=e=>{switch(e){case"IMMEDIATE":return s.jsx(Rr,{className:"h-4 w-4 text-red-400"});case"HIGH":return s.jsx(Pt,{className:"h-4 w-4 text-orange-400"});case"MEDIUM":return s.jsx(cr,{className:"h-4 w-4 text-yellow-400"});case"LOW":return s.jsx(_r,{className:"h-4 w-4 text-green-400"});default:return s.jsx(Pt,{className:"h-4 w-4 text-gray-400"})}},WBe=e=>e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ");function qBe({category:e,categoryScore:t,gaps:n,criticalGaps:r,totalGaps:a,keyFindings:i=[],mitigationStrategies:o=[],children:l}){const[c,u]=y.useState("gaps"),f=[...Array.isArray(n)?n:[]].sort((g,p)=>{const x={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3},v={IMMEDIATE:0,HIGH:1,MEDIUM:2,LOW:3},b=x[g.severity]-x[p.severity];return b!==0?b:v[g.priority]-v[p.priority]}),m=Array.isArray(i)?i:[],h=Array.isArray(o)?o:[];return s.jsxs(Jt,{children:[s.jsx(bv,{asChild:!0,children:l||s.jsxs(F,{size:"sm",variant:"ghost",className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/20",children:["View Details",s.jsx(Er,{className:"h-3 w-3 ml-1"})]})}),s.jsxs(Gt,{className:"max-w-4xl h-[85vh] bg-gray-900 border-gray-800 p-0",children:[s.jsx("div",{className:"bg-gradient-to-br from-purple-900/30 to-blue-900/30 border-b border-gray-800 p-6",children:s.jsxs(Yt,{children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:s.jsx(tn,{className:"h-6 w-6 text-purple-400"})}),s.jsxs("div",{children:[s.jsx(Xt,{className:"text-2xl font-bold text-white",children:WBe(e)}),s.jsx(Qt,{className:"text-gray-400 mt-1",children:"Detailed analysis of compliance gaps and remediation strategies"})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Risk Score"}),s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:t.toFixed(1)})]})}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Critical Gaps"}),s.jsx("div",{className:"text-2xl font-bold text-red-400",children:r})]})}),s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Total Gaps"}),s.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:a})]})})]}),s.jsxs("div",{className:"flex gap-1 mt-4 p-1 bg-gray-800/50 rounded-lg",children:[s.jsx("button",{onClick:()=>u("gaps"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${c==="gaps"?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Gaps (",f.length,")"]})}),m.length>0&&s.jsx("button",{onClick:()=>u("findings"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${c==="findings"?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(is,{className:"h-4 w-4"}),"Key Findings (",m.length,")"]})}),h.length>0&&s.jsx("button",{onClick:()=>u("strategies"),className:`flex-1 py-2 px-3 rounded-md text-sm font-medium transition-all ${c==="strategies"?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx($t,{className:"h-4 w-4"}),"Strategies (",h.length,")"]})})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",style:{maxHeight:"calc(85vh - 280px)"},children:[c==="gaps"&&s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No gaps identified in this category"})]}):f.map((g,p)=>s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border border-gray-700 hover:border-purple-500/50 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:zBe(g.priority)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-white font-semibold mb-1",children:[p+1,". ",g.title||"Gap Identified"]}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:g.description||"No description available"})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx(le,{className:`${u5(g.severity)} border`,children:g.severity})})]}),g.recommendation&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700/50",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(at,{className:"h-4 w-4 text-green-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Recommendation:"}),s.jsx("p",{className:"text-gray-300 text-sm mt-1",children:g.recommendation})]})]})}),(g.estimatedCost||g.estimatedEffort)&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700/50 flex gap-4",children:[g.estimatedCost&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4 text-cyan-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Cost:"}),s.jsx("span",{className:"text-sm text-white font-medium",children:g.estimatedCost})]}),g.estimatedEffort&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4 text-purple-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Effort:"}),s.jsx("span",{className:"text-sm text-white font-medium",children:g.estimatedEffort})]})]})]},g.id))}),c==="findings"&&s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No key findings available"})]}):m.map((g,p)=>s.jsx("div",{className:"bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-lg p-4 border border-purple-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:s.jsx(is,{className:"h-4 w-4 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"text-white font-semibold mb-2",children:["Finding ",p+1,": ",g.finding||"Risk Identified"]}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:g.description||"Analysis in progress"}),s.jsx("div",{className:"mt-3",children:s.jsxs(le,{className:`${u5(g.severity||"HIGH")} border`,children:[g.severity||"HIGH"," SEVERITY"]})})]})]})},p))}),c==="strategies"&&s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx($t,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No mitigation strategies available"})]}):h.map((g,p)=>s.jsx("div",{className:"bg-gradient-to-r from-cyan-900/20 to-blue-900/20 rounded-lg p-4 border border-cyan-500/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:s.jsx($t,{className:"h-4 w-4 text-cyan-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:g.strategy||"Mitigation Strategy"}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed mb-3",children:g.rationale||"Strategic approach to address identified gaps"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Priority"}),s.jsx("div",{className:"text-white font-medium text-sm mt-1",children:g.priority||"High"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Impact"}),s.jsx("div",{className:"text-white font-medium text-sm mt-1",children:g.impact||"Significant"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Timeline"}),s.jsx("div",{className:"text-white font-medium text-sm mt-1",children:g.estimatedTimeframe||"TBD"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded p-2",children:[s.jsx("span",{className:"text-gray-400 text-xs",children:"Budget"}),s.jsx("div",{className:"text-white font-medium text-sm mt-1",children:g.estimatedBudget||"TBD"})]})]}),g.keyActions&&g.keyActions.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700/50",children:[s.jsx("span",{className:"text-cyan-400 text-sm font-medium",children:"Key Actions:"}),s.jsx("ul",{className:"mt-2 space-y-1",children:g.keyActions.map((x,v)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(sc,{className:"h-3 w-3 text-cyan-400 mt-0.5"}),s.jsx("span",{className:"text-gray-300 text-sm",children:x})]},v))})]})]})]})},p))})]}),s.jsx("div",{className:"border-t border-gray-800 p-4 bg-gray-900/50",children:s.jsx(pn,{children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(tn,{className:"h-4 w-4"}),s.jsx("span",{children:"Compliance Analysis powered by AI"})]}),s.jsx(bv,{asChild:!0,children:s.jsx(F,{variant:"default",className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Close"})})]})})})]})]})}const kK=e=>e>=80?{level:"EXCELLENT",color:"text-green-400 bg-green-500/20 border-green-500/50",description:"Outstanding compliance posture with minimal gaps"}:e>=60?{level:"GOOD",color:"text-cyan-400 bg-cyan-500/20 border-cyan-500/50",description:"Strong compliance with some areas for improvement"}:e>=40?{level:"MODERATE",color:"text-yellow-400 bg-yellow-500/20 border-yellow-500/50",description:"Adequate compliance but significant improvements needed"}:e>=20?{level:"NEEDS IMPROVEMENT",color:"text-orange-400 bg-orange-500/20 border-orange-500/50",description:"Major compliance gaps requiring immediate attention"}:{level:"CRITICAL",color:"text-red-400 bg-red-500/20 border-red-500/50",description:"Critical compliance failures requiring urgent remediation"},HBe=({results:e,gaps:t,risks:n,aiMetrics:r})=>{const a=kK(e.overallRiskScore),i=t.filter(u=>u.severity==="CRITICAL").length,o=t.filter(u=>u.priority==="IMMEDIATE").length,l=new Set(t.map(u=>u.category)).size,c=(r==null?void 0:r.avgRemediationDays)||o*7+(t.length-o)*14;return s.jsxs(K,{className:"bg-gradient-to-br from-purple-900/20 to-blue-900/20 border-purple-800/50",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rf,{className:"h-5 w-5 text-purple-400"}),s.jsx(pe,{className:"text-white",children:"Executive Summary"})]})}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"prose prose-invert max-w-none",children:[s.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Your organization demonstrates a ",s.jsx("strong",{className:a.color,children:a.level})," compliance posture with a score of ",s.jsxs("strong",{children:[e.overallRiskScore,"%"]}),". ",a.description,"."]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Gaps Identified"}),i>0&&s.jsxs(le,{className:"mt-2 bg-red-500/20 text-red-400 border-red-500/50",children:[i," Critical"]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:l}),s.jsx("div",{className:"text-sm text-gray-400",children:"Affected Areas"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Across compliance domains"})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[Math.ceil(c/30),s.jsx("span",{className:"text-lg font-normal",children:" months"})]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Est. Remediation Time"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"For full compliance"})]})]}),s.jsxs(Ft,{className:"mt-6 bg-cyan-900/20 border-cyan-800/50",children:[s.jsx(UF,{className:"h-4 w-4"}),s.jsxs(Bt,{className:"text-gray-300",children:[s.jsx("strong",{children:"Key Insight:"})," Addressing your ",o," immediate priority gaps could improve your compliance score by approximately ",r!=null&&r.totalRiskReduction?Math.round(r.totalRiskReduction/4):Math.round(o*2.5),"% within the next 30 days."]})]})]})})]})},KBe=({gaps:e,assessmentId:t})=>{const[n,r]=y.useState(null),{data:a,isLoading:i,error:o}=$e({queryKey:["ai-analysis",t],queryFn:async()=>(await je(`/assessments/${t}/ai-analysis`)).data,enabled:e.length>0,staleTime:1/0,cacheTime:1/0,retry:1});y.useEffect(()=>{a!=null&&a.riskAnalysis&&r(a.riskAnalysis)},[a]),e.reduce((d,f)=>(d[f.category]||(d[f.category]=[]),d[f.category].push(f),d),{});const l=d=>d>=7?{label:"High Risk",color:"bg-red-500 text-white"}:d>=4?{label:"Medium Risk",color:"bg-yellow-500 text-gray-900"}:{label:"Low Risk",color:"bg-green-500 text-white"};a==null||a.generatedAt;const c=i&&!n,u=o&&!n;return!n&&!i&&!o?null:s.jsxs("div",{className:"space-y-8",children:[c&&s.jsxs(Ft,{className:"border-cyan-800 bg-cyan-900/20",children:[s.jsx(rf,{className:"h-4 w-4 animate-pulse"}),s.jsx(Bt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Generating AI analysis (one-time process)... This may take up to 5 seconds."}),s.jsx(Ye,{className:"h-4 w-4 animate-spin"})]})})]}),u&&s.jsxs(Ft,{className:"border-red-800 bg-red-900/20",children:[s.jsx(Rr,{className:"h-4 w-4"}),s.jsx(Bt,{children:"AI analysis generation is taking longer than expected. You can view basic gap information below, or refresh the page to retry."})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Risk Areas Analysis"}),s.jsx("p",{className:"text-gray-400",children:"Detailed breakdown of identified risk areas with AI-generated findings and mitigation strategies"})]}),n&&Object.entries(n).map(([d,f])=>{const m=l(parseFloat(f.score)),h=parseFloat(f.score)/10*100,g=e.filter(p=>p.category===d);return s.jsxs(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800 overflow-hidden",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:d.replace(/_/g," ")}),s.jsx(le,{className:m.color,children:m.label}),f.criticalGaps>0&&s.jsxs(le,{className:"bg-red-500/20 text-red-400 border-red-500/50",children:[f.criticalGaps," Critical"]})]}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[parseFloat(f.score).toFixed(1),s.jsx("span",{className:"text-sm text-gray-400",children:"/10"})]})]}),s.jsx("div",{className:"relative h-2 bg-gray-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`absolute inset-y-0 left-0 rounded-full transition-all duration-500 ${parseFloat(f.score)>=7?"bg-gradient-to-r from-red-500 to-orange-500":parseFloat(f.score)>=4?"bg-gradient-to-r from-yellow-500 to-orange-500":"bg-gradient-to-r from-green-500 to-cyan-500"}`,style:{width:`${h}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:divide-x divide-gray-800",children:[s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Key Findings"}),s.jsx("div",{className:"space-y-3",children:f.keyFindings.map((p,x)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx(Rr,{className:`h-4 w-4 ${p.severity==="CRITICAL"?"text-red-400":p.severity==="HIGH"?"text-orange-400":"text-yellow-400"}`})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:p.finding})})]},p.id))})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Mitigation Strategies"}),s.jsx("div",{className:"space-y-3",children:f.mitigationStrategies.map((p,x)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:s.jsx(at,{className:"h-4 w-4 text-cyan-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:p.strategy})})]},x))})]})]}),s.jsx("div",{className:"px-6 py-3 bg-gray-800/30 border-t border-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-400",children:[f.totalGaps," total gaps identified in this category"]}),s.jsx(qBe,{category:d,categoryScore:parseFloat(f.score),gaps:g,criticalGaps:f.criticalGaps,totalGaps:f.totalGaps,keyFindings:f.keyFindings||[],mitigationStrategies:f.mitigationStrategies||[]})]})})]},d)})]})},GBe=({gaps:e,risks:t,assessmentId:n})=>{const[r,a]=y.useState([]),[i,o]=y.useState("priority"),[l,c]=y.useState("asc"),{data:u,isLoading:d,error:f}=$e({queryKey:["ai-analysis",n],queryFn:async()=>(await je(`/assessments/${n}/ai-analysis`)).data,enabled:e.length>0,staleTime:1/0,cacheTime:1/0}),m=C=>{if(!C)return 0;const P=C.match(/\$(\d+)k/);return P?parseInt(P[1],10)*1e3:0},h=C=>{if(!C)return 0;if(C.includes("week")){const P=C.match(/(\d+)-?(\d*)\s*weeks?/);if(P)return P[2]?(parseInt(P[1])+parseInt(P[2]))/2:parseInt(P[1])}if(C.includes("month")){const P=C.match(/(\d+)-?(\d*)\s*months?/);if(P)return(P[2]?(parseInt(P[1])+parseInt(P[2]))/2:parseInt(P[1]))*4}return 0};y.useEffect(()=>{if(u!=null&&u.strategyMatrix){const C=u.strategyMatrix.map(P=>({...P,budgetValue:m(P.budget),timelineValue:h(P.timeline)}));a(C)}},[u]);const g=d&&r.length===0,p=f&&r.length===0;if(!r.length&&!d&&!f)return null;const x=C=>{const P=i===C&&l==="asc"?"desc":"asc";o(C),c(P);const A=[...r].sort((T,E)=>{let k=T[C],R=E[C];return C==="impact"?(k=parseFloat(k),R=parseFloat(R)):C==="timeline"?(k=T.timelineValue,R=E.timelineValue):C==="budget"&&(k=T.budgetValue,R=E.budgetValue),k<R?P==="asc"?-1:1:k>R?P==="asc"?1:-1:0});a(A)},v=C=>{switch(C){case"HIGH":return"bg-red-500 text-white";case"MEDIUM":return"bg-yellow-500 text-gray-900";default:return"bg-green-500 text-white"}},b=C=>C==="IMMEDIATE"?"bg-red-900 text-red-200 border-red-700":C==="SHORT TERM"?"bg-orange-900 text-orange-200 border-orange-700":C==="MEDIUM TERM"?"bg-yellow-900 text-yellow-200 border-yellow-700":"bg-gray-800 text-gray-300 border-gray-700";if(d)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(is,{className:"h-12 w-12 text-cyan-400 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Generating mitigation strategies..."})]})});const w=r.length>0?r.reduce((C,P)=>C+P.budgetValue,0):0,N=r.filter(C=>C.adjustedRisk==="HIGH").length,j=r.filter(C=>C.urgency==="IMMEDIATE").length,S=r.length>0?(r.reduce((C,P)=>C+P.timelineValue,0)/r.length).toFixed(1):"0";return s.jsxs("div",{className:"space-y-6",children:[g&&s.jsxs(Ft,{className:"border-cyan-800 bg-cyan-900/20",children:[s.jsx(is,{className:"h-4 w-4 animate-pulse"}),s.jsx(Bt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Generating strategy matrix (one-time process)... This may take up to 5 seconds."}),s.jsx(Ye,{className:"h-4 w-4 animate-spin"})]})})]}),p&&s.jsxs(Ft,{className:"border-red-800 bg-red-900/20",children:[s.jsx(Rr,{className:"h-4 w-4"}),s.jsx(Bt,{children:"Strategy matrix generation is taking longer than expected. Please refresh the page to retry."})]}),r.length>0&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Strategic Investment"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:["$",(w/1e3).toFixed(0),"K"]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Over ",S," months average"]})]})}),s.jsx(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Critical Priority"}),s.jsx("div",{className:"text-2xl font-bold text-red-400",children:N}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"High-risk areas"})]})}),s.jsx(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Immediate Actions"}),s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:j}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Require urgent attention"})]})}),s.jsx(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsxs(X,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Risk Reduction"}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[r.reduce((C,P)=>C+(P.riskReductionPercent||15),0),"%"]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Expected improvement (AI-generated)"})]})})]}),r.length>0&&s.jsxs(K,{className:"bg-gray-900/50 backdrop-blur-sm border-gray-800",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{className:"text-white",children:"Risk Mitigation Strategy Matrix"}),s.jsx(Ve,{className:"text-gray-400",children:"Prioritized mitigation strategies with business context, adjusted for your Intermediate Compliance (Scale-up Level) maturity level"})]}),s.jsxs(le,{className:"bg-cyan-500/20 text-cyan-400",children:[r.length," strategies"]})]})}),s.jsx(X,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-800/50 border-b border-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsxs("button",{onClick:()=>x("priority"),className:"flex items-center gap-1 text-xs font-medium text-gray-400 uppercase tracking-wider hover:text-white transition-colors",children:["Priority",i==="priority"&&(l==="asc"?s.jsx(Rc,{className:"h-3 w-3"}):s.jsx(eo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsxs("button",{onClick:()=>x("riskArea"),className:"flex items-center gap-1 text-xs font-medium text-gray-400 uppercase tracking-wider hover:text-white transition-colors",children:["Risk Area",i==="riskArea"&&(l==="asc"?s.jsx(Rc,{className:"h-3 w-3"}):s.jsx(eo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Adjusted Risk"})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Urgency"})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsxs("button",{onClick:()=>x("impact"),className:"flex items-center gap-1 text-xs font-medium text-gray-400 uppercase tracking-wider hover:text-white transition-colors",children:["Impact",i==="impact"&&(l==="asc"?s.jsx(Rc,{className:"h-3 w-3"}):s.jsx(eo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Primary Mitigation"})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsxs("button",{onClick:()=>x("timeline"),className:"flex items-center gap-1 text-xs font-medium text-gray-400 uppercase tracking-wider hover:text-white transition-colors",children:["Timeline",i==="timeline"&&(l==="asc"?s.jsx(Rc,{className:"h-3 w-3"}):s.jsx(eo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsxs("button",{onClick:()=>x("budget"),className:"flex items-center gap-1 text-xs font-medium text-gray-400 uppercase tracking-wider hover:text-white transition-colors",children:["Budget",i==="budget"&&(l==="asc"?s.jsx(Rc,{className:"h-3 w-3"}):s.jsx(eo,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left",children:s.jsx("div",{className:"text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Business Owner"})})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:r.map((C,P)=>s.jsxs("tr",{className:"hover:bg-gray-800/30 transition-colors",children:[s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-300",children:["#",C.priority]}),P===0&&s.jsx(le,{className:"ml-2 bg-red-500/20 text-red-400 text-xs",children:"P1"})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-white",children:C.riskArea}),C.criticalGaps>0&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[C.gapCount," gaps • ",C.criticalGaps," critical"]})]})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx(le,{className:`${v(C.adjustedRisk)} text-xs px-2 py-1`,children:C.adjustedRisk})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx(le,{className:`${b(C.urgency)} border text-xs px-2 py-1`,children:C.urgency})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-semibold text-white",children:C.impact})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("p",{className:"text-sm text-gray-300 max-w-xs",children:C.primaryMitigation})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-300",children:C.timeline})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-cyan-400",children:C.budget})}),s.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-300",children:C.businessOwner})})]},P))})]})})})]}),r.length>0&&s.jsxs(Ft,{className:"bg-cyan-900/20 border-cyan-800/50",children:[s.jsx(is,{className:"h-4 w-4"}),s.jsxs(Bt,{className:"text-gray-300",children:["Focus on high-risk areas that require immediate attention and quick wins to improve compliance posture. This strategic roadmap provides a clear path to achieve compliance excellence within ",S," months."]})]})]})},YBe=()=>{var x;const{assessmentId:e}=Pb(),t=Rt(),{data:n,isLoading:r,error:a}=$e({queryKey:Je.assessmentResults(e),queryFn:()=>Wt.getAssessmentResults(e),enabled:!!e}),{data:i}=$e({queryKey:["subscription"],queryFn:Tb.getCurrentSubscription,enabled:!!localStorage.getItem("token"),retry:!1}),o=(i==null?void 0:i.plan)||"FREE",l=o==="FREE",{data:c}=$e({queryKey:["ai-analysis",e],queryFn:async()=>(await je(`/assessments/${e}/ai-analysis`)).data,enabled:!!e&&!!n&&((x=n.gaps)==null?void 0:x.length)>0,staleTime:1/0,retry:1}),{data:u,refetch:d,isLoading:f}=$e({queryKey:Je.priorities(e),queryFn:()=>Wt.getPriorities(e),enabled:!!e&&!!n,retry:!1,staleTime:0,cacheTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0}),h=(v=>{if(!v)return!1;const w=["selectedUseCases","rankedPriorities"].every(S=>Array.isArray(v[S])&&v[S].length>0),j=["primaryGoal","implementationUrgency","budgetRange","deploymentPreference","vendorMaturity","geographicRequirements","supportModel"].every(S=>v[S]&&v[S].trim().length>0);return w&&j})(u);y.useEffect(()=>{e==="cmh3fju610001phrlckdz3aa2"&&console.log("[AssessmentResults] Debug priorities for cmh3fju610001phrlckdz3aa2:",{priorities:u,prioritiesLoading:f,hasPriorities:!!u})},[u,f,e]),y.useEffect(()=>{e&&n&&d();const v=()=>{e&&n&&d()};return window.addEventListener("focus",v),()=>window.removeEventListener("focus",v)},[e,n,d]);const g=async()=>{try{Ae({title:"Generating Report",description:"Your compliance report is being generated..."}),await Wt.generatePDFReport(e),await Wt.downloadPDFReport(e),Ae({title:"Report Downloaded",description:"Your report has been downloaded successfully."})}catch(v){Ae({title:"Download Failed",description:v.message||"Unable to download report",variant:"destructive"})}};if(r)return s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rf,{className:"h-12 w-12 text-cyan-400 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Analyzing assessment results..."})]})});if(a||!n)return s.jsx("div",{className:"min-h-screen bg-gray-950 p-8",children:s.jsxs(Ft,{className:"max-w-2xl mx-auto border-red-800",children:[s.jsx(Rr,{className:"h-4 w-4"}),s.jsx(Bt,{children:"Failed to load assessment results. Please try again."})]})});const p=kK(n.overallRiskScore);return s.jsxs("div",{className:"min-h-screen bg-gray-950",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-900/5 via-gray-950 to-purple-900/5"}),s.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Compliance Assessment Results"}),s.jsxs("p",{className:"text-gray-400",children:["Comprehensive analysis completed on ",new Date().toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{variant:"outline",onClick:()=>t("/reports"),className:"border-gray-700","data-testid":"button-view-all-reports",children:"View All Reports"}),s.jsxs(F,{onClick:g,className:"bg-cyan-600 hover:bg-cyan-700","data-testid":"button-download-pdf",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]})]})}),s.jsx(K,{className:"mb-8 bg-gray-900/50 backdrop-blur-sm border-gray-800",children:s.jsx(X,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-8",children:[s.jsx("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:s.jsx(UBe,{score:n.overallRiskScore,size:"large"})}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("div",{className:"mb-4",children:s.jsx(le,{className:`text-lg px-4 py-2 ${p.color}`,children:p.level})}),s.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:["Your Compliance Score: ",n.overallRiskScore,"%"]}),s.jsx("p",{className:"text-gray-300 text-lg",children:p.description}),s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center gap-4 justify-center md:justify-start",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Gaps Identified:"}),s.jsx("span",{className:"text-white font-semibold ml-2",children:n.gaps.length})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Risks Found:"}),s.jsx("span",{className:"text-white font-semibold ml-2",children:n.risks.length})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Priority:"}),s.jsx("span",{className:"text-white font-semibold ml-2",children:n.summary.priority.replace("_"," ")})]})]})]})]})})}),o!=="FREE"&&s.jsx(K,{className:"mb-8 bg-gradient-to-r from-purple-900/30 to-pink-900/30 border-purple-800/50",children:s.jsx(X,{className:"p-6",children:h?s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Ready to Address Your Compliance Gaps?"}),s.jsx("p",{className:"text-gray-300",children:"Discover vendors matched to your specific compliance needs"})]}),s.jsxs(F,{onClick:()=>t(`/marketplace?assessmentId=${e}`),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[s.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Find Matching Vendors",s.jsx(Er,{className:"h-4 w-4 ml-2"})]})]}):s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[s.jsx(is,{className:"h-6 w-6 text-pink-400"}),u?"Finish Your Priorities Questionnaire":"Complete Your Priorities Questionnaire"]}),s.jsx("p",{className:"text-gray-300",children:u?"Your questionnaire is incomplete. Complete it to unlock AI-powered vendor matching.":"Tell us about your organization's priorities and get personalized vendor recommendations based on your specific needs."})]}),s.jsxs(F,{onClick:()=>t(`/assessments/${e}/priorities`),className:"bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 text-white px-8 py-6 text-lg font-semibold",children:[s.jsx($t,{className:"h-5 w-5 mr-2"}),u?"Finish Questionnaire":"Complete Questionnaire",s.jsx(Er,{className:"h-5 w-5 ml-2"})]})]})})}),s.jsxs(dc,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Lo,{className:"bg-gray-900/50 border border-gray-800",children:[s.jsx(mn,{value:"overview",children:"Overview"}),s.jsx(mn,{value:"gaps",children:"Gap Analysis"}),s.jsx(mn,{value:"strategy",children:"Strategy Matrix"})]}),s.jsx(Un,{value:"overview",className:"space-y-6",children:s.jsx(HBe,{results:n,gaps:n.gaps,risks:n.risks,aiMetrics:c==null?void 0:c.metrics})}),s.jsx(Un,{value:"gaps",className:"space-y-6",children:s.jsx(c5,{title:"Gap Analysis",locked:l,children:s.jsx(KBe,{gaps:n.gaps,assessmentId:e})})}),s.jsx(Un,{value:"strategy",className:"space-y-6",children:s.jsx(c5,{title:"Strategy Matrix",locked:l,children:s.jsx(GBe,{gaps:n.gaps,risks:n.risks,assessmentId:e})})})]})]})]})},XBe=[{value:"STARTUP",label:"1-50 employees (Startup)"},{value:"SMB",label:"51-250 employees (SMB)"},{value:"MIDMARKET",label:"251-1000 employees (Mid-market)"},{value:"ENTERPRISE",label:"1000+ employees (Enterprise)"}],QBe=[{value:"UNDER_1M",label:"Under €1M"},{value:"FROM_1M_10M",label:"€1M - €10M"},{value:"FROM_10M_100M",label:"€10M - €100M"},{value:"OVER_100M",label:"Over €100M"}],ZBe=[{value:"NONE",label:"No dedicated team"},{value:"ONE_TWO",label:"1-2 people"},{value:"THREE_TEN",label:"3-10 people"},{value:"OVER_TEN",label:"10+ people"}],TK=[{value:"FINCEN",label:"FinCEN (US)"},{value:"FCA",label:"FCA (UK)"},{value:"MAS",label:"MAS (Singapore)"},{value:"BaFin",label:"BaFin (Germany)"},{value:"APRA",label:"APRA (Australia)"},{value:"EBA",label:"EBA (EU)"},{value:"OSFI",label:"OSFI (Canada)"},{value:"OTHER",label:"Other"}],OK=[{value:"ACTIMIZE",label:"Actimize"},{value:"FICO",label:"FICO Tonbeller"},{value:"SAS",label:"SAS AML"},{value:"ORACLE",label:"Oracle FLEXCUBE"},{value:"FISERV",label:"Fiserv"},{value:"TEMENOS",label:"Temenos"},{value:"WORLDCHECK",label:"World-Check"},{value:"COMPLYADVANTAGE",label:"ComplyAdvantage"},{value:"REFINITIV",label:"Refinitiv"},{value:"OTHER",label:"Other/Custom"},{value:"NONE",label:"None"}],eP=[{value:"REGULATORY_COMPLIANCE",label:"Achieve Regulatory Compliance",description:"Meet regulatory requirements and pass audits"},{value:"RISK_REDUCTION",label:"Reduce Financial Crime Risk",description:"Minimize exposure to AML/fraud risks"},{value:"OPERATIONAL_EFFICIENCY",label:"Improve Operational Efficiency",description:"Streamline compliance processes and reduce manual work"},{value:"TECHNOLOGY_MODERNIZATION",label:"Modernize Technology Stack",description:"Upgrade legacy systems with modern solutions"},{value:"COST_REDUCTION",label:"Reduce Compliance Costs",description:"Lower operational expenses while maintaining compliance"},{value:"SCALABILITY",label:"Enable Business Scalability",description:"Build compliance infrastructure for growth"}],tP=["Immediate (0-6 months)","Planned (6-12 months)","Strategic (12-24 months)","Long-term (24+ months)"],_K=[{value:"UNDER_10K",label:"Under €10K"},{value:"RANGE_10K_50K",label:"€10K - €50K"},{value:"RANGE_50K_100K",label:"€50K - €100K"},{value:"RANGE_100K_250K",label:"€100K - €250K"},{value:"OVER_250K",label:"Over €250K"}],RK=[{value:"CLOUD",label:"Cloud-based",description:"SaaS hosted solution"},{value:"ON_PREMISE",label:"On-premise",description:"Self-hosted in our data center"},{value:"HYBRID",label:"Hybrid",description:"Combination of cloud and on-premise"},{value:"FLEXIBLE",label:"Flexible",description:"Open to any deployment model"}],MK=[{value:"REAL_TIME_MONITORING",label:"Real-time transaction monitoring"},{value:"AI_ML_DETECTION",label:"AI/ML-based detection"},{value:"CASE_MANAGEMENT",label:"Case management workflow"},{value:"REGULATORY_REPORTING",label:"Automated regulatory reporting"},{value:"API_INTEGRATION",label:"API integration capabilities"},{value:"MULTI_JURISDICTION",label:"Multi-jurisdiction support"},{value:"CUSTOM_RULES",label:"Customizable rules engine"},{value:"AUDIT_TRAIL",label:"Complete audit trail"},{value:"MOBILE_ACCESS",label:"Mobile access"},{value:"DASHBOARD_ANALYTICS",label:"Analytics dashboard"}],IK=[{value:"ENTERPRISE",label:"Established Enterprise",description:"Proven track record, extensive features, enterprise support"},{value:"MID_MARKET",label:"Mid-Market",description:"Modern technology, growing customer base, competitive pricing"},{value:"STARTUP",label:"Innovative Startup",description:"Cutting-edge features, agile approach, lower cost"},{value:"ANY",label:"No Preference",description:"Open to vendors of any size"}],DK=[{value:"LOCAL",label:"Local presence required",description:"Must have local offices and support"},{value:"REGIONAL",label:"Regional coverage preferred",description:"Coverage in our operating region"},{value:"GLOBAL",label:"Global coverage needed",description:"Worldwide support and compliance expertise"},{value:"NO_PREFERENCE",label:"No specific requirement",description:"Remote support is acceptable"}],$K=[{value:"SELF_SERVICE",label:"Self-service",description:"Documentation and community support"},{value:"STANDARD",label:"Standard support",description:"Email/ticket support during business hours"},{value:"PREMIUM",label:"Premium support",description:"24/7 support with dedicated account manager"}],nP=[{id:"1",factor:"Total Cost of Ownership",description:"Overall cost including licensing, implementation, and maintenance"},{id:"2",factor:"Implementation Speed",description:"Time to deploy and achieve value"},{id:"3",factor:"Feature Completeness",description:"Breadth and depth of compliance features"},{id:"4",factor:"Vendor Reputation & Stability",description:"Track record, financial stability, customer satisfaction"},{id:"5",factor:"Integration Capabilities",description:"Ease of integration with existing systems"},{id:"6",factor:"Scalability & Future-readiness",description:"Ability to grow with our business needs"}];function JBe(){const{control:e,watch:t,setValue:n}=Li(),r=t("step1.jurisdictions")||[],a=t("step1.existingSystems")||[],i=(l,c)=>{c?n("step1.jurisdictions",[...r,l],{shouldValidate:!0}):n("step1.jurisdictions",r.filter(u=>u!==l),{shouldValidate:!0})},o=(l,c)=>{c?n("step1.existingSystems",[...a,l],{shouldValidate:!0}):n("step1.existingSystems",a.filter(u=>u!==l),{shouldValidate:!0})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Organizational Context"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Tell us about your compliance needs and infrastructure to help us recommend the best solutions."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Operating Jurisdictions ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Select all jurisdictions where you operate or are regulated"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:TK.map(l=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:`jurisdiction-${l.value}`,checked:r.includes(l.value),onCheckedChange:c=>i(l.value,c),className:"border-gray-600 data-[state=checked]:bg-cyan-600 data-[state=checked]:border-cyan-600"}),s.jsx("label",{htmlFor:`jurisdiction-${l.value}`,className:"text-sm text-gray-300 cursor-pointer",children:l.label})]},l.value))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Existing Compliance Systems ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Select all compliance systems you currently use"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:OK.map(l=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:`system-${l.value}`,checked:a.includes(l.value),onCheckedChange:c=>o(l.value,c),className:"border-gray-600 data-[state=checked]:bg-cyan-600 data-[state=checked]:border-cyan-600"}),s.jsx("label",{htmlFor:`system-${l.value}`,className:"text-sm text-gray-300 cursor-pointer",children:l.label})]},l.value))})]})]})}function eVe(){const{control:e,watch:t}=Li(),n=t("step2.implementationUrgency")||2;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Goals & Timeline"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Help us understand your primary objectives and timeline for implementation."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Primary Goal ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What is your most important objective for this compliance initiative?"}),s.jsx(Ml,{name:"step2.primaryGoal",control:e,render:({field:r,fieldState:a})=>s.jsxs(s.Fragment,{children:[s.jsx(ho,{onValueChange:r.onChange,value:r.value,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:eP.map(i=>s.jsx(K,{className:`cursor-pointer transition-all ${r.value===i.value?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ga,{value:i.value,id:i.value,className:"mt-1 border-gray-600 text-cyan-600"}),s.jsxs("label",{htmlFor:i.value,className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-white",children:i.label}),r.value===i.value&&s.jsx(xn,{className:"h-4 w-4 text-cyan-400"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:i.description})]})]})})},i.value))})}),a.error&&s.jsx("p",{className:"text-sm text-red-500",children:a.error.message})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(te,{className:"text-white",children:["Implementation Urgency ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What is your desired timeline for implementing a solution?"}),s.jsx(Ml,{name:"step2.implementationUrgency",control:e,render:({field:r})=>s.jsxs("div",{className:"space-y-4",children:[s.jsx(mg,{min:1,max:4,step:1,value:[r.value||2],onValueChange:a=>r.onChange(a[0]),className:"w-full"}),s.jsx("div",{className:"flex justify-between text-xs text-gray-400",children:tP.map((a,i)=>s.jsx("div",{className:`flex-1 text-center ${n===i+1?"text-cyan-400 font-medium":""}`,children:a},i))}),s.jsx("div",{className:"text-center mt-2",children:s.jsx("div",{className:"inline-block px-4 py-2 bg-cyan-900/30 border border-cyan-600 rounded-lg",children:s.jsxs("p",{className:"text-sm text-cyan-400 font-medium",children:["Selected: ",tP[n-1]]})})})]})})]})]})}function tVe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Em(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function NT(e){return"nodeType"in e}function Ps(e){var t,n;return e?Em(e)?e:NT(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function ST(e){const{Document:t}=Ps(e);return e instanceof t}function nx(e){return Em(e)?!1:e instanceof Ps(e).HTMLElement}function LK(e){return e instanceof Ps(e).SVGElement}function km(e){return e?Em(e)?e.document:NT(e)?ST(e)?e:nx(e)||LK(e)?e.ownerDocument:document:document:document}const Di=lj?y.useLayoutEffect:y.useEffect;function CT(e){const t=y.useRef(e);return Di(()=>{t.current=e}),y.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function nVe(){const e=y.useRef(null),t=y.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=y.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function hg(e,t){t===void 0&&(t=[e]);const n=y.useRef(e);return Di(()=>{n.current!==e&&(n.current=e)},t),n}function rx(e,t){const n=y.useRef();return y.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function H0(e){const t=CT(e),n=y.useRef(null),r=y.useCallback(a=>{a!==n.current&&(t==null||t(a,n.current)),n.current=a},[]);return[n,r]}function rP(e){const t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}let t1={};function sx(e,t){return y.useMemo(()=>{if(t)return t;const n=t1[e]==null?0:t1[e]+1;return t1[e]=n,e+"-"+n},[e,t])}function FK(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const $d=FK(1),pg=FK(-1);function rVe(e){return"clientX"in e&&"clientY"in e}function PT(e){if(!e)return!1;const{KeyboardEvent:t}=Ps(e.target);return t&&e instanceof t}function sVe(e){if(!e)return!1;const{TouchEvent:t}=Ps(e.target);return t&&e instanceof t}function sP(e){if(sVe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return rVe(e)?{x:e.clientX,y:e.clientY}:null}const qf=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[qf.Translate.toString(e),qf.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),d5="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function aVe(e){return e.matches(d5)?e:e.querySelector(d5)}const iVe={display:"none"};function oVe(e){let{id:t,value:n}=e;return M.createElement("div",{id:t,style:iVe},n)}function lVe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return M.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function cVe(){const[e,t]=y.useState("");return{announce:y.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const BK=y.createContext(null);function uVe(e){const t=y.useContext(BK);y.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function dVe(){const[e]=y.useState(()=>new Set),t=y.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[y.useCallback(r=>{let{type:a,event:i}=r;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const fVe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mVe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hVe(e){let{announcements:t=mVe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=fVe}=e;const{announce:i,announcement:o}=cVe(),l=sx("DndLiveRegion"),[c,u]=y.useState(!1);if(y.useEffect(()=>{u(!0)},[]),uVe(y.useMemo(()=>({onDragStart(f){let{active:m}=f;i(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;t.onDragMove&&i(t.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;i(t.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;i(t.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;i(t.onDragCancel({active:m,over:h}))}}),[i,t])),!c)return null;const d=M.createElement(M.Fragment,null,M.createElement(oVe,{id:r,value:a.draggable}),M.createElement(lVe,{id:l,announcement:o}));return n?da.createPortal(d,n):d}var ar;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ar||(ar={}));function K0(){}function G0(e,t){return y.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function VK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ja=Object.freeze({x:0,y:0});function UK(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function zK(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function pVe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function f5(e){let{left:t,top:n,height:r,width:a}=e;return[{x:t,y:n},{x:t+a,y:n},{x:t,y:n+r},{x:t+a,y:n+r}]}function WK(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function m5(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const qK=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=m5(t,t.left,t.top),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=UK(m5(c),a);i.push({id:l,data:{droppableContainer:o,value:u}})}}return i.sort(zK)},gVe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=f5(t),i=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=f5(c),d=a.reduce((m,h,g)=>m+UK(u[g],h),0),f=Number((d/4).toFixed(4));i.push({id:l,data:{droppableContainer:o,value:f}})}}return i.sort(zK)};function xVe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-r,l=i-n;if(r<a&&n<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const yVe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const i of r){const{id:o}=i,l=n.get(o);if(l){const c=xVe(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(pVe)};function vVe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function HK(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ja}function bVe(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const wVe=bVe(1);function jVe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function NVe(e,t,n){const r=jVe(t);if(!r)return e;const{scaleX:a,scaleY:i,x:o,y:l}=r,c=e.left-o-(1-a)*parseFloat(n),u=e.top-l-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const SVe={ignoreTransform:!1};function Tm(e,t){t===void 0&&(t=SVe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ps(e).getComputedStyle(e);u&&(n=NVe(n,u,d))}const{top:r,left:a,width:i,height:o,bottom:l,right:c}=n;return{top:r,left:a,width:i,height:o,bottom:l,right:c}}function h5(e){return Tm(e,{ignoreTransform:!0})}function CVe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function PVe(e,t){return t===void 0&&(t=Ps(e).getComputedStyle(e)),t.position==="fixed"}function AVe(e,t){t===void 0&&(t=Ps(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?n.test(i):!1})}function cj(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(ST(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!nx(a)||LK(a)||n.includes(a))return n;const i=Ps(e).getComputedStyle(a);return a!==e&&AVe(a,i)&&n.push(a),PVe(a,i)?n:r(a.parentNode)}return e?r(e):n}function KK(e){const[t]=cj(e,1);return t??null}function n1(e){return!lj||!e?null:Em(e)?e:NT(e)?ST(e)||e===km(e).scrollingElement?window:nx(e)?e:null:null}function GK(e){return Em(e)?e.scrollX:e.scrollLeft}function YK(e){return Em(e)?e.scrollY:e.scrollTop}function aP(e){return{x:GK(e),y:YK(e)}}var yr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(yr||(yr={}));function XK(e){return!lj||!e?!1:e===document.scrollingElement}function QK(e){const t={x:0,y:0},n=XK(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const EVe={x:.2,y:.2};function kVe(e,t,n,r,a){let{top:i,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),a===void 0&&(a=EVe);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=QK(e),h={x:0,y:0},g={x:0,y:0},p={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+p.height?(h.y=yr.Backward,g.y=r*Math.abs((t.top+p.height-i)/p.height)):!d&&c>=t.bottom-p.height&&(h.y=yr.Forward,g.y=r*Math.abs((t.bottom-p.height-c)/p.height)),!m&&l>=t.right-p.width?(h.x=yr.Forward,g.x=r*Math.abs((t.right-p.width-l)/p.width)):!f&&o<=t.left+p.width&&(h.x=yr.Backward,g.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:h,speed:g}}function TVe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function ZK(e){return e.reduce((t,n)=>$d(t,aP(n)),Ja)}function OVe(e){return e.reduce((t,n)=>t+GK(n),0)}function _Ve(e){return e.reduce((t,n)=>t+YK(n),0)}function RVe(e,t){if(t===void 0&&(t=Tm),!e)return;const{top:n,left:r,bottom:a,right:i}=t(e);KK(e)&&(a<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const MVe=[["x",["left","right"],OVe],["y",["top","bottom"],_Ve]];class AT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cj(n),a=ZK(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of MVe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Uh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function IVe(e){const{EventTarget:t}=Ps(e);return e instanceof t?e:km(e)}function r1(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var aa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(aa||(aa={}));function p5(e){e.preventDefault()}function DVe(e){e.stopPropagation()}var St;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(St||(St={}));const JK={start:[St.Space,St.Enter],cancel:[St.Esc],end:[St.Space,St.Enter,St.Tab]},$Ve=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case St.Right:return{...n,x:n.x+25};case St.Left:return{...n,x:n.x-25};case St.Down:return{...n,y:n.y+25};case St.Up:return{...n,y:n.y-25}}};class uj{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Uh(km(n)),this.windowListeners=new Uh(Ps(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(aa.Resize,this.handleCancel),this.windowListeners.add(aa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(aa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&RVe(r),n(Ja)}handleKeyDown(t){if(PT(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:i=JK,coordinateGetter:o=$Ve,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Ja;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const m=pg(f,d),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const p of g){const x=t.code,{isTop:v,isRight:b,isLeft:w,isBottom:N,maxScroll:j,minScroll:S}=QK(p),C=TVe(p),P={x:Math.min(x===St.Right?C.right-C.width/2:C.right,Math.max(x===St.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(x===St.Down?C.bottom-C.height/2:C.bottom,Math.max(x===St.Down?C.top:C.top+C.height/2,f.y))},A=x===St.Right&&!b||x===St.Left&&!w,T=x===St.Down&&!N||x===St.Up&&!v;if(A&&P.x!==f.x){const E=p.scrollLeft+m.x,k=x===St.Right&&E<=j.x||x===St.Left&&E>=S.x;if(k&&!m.y){p.scrollTo({left:E,behavior:l});return}k?h.x=p.scrollLeft-E:h.x=x===St.Right?p.scrollLeft-j.x:p.scrollLeft-S.x,h.x&&p.scrollBy({left:-h.x,behavior:l});break}else if(T&&P.y!==f.y){const E=p.scrollTop+m.y,k=x===St.Down&&E<=j.y||x===St.Up&&E>=S.y;if(k&&!m.x){p.scrollTo({top:E,behavior:l});return}k?h.y=p.scrollTop-E:h.y=x===St.Down?p.scrollTop-j.y:p.scrollTop-S.y,h.y&&p.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,$d(pg(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}uj.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=JK,onActivation:a}=t,{active:i}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function g5(e){return!!(e&&"distance"in e)}function x5(e){return!!(e&&"delay"in e)}class ET{constructor(t,n,r){var a;r===void 0&&(r=IVe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:o}=i;this.props=t,this.events=n,this.document=km(o),this.documentListeners=new Uh(this.document),this.listeners=new Uh(r),this.windowListeners=new Uh(Ps(o)),this.initialCoordinates=(a=sP(i))!=null?a:Ja,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(aa.Resize,this.handleCancel),this.windowListeners.add(aa.DragStart,p5),this.windowListeners.add(aa.VisibilityChange,this.handleCancel),this.windowListeners.add(aa.ContextMenu,p5),this.documentListeners.add(aa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(x5(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(g5(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(aa.Click,DVe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(aa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(n=sP(t))!=null?n:Ja,u=pg(a,c);if(!r&&l){if(g5(l)){if(l.tolerance!=null&&r1(u,l.tolerance))return this.handleCancel();if(r1(u,l.distance))return this.handleStart()}if(x5(l)&&r1(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===St.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const LVe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class dj extends ET{constructor(t){const{event:n}=t,r=km(n.target);super(t,LVe,r)}}dj.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const FVe={move:{name:"mousemove"},end:{name:"mouseup"}};var iP;(function(e){e[e.RightClick=2]="RightClick"})(iP||(iP={}));class BVe extends ET{constructor(t){super(t,FVe,km(t.event.target))}}BVe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===iP.RightClick?!1:(r==null||r({event:n}),!0)}}];const s1={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class VVe extends ET{constructor(t){super(t,s1)}static setup(){return window.addEventListener(s1.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(s1.move.name,t)};function t(){}}}VVe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r==null||r({event:n}),!0)}}];var zh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(zh||(zh={}));var Y0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Y0||(Y0={}));function UVe(e){let{acceleration:t,activator:n=zh.Pointer,canScroll:r,draggingRect:a,enabled:i,interval:o=5,order:l=Y0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const h=WVe({delta:f,disabled:!i}),[g,p]=nVe(),x=y.useRef({x:0,y:0}),v=y.useRef({x:0,y:0}),b=y.useMemo(()=>{switch(n){case zh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case zh.DraggableRect:return a}},[n,a,c]),w=y.useRef(null),N=y.useCallback(()=>{const S=w.current;if(!S)return;const C=x.current.x*v.current.x,P=x.current.y*v.current.y;S.scrollBy(C,P)},[]),j=y.useMemo(()=>l===Y0.TreeOrder?[...u].reverse():u,[l,u]);y.useEffect(()=>{if(!i||!u.length||!b){p();return}for(const S of j){if((r==null?void 0:r(S))===!1)continue;const C=u.indexOf(S),P=d[C];if(!P)continue;const{direction:A,speed:T}=kVe(S,P,b,t,m);for(const E of["x","y"])h[E][A[E]]||(T[E]=0,A[E]=0);if(T.x>0||T.y>0){p(),w.current=S,g(N,o),x.current=T,v.current=A;return}}x.current={x:0,y:0},v.current={x:0,y:0},p()},[t,N,r,p,i,o,JSON.stringify(b),JSON.stringify(h),g,u,j,d,JSON.stringify(m)])}const zVe={x:{[yr.Backward]:!1,[yr.Forward]:!1},y:{[yr.Backward]:!1,[yr.Forward]:!1}};function WVe(e){let{delta:t,disabled:n}=e;const r=rP(t);return rx(a=>{if(n||!r||!a)return zVe;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[yr.Backward]:a.x[yr.Backward]||i.x===-1,[yr.Forward]:a.x[yr.Forward]||i.x===1},y:{[yr.Backward]:a.y[yr.Backward]||i.y===-1,[yr.Forward]:a.y[yr.Forward]||i.y===1}}},[n,t,r])}function qVe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return rx(a=>{var i;return t==null?null:(i=r??a)!=null?i:null},[r,t])}function HVe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...i]},[]),[e,t])}var gg;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(gg||(gg={}));var oP;(function(e){e.Optimized="optimized"})(oP||(oP={}));const y5=new Map;function KVe(e,t){let{dragging:n,dependencies:r,config:a}=t;const[i,o]=y.useState(null),{frequency:l,measure:c,strategy:u}=a,d=y.useRef(e),f=x(),m=hg(f),h=y.useCallback(function(v){v===void 0&&(v=[]),!m.current&&o(b=>b===null?v:b.concat(v.filter(w=>!b.includes(w))))},[m]),g=y.useRef(null),p=rx(v=>{if(f&&!n)return y5;if(!v||v===y5||d.current!==e||i!=null){const b=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const N=w.node.current,j=N?new AT(c(N),N):null;w.rect.current=j,j&&b.set(w.id,j)}return b}return v},[e,i,n,f,c]);return y.useEffect(()=>{d.current=e},[e]),y.useEffect(()=>{f||h()},[n,f]),y.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),y.useEffect(()=>{f||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},l))},[l,f,h,...r]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:i!=null};function x(){switch(u){case gg.Always:return!1;case gg.BeforeDragging:return n;default:return!n}}}function eG(e,t){return rx(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function GVe(e,t){return eG(e,t)}function YVe(e){let{callback:t,disabled:n}=e;const r=CT(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function fj(e){let{callback:t,disabled:n}=e;const r=CT(t),a=y.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return y.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function XVe(e){return new AT(Tm(e),e)}function v5(e,t,n){t===void 0&&(t=XVe);const[r,a]=y.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=YVe({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=fj({callback:i});return Di(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function QVe(e){const t=eG(e);return HK(e,t)}const b5=[];function ZVe(e){const t=y.useRef(e),n=rx(r=>e?r&&r!==b5&&e&&t.current&&e.parentNode===t.current.parentNode?r:cj(e):b5,[e]);return y.useEffect(()=>{t.current=e},[e]),n}function JVe(e){const[t,n]=y.useState(null),r=y.useRef(e),a=y.useCallback(i=>{const o=n1(i.target);o&&n(l=>l?(l.set(o,aP(o)),new Map(l)):null)},[]);return y.useEffect(()=>{const i=r.current;if(e!==i){o(i);const l=e.map(c=>{const u=n1(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,aP(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=n1(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),y.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>$d(i,o),Ja):ZK(e):Ja,[e,t])}function w5(e,t){t===void 0&&(t=[]);const n=y.useRef(null);return y.useEffect(()=>{n.current=null},t),y.useEffect(()=>{const r=e!==Ja;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?pg(e,n.current):Ja}function eUe(e){y.useEffect(()=>{if(!lj)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function tUe(e,t){return y.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:i}=r;return n[a]=o=>{i(o,t)},n},{}),[e,t])}function tG(e){return y.useMemo(()=>e?CVe(e):null,[e])}const j5=[];function nUe(e,t){t===void 0&&(t=Tm);const[n]=e,r=tG(n?Ps(n):null),[a,i]=y.useState(j5);function o(){i(()=>e.length?e.map(c=>XK(c)?r:new AT(t(c),c)):j5)}const l=fj({callback:o});return Di(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function rUe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nx(t)?t:e}function sUe(e){let{measure:t}=e;const[n,r]=y.useState(null),a=y.useCallback(u=>{for(const{target:d}of u)if(nx(d)){r(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),i=fj({callback:a}),o=y.useCallback(u=>{const d=rUe(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[l,c]=H0(o);return y.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const aUe=[{sensor:dj,options:{}},{sensor:uj,options:{}}],iUe={current:{}},ky={draggable:{measure:h5},droppable:{measure:h5,strategy:gg.WhileDragging,frequency:oP.Optimized},dragOverlay:{measure:Tm}};class Wh extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const oUe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:K0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ky,measureDroppableContainers:K0,windowRect:null,measuringScheduled:!1},lUe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:K0,draggableNodes:new Map,over:null,measureDroppableContainers:K0},mj=y.createContext(lUe),nG=y.createContext(oUe);function cUe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wh}}}function uUe(e,t){switch(t.type){case ar.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ar.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ar.DragEnd:case ar.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ar.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new Wh(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case ar.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Wh(e.droppable.containers);return o.set(n,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case ar.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new Wh(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function dUe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=y.useContext(mj),i=rP(r),o=rP(n==null?void 0:n.id);return y.useEffect(()=>{if(!t&&!r&&i&&o!=null){if(!PT(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=aVe(d);if(f){f.focus();break}}})}},[r,t,a,o,i]),null}function fUe(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...r}),n):n}function mUe(e){return y.useMemo(()=>({draggable:{...ky.draggable,...e==null?void 0:e.draggable},droppable:{...ky.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ky.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function hUe(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const i=y.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Di(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=HK(d,r);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=KK(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,r,n])}const rG=y.createContext({...Ja,scaleX:1,scaleY:1});var nl;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(nl||(nl={}));const sG=y.memo(function(t){var n,r,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=aUe,collisionDetection:f=yVe,measuring:m,modifiers:h,...g}=t;const p=y.useReducer(uUe,void 0,cUe),[x,v]=p,[b,w]=dVe(),[N,j]=y.useState(nl.Uninitialized),S=N===nl.Initialized,{draggable:{active:C,nodes:P,translate:A},droppable:{containers:T}}=x,E=C!=null?P.get(C):null,k=y.useRef({initial:null,translated:null}),R=y.useMemo(()=>{var qn;return C!=null?{id:C,data:(qn=E==null?void 0:E.data)!=null?qn:iUe,rect:k}:null},[C,E]),I=y.useRef(null),[D,B]=y.useState(null),[V,O]=y.useState(null),_=hg(g,Object.values(g)),z=sx("DndDescribedBy",o),ne=y.useMemo(()=>T.getEnabled(),[T]),Y=mUe(m),{droppableRects:Q,measureDroppableContainers:ie,measuringScheduled:ae}=KVe(ne,{dragging:S,dependencies:[A.x,A.y],config:Y.droppable}),ge=qVe(P,C),$=y.useMemo(()=>V?sP(V):null,[V]),J=xj(),Z=GVe(ge,Y.draggable.measure);hUe({activeNode:C!=null?P.get(C):null,config:J.layoutShiftCompensation,initialRect:Z,measure:Y.draggable.measure});const L=v5(ge,Y.draggable.measure,Z),ce=v5(ge?ge.parentElement:null),H=y.useRef({activatorEvent:null,active:null,activeNode:ge,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:P,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=T.getNodeFor((n=H.current.over)==null?void 0:n.id),U=sUe({measure:Y.dragOverlay.measure}),re=(r=U.nodeRef.current)!=null?r:ge,me=S?(a=U.rect)!=null?a:L:null,Fe=!!(U.nodeRef.current&&U.rect),ut=QVe(Fe?null:L),mt=tG(re?Ps(re):null),q=ZVe(S?Se??ge:null),ee=nUe(q),W=fUe(h,{transform:{x:A.x-ut.x,y:A.y-ut.y,scaleX:1,scaleY:1},activatorEvent:V,active:R,activeNodeRect:L,containerNodeRect:ce,draggingNodeRect:me,over:H.current.over,overlayNodeRect:U.rect,scrollableAncestors:q,scrollableAncestorRects:ee,windowRect:mt}),oe=$?$d($,A):null,fe=JVe(q),xe=w5(fe),we=w5(fe,[L]),Re=$d(W,xe),Me=me?wVe(me,W):null,et=R&&Me?f({active:R,collisionRect:Me,droppableRects:Q,droppableContainers:ne,pointerCoordinates:oe}):null,Ln=WK(et,"id"),[Zt,Kr]=y.useState(null),As=Fe?W:$d(W,we),dr=vVe(As,(i=Zt==null?void 0:Zt.rect)!=null?i:null,L),ds=y.useRef(null),Jn=y.useCallback((qn,kn)=>{let{sensor:Gr,options:Ge}=kn;if(I.current==null)return;const lt=P.get(I.current);if(!lt)return;const ht=qn.nativeEvent,Tn=new Gr({active:I.current,activeNode:lt,event:ht,options:Ge,context:H,onAbort(nn){if(!P.get(nn))return;const{onDragAbort:On}=_.current,mr={id:nn};On==null||On(mr),b({type:"onDragAbort",event:mr})},onPending(nn,Ir,On,mr){if(!P.get(nn))return;const{onDragPending:_m}=_.current,Uo={id:nn,constraint:Ir,initialCoordinates:On,offset:mr};_m==null||_m(Uo),b({type:"onDragPending",event:Uo})},onStart(nn){const Ir=I.current;if(Ir==null)return;const On=P.get(Ir);if(!On)return;const{onDragStart:mr}=_.current,Om={activatorEvent:ht,active:{id:Ir,data:On.data,rect:k}};da.unstable_batchedUpdates(()=>{mr==null||mr(Om),j(nl.Initializing),v({type:ar.DragStart,initialCoordinates:nn,active:Ir}),b({type:"onDragStart",event:Om}),B(ds.current),O(ht)})},onMove(nn){v({type:ar.DragMove,coordinates:nn})},onEnd:fr(ar.DragEnd),onCancel:fr(ar.DragCancel)});ds.current=Tn;function fr(nn){return async function(){const{active:On,collisions:mr,over:Om,scrollAdjustedTranslate:_m}=H.current;let Uo=null;if(On&&_m){const{cancelDrop:Rm}=_.current;Uo={activatorEvent:ht,active:On,collisions:mr,delta:_m,over:Om},nn===ar.DragEnd&&typeof Rm=="function"&&await Promise.resolve(Rm(Uo))&&(nn=ar.DragCancel)}I.current=null,da.unstable_batchedUpdates(()=>{v({type:nn}),j(nl.Uninitialized),Kr(null),B(null),O(null),ds.current=null;const Rm=nn===ar.DragEnd?"onDragEnd":"onDragCancel";if(Uo){const yj=_.current[Rm];yj==null||yj(Uo),b({type:Rm,event:Uo})}})}}},[P]),Vo=y.useCallback((qn,kn)=>(Gr,Ge)=>{const lt=Gr.nativeEvent,ht=P.get(Ge);if(I.current!==null||!ht||lt.dndKit||lt.defaultPrevented)return;const Tn={active:ht};qn(Gr,kn.options,Tn)===!0&&(lt.dndKit={capturedBy:kn.sensor},I.current=Ge,Jn(Gr,kn))},[P,Jn]),zi=HVe(d,Vo);eUe(d),Di(()=>{L&&N===nl.Initializing&&j(nl.Initialized)},[L,N]),y.useEffect(()=>{const{onDragMove:qn}=_.current,{active:kn,activatorEvent:Gr,collisions:Ge,over:lt}=H.current;if(!kn||!Gr)return;const ht={active:kn,activatorEvent:Gr,collisions:Ge,delta:{x:Re.x,y:Re.y},over:lt};da.unstable_batchedUpdates(()=>{qn==null||qn(ht),b({type:"onDragMove",event:ht})})},[Re.x,Re.y]),y.useEffect(()=>{const{active:qn,activatorEvent:kn,collisions:Gr,droppableContainers:Ge,scrollAdjustedTranslate:lt}=H.current;if(!qn||I.current==null||!kn||!lt)return;const{onDragOver:ht}=_.current,Tn=Ge.get(Ln),fr=Tn&&Tn.rect.current?{id:Tn.id,rect:Tn.rect.current,data:Tn.data,disabled:Tn.disabled}:null,nn={active:qn,activatorEvent:kn,collisions:Gr,delta:{x:lt.x,y:lt.y},over:fr};da.unstable_batchedUpdates(()=>{Kr(fr),ht==null||ht(nn),b({type:"onDragOver",event:nn})})},[Ln]),Di(()=>{H.current={activatorEvent:V,active:R,activeNode:ge,collisionRect:Me,collisions:et,droppableRects:Q,draggableNodes:P,draggingNode:re,draggingNodeRect:me,droppableContainers:T,over:Zt,scrollableAncestors:q,scrollAdjustedTranslate:Re},k.current={initial:me,translated:Me}},[R,ge,et,Me,P,re,me,Q,T,Zt,q,Re]),UVe({...J,delta:A,draggingRect:Me,pointerCoordinates:oe,scrollableAncestors:q,scrollableAncestorRects:ee});const Fu=y.useMemo(()=>({active:R,activeNode:ge,activeNodeRect:L,activatorEvent:V,collisions:et,containerNodeRect:ce,dragOverlay:U,draggableNodes:P,droppableContainers:T,droppableRects:Q,over:Zt,measureDroppableContainers:ie,scrollableAncestors:q,scrollableAncestorRects:ee,measuringConfiguration:Y,measuringScheduled:ae,windowRect:mt}),[R,ge,L,V,et,ce,U,P,T,Q,Zt,ie,q,ee,Y,ae,mt]),ax=y.useMemo(()=>({activatorEvent:V,activators:zi,active:R,activeNodeRect:L,ariaDescribedById:{draggable:z},dispatch:v,draggableNodes:P,over:Zt,measureDroppableContainers:ie}),[V,zi,R,L,v,z,P,Zt,ie]);return M.createElement(BK.Provider,{value:w},M.createElement(mj.Provider,{value:ax},M.createElement(nG.Provider,{value:Fu},M.createElement(rG.Provider,{value:dr},u)),M.createElement(dUe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),M.createElement(hVe,{...l,hiddenTextDescribedById:z}));function xj(){const qn=(D==null?void 0:D.autoScrollEnabled)===!1,kn=typeof c=="object"?c.enabled===!1:c===!1,Gr=S&&!qn&&!kn;return typeof c=="object"?{...c,enabled:Gr}:{enabled:Gr}}}),pUe=y.createContext(null),N5="button",gUe="Draggable";function xUe(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const i=sx(gUe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:m}=y.useContext(mj),{role:h=N5,roleDescription:g="draggable",tabIndex:p=0}=a??{},x=(c==null?void 0:c.id)===t,v=y.useContext(x?rG:pUe),[b,w]=H0(),[N,j]=H0(),S=tUe(o,t),C=hg(n);Di(()=>(f.set(t,{id:t,key:i,node:b,activatorNode:N,data:C}),()=>{const A=f.get(t);A&&A.key===i&&f.delete(t)}),[f,t]);const P=y.useMemo(()=>({role:h,tabIndex:p,"aria-disabled":r,"aria-pressed":x&&h===N5?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[r,h,p,x,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:P,isDragging:x,listeners:r?void 0:S,node:b,over:m,setNodeRef:w,setActivatorNodeRef:j,transform:v}}function yUe(){return y.useContext(nG)}const vUe="Droppable",bUe={timeout:25};function wUe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const i=sx(vUe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=y.useContext(mj),d=y.useRef({disabled:n}),f=y.useRef(!1),m=y.useRef(null),h=y.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:x}={...bUe,...a},v=hg(p??r),b=y.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(v.current)?v.current:[v.current]),h.current=null},x)},[x]),w=fj({callback:b,disabled:g||!o}),N=y.useCallback((P,A)=>{w&&(A&&(w.unobserve(A),f.current=!1),P&&w.observe(P))},[w]),[j,S]=H0(N),C=hg(t);return y.useEffect(()=>{!w||!j.current||(w.disconnect(),f.current=!1,w.observe(j.current))},[j,w]),y.useEffect(()=>(l({type:ar.RegisterDroppable,element:{id:r,key:i,disabled:n,node:j,rect:m,data:C}}),()=>l({type:ar.UnregisterDroppable,key:i,id:r})),[r]),y.useEffect(()=>{n!==d.current.disabled&&(l({type:ar.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===r,node:j,over:c,setNodeRef:S}}function hj(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function jUe(e,t){return e.reduce((n,r,a)=>{const i=t.get(r);return i&&(n[a]=i),n},Array(e.length))}function ey(e){return e!==null&&e>=0}function NUe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function SUe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const aG=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const i=hj(t,r,n),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},ty={scaleX:1,scaleY:1},iG=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:i,overIndex:o}=e;const l=(t=i[n])!=null?t:r;if(!l)return null;if(a===n){const u=i[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...ty}:null}const c=CUe(i,a,n);return a>n&&a<=o?{x:0,y:-l.height-c,...ty}:a<n&&a>=o?{x:0,y:l.height+c,...ty}:{x:0,y:0,...ty}};function CUe(e,t,n){const r=e[t],a=e[t-1],i=e[t+1];return r?n<t?a?r.top-(a.top+a.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const oG="Sortable",lG=M.createContext({activeIndex:-1,containerId:oG,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aG,disabled:{draggable:!1,droppable:!1}});function cG(e){let{children:t,id:n,items:r,strategy:a=aG,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=yUe(),f=sx(oG,n),m=l.rect!==null,h=y.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),g=o!=null,p=o?h.indexOf(o.id):-1,x=u?h.indexOf(u.id):-1,v=y.useRef(h),b=!NUe(h,v.current),w=x!==-1&&p===-1||b,N=SUe(i);Di(()=>{b&&g&&d(h)},[b,h,g,d]),y.useEffect(()=>{v.current=h},[h]);const j=y.useMemo(()=>({activeIndex:p,containerId:f,disabled:N,disableTransforms:w,items:h,overIndex:x,useDragOverlay:m,sortedRects:jUe(h,c),strategy:a}),[p,f,N.draggable,N.droppable,w,h,x,c,m,a]);return M.createElement(lG.Provider,{value:j},t)}const PUe=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return hj(n,r,a).indexOf(t)},AUe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==i&&a===o?!1:n?!0:o!==a&&t===c},EUe={duration:200,easing:"ease"},uG="transform",kUe=qf.Transition.toString({property:uG,duration:0,easing:"linear"}),TUe={roleDescription:"sortable"};function OUe(e){let{disabled:t,index:n,node:r,rect:a}=e;const[i,o]=y.useState(null),l=y.useRef(n);return Di(()=>{if(!t&&n!==l.current&&r.current){const c=a.current;if(c){const u=Tm(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}n!==l.current&&(l.current=n)},[t,n,r,a]),y.useEffect(()=>{i&&o(null)},[i]),i}function dG(e){let{animateLayoutChanges:t=AUe,attributes:n,disabled:r,data:a,getNewIndex:i=PUe,id:o,strategy:l,resizeObserverConfig:c,transition:u=EUe}=e;const{items:d,containerId:f,activeIndex:m,disabled:h,disableTransforms:g,sortedRects:p,overIndex:x,useDragOverlay:v,strategy:b}=y.useContext(lG),w=_Ue(r,h),N=d.indexOf(o),j=y.useMemo(()=>({sortable:{containerId:f,index:N,items:d},...a}),[f,a,N,d]),S=y.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:P,isOver:A,setNodeRef:T}=wUe({id:o,data:j,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:E,activatorEvent:k,activeNodeRect:R,attributes:I,setNodeRef:D,listeners:B,isDragging:V,over:O,setActivatorNodeRef:_,transform:z}=xUe({id:o,data:j,attributes:{...TUe,...n},disabled:w.draggable}),ne=tVe(T,D),Y=!!E,Q=Y&&!g&&ey(m)&&ey(x),ie=!v&&V,ae=ie&&Q?z:null,$=Q?ae??(l??b)({rects:p,activeNodeRect:R,activeIndex:m,overIndex:x,index:N}):null,J=ey(m)&&ey(x)?i({id:o,items:d,activeIndex:m,overIndex:x}):N,Z=E==null?void 0:E.id,L=y.useRef({activeId:Z,items:d,newIndex:J,containerId:f}),ce=d!==L.current.items,H=t({active:E,containerId:f,isDragging:V,isSorting:Y,id:o,index:N,items:d,newIndex:L.current.newIndex,previousItems:L.current.items,previousContainerId:L.current.containerId,transition:u,wasDragging:L.current.activeId!=null}),Se=OUe({disabled:!H,index:N,node:P,rect:C});return y.useEffect(()=>{Y&&L.current.newIndex!==J&&(L.current.newIndex=J),f!==L.current.containerId&&(L.current.containerId=f),d!==L.current.items&&(L.current.items=d)},[Y,J,f,d]),y.useEffect(()=>{if(Z===L.current.activeId)return;if(Z!=null&&L.current.activeId==null){L.current.activeId=Z;return}const re=setTimeout(()=>{L.current.activeId=Z},50);return()=>clearTimeout(re)},[Z]),{active:E,activeIndex:m,attributes:I,data:j,rect:C,index:N,newIndex:J,items:d,isOver:A,isSorting:Y,isDragging:V,listeners:B,node:P,overIndex:x,over:O,setNodeRef:ne,setActivatorNodeRef:_,setDroppableNodeRef:T,setDraggableNodeRef:D,transform:Se??$,transition:U()};function U(){if(Se||ce&&L.current.newIndex===N)return kUe;if(!(ie&&!PT(k)||!u)&&(Y||H))return qf.Transition.toString({...u,property:uG})}}function _Ue(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function X0(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const RUe=[St.Down,St.Right,St.Up,St.Left],fG=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:a,droppableContainers:i,over:o,scrollableAncestors:l}}=t;if(RUe.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=a.get(f.id);if(m)switch(e.code){case St.Down:r.top<m.top&&c.push(f);break;case St.Up:r.top>m.top&&c.push(f);break;case St.Left:r.left>m.left&&c.push(f);break;case St.Right:r.left<m.left&&c.push(f);break}});const u=gVe({collisionRect:r,droppableRects:a,droppableContainers:c});let d=WK(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),m=i.get(d),h=m?a.get(m.id):null,g=m==null?void 0:m.node.current;if(g&&h&&f&&m){const x=cj(g).some((S,C)=>l[C]!==S),v=mG(f,m),b=MUe(f,m),w=x||!v?{x:0,y:0}:{x:b?r.width-h.width:0,y:b?r.height-h.height:0},N={x:h.left,y:h.top};return w.x&&w.y?N:pg(N,w)}}}};function mG(e,t){return!X0(e)||!X0(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function MUe(e,t){return!X0(e)||!X0(t)||!mG(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const S5=[{id:"transaction-monitoring",label:"Transaction Monitoring",description:"Real-time monitoring of customer transactions for suspicious activity"},{id:"kyc-onboarding",label:"KYC/Customer Onboarding",description:"Customer due diligence and identity verification"},{id:"sanctions-screening",label:"Sanctions Screening",description:"Screening against global sanctions lists"},{id:"fraud-detection",label:"Fraud Detection & Prevention",description:"Identifying and preventing fraudulent transactions"},{id:"regulatory-reporting",label:"Regulatory Reporting",description:"SAR/STR filing and other regulatory submissions"},{id:"risk-scoring",label:"Customer Risk Scoring",description:"Dynamic risk assessment and categorization"},{id:"case-management",label:"Case Management & Investigation",description:"Workflow for investigating alerts and cases"},{id:"adverse-media",label:"Adverse Media Screening",description:"Screening for negative news and reputational risks"},{id:"pep-screening",label:"PEP Screening",description:"Politically Exposed Person identification and monitoring"},{id:"trade-compliance",label:"Trade-Based Money Laundering",description:"Detecting trade finance related AML risks"}];function IUe({id:e,label:t,rank:n}){const{attributes:r,listeners:a,setNodeRef:i,transform:o,transition:l,isDragging:c}=dG({id:e}),u={transform:qf.Transform.toString(o),transition:l,opacity:c?.5:1};return s.jsxs("div",{ref:i,style:u,className:"flex items-center space-x-3 bg-gray-800 border border-gray-700 rounded-lg p-3",children:[s.jsx("div",{...r,...a,className:"cursor-grab active:cursor-grabbing",children:s.jsx(uA,{className:"h-5 w-5 text-gray-500"})}),s.jsxs(le,{variant:"outline",className:"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:["#",n]}),s.jsx("span",{className:"flex-1 text-white",children:t})]})}function DUe({assessmentId:e}){const{watch:t,setValue:n}=Li(),r=t("step3.prioritizedUseCases")||[],[a,i]=y.useState(r.map(d=>d.category)),o=VK(G0(dj),G0(uj,{coordinateGetter:fG}));y.useEffect(()=>{const d=r.map(f=>f.category);i(d)},[r]);const l=(d,f)=>{let m;f?a.length>=3?m=[...a.slice(0,2),d]:m=[...a,d]:m=a.filter(h=>h!==d),i(m),c(m)},c=d=>{const f=d.map((m,h)=>({category:m,rank:h+1}));n("step3.prioritizedUseCases",f,{shouldValidate:!0})},u=d=>{const{active:f,over:m}=d;if(m&&f.id!==m.id){const h=a.indexOf(f.id),g=a.indexOf(m.id),p=hj(a,h,g);i(p),c(p)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Use Case Prioritization"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Select and rank your top 3 compliance use cases in order of priority."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Available Use Cases ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Select up to 3 use cases. Click and drag in the ranking area below to reorder."}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S5.map(d=>s.jsx(K,{className:`cursor-pointer transition-all ${a.includes(d.id)?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Pr,{id:d.id,checked:a.includes(d.id),onCheckedChange:f=>l(d.id,f),disabled:!a.includes(d.id)&&a.length>=3,className:"mt-1 border-gray-600 data-[state=checked]:bg-cyan-600 data-[state=checked]:border-cyan-600"}),s.jsxs("label",{htmlFor:d.id,className:"flex-1 cursor-pointer",children:[s.jsx("h3",{className:"font-medium text-white",children:d.label}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:d.description})]})]})})},d.id))})]}),a.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(te,{className:"text-white",children:["Priority Ranking (",a.length,"/3)"]}),a.length<3&&s.jsxs("div",{className:"flex items-center space-x-2 text-amber-400",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm",children:["Select ",3-a.length," more use case(s)"]})]})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Drag to reorder your priorities. #1 is your highest priority."}),s.jsx(sG,{sensors:o,collisionDetection:qK,onDragEnd:u,children:s.jsx(cG,{items:a,strategy:iG,children:s.jsx("div",{className:"space-y-2",children:a.map((d,f)=>{const m=S5.find(h=>h.id===d);return m?s.jsx(IUe,{id:d,label:m.label,rank:f+1},d):null})})})})]}),a.length===0&&s.jsxs("div",{className:"p-6 bg-gray-800/50 border border-gray-700 rounded-lg text-center",children:[s.jsx(Pt,{className:"h-8 w-8 text-gray-500 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400",children:"Select at least 3 use cases above to begin ranking"})]})]})}const $Ue=[{value:"CORE_BANKING",label:"Core Banking System"},{value:"CRM",label:"CRM (Salesforce, etc.)"},{value:"ERP",label:"ERP (SAP, Oracle, etc.)"},{value:"PAYMENT_GATEWAY",label:"Payment Gateway"},{value:"DATA_WAREHOUSE",label:"Data Warehouse / Analytics"},{value:"IDENTITY_PROVIDER",label:"Identity Provider (SSO)"},{value:"RISK_PLATFORM",label:"Risk Management Platform"},{value:"SCREENING_SERVICE",label:"Third-party Screening Service"},{value:"DOCUMENT_MANAGEMENT",label:"Document Management System"},{value:"WORKFLOW_ENGINE",label:"Workflow/BPM Engine"}];function LUe(){const{control:e,watch:t,setValue:n}=Li(),r=t("step4.mustHaveFeatures")||[],a=t("step4.criticalIntegrations")||[],i=(l,c)=>{c?r.length<5&&n("step4.mustHaveFeatures",[...r,l],{shouldValidate:!0}):n("step4.mustHaveFeatures",r.filter(u=>u!==l),{shouldValidate:!0})},o=(l,c)=>{c?n("step4.criticalIntegrations",[...a,l],{shouldValidate:!0}):n("step4.criticalIntegrations",a.filter(u=>u!==l),{shouldValidate:!0})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Solution Requirements"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Define your budget, deployment preferences, and critical technical requirements."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"budgetRange",className:"text-white",children:["Annual Budget Range ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What is your estimated annual budget for this compliance solution?"}),s.jsx(Ml,{name:"step4.budgetRange",control:e,render:({field:l,fieldState:c})=>s.jsxs(s.Fragment,{children:[s.jsxs(vt,{onValueChange:l.onChange,value:l.value,children:[s.jsx(gt,{className:"bg-gray-800 border-gray-700 text-white",children:s.jsx(bt,{placeholder:"Select budget range..."})}),s.jsx(xt,{className:"bg-gray-800 border-gray-700",children:_K.map(u=>s.jsx(ue,{value:u.value,className:"text-white hover:bg-gray-700",children:u.label},u.value))})]}),c.error&&s.jsx("p",{className:"text-sm text-red-500",children:c.error.message})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Deployment Preference ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"How would you prefer to deploy the compliance solution?"}),s.jsx(Ml,{name:"step4.deploymentPreference",control:e,render:({field:l,fieldState:c})=>s.jsxs(s.Fragment,{children:[s.jsx(ho,{onValueChange:l.onChange,value:l.value,children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:RK.map(u=>s.jsx(K,{className:`cursor-pointer transition-all ${l.value===u.value?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ga,{value:u.value,id:u.value,className:"mt-1 border-gray-600 text-cyan-600"}),s.jsxs("label",{htmlFor:u.value,className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-white",children:u.label}),l.value===u.value&&s.jsx(xn,{className:"h-4 w-4 text-cyan-400"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:u.description})]})]})})},u.value))})}),c.error&&s.jsx("p",{className:"text-sm text-red-500",children:c.error.message})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(te,{className:"text-white",children:"Must-Have Features"}),s.jsxs(le,{variant:"outline",className:r.length===5?"bg-amber-900/30 text-amber-400 border-amber-600":"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:[r.length,"/5 selected"]})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Select up to 5 features that are absolutely critical for your needs"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:MK.map(l=>{const c=r.includes(l.value),u=!c&&r.length>=5;return s.jsxs("div",{className:`flex items-center space-x-2 p-3 rounded-lg border ${c?"bg-cyan-900/30 border-cyan-600":u?"bg-gray-900 border-gray-800 opacity-50":"bg-gray-800/50 border-gray-700"}`,children:[s.jsx(Pr,{id:`feature-${l.value}`,checked:c,disabled:u,onCheckedChange:d=>i(l.value,d),className:"border-gray-600 data-[state=checked]:bg-cyan-600 data-[state=checked]:border-cyan-600"}),s.jsx("label",{htmlFor:`feature-${l.value}`,className:`text-sm ${u?"text-gray-500":"text-gray-300"} cursor-pointer flex-1`,children:l.label})]},l.value)})}),r.length===5&&s.jsxs("div",{className:"flex items-center space-x-2 text-amber-400 text-sm",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx("span",{children:"Maximum of 5 features reached. Unselect a feature to choose another."})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(te,{className:"text-white",children:"Critical Integrations"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Select all systems that the compliance solution must integrate with"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:$Ue.map(l=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Pr,{id:`integration-${l.value}`,checked:a.includes(l.value),onCheckedChange:c=>o(l.value,c),className:"border-gray-600 data-[state=checked]:bg-cyan-600 data-[state=checked]:border-cyan-600"}),s.jsx("label",{htmlFor:`integration-${l.value}`,className:"text-sm text-gray-300 cursor-pointer",children:l.label})]},l.value))})]})]})}function FUe(){const{control:e}=Li();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Vendor Preferences"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Tell us about your preferences for vendor characteristics and support requirements."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Vendor Maturity Preference ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What type of vendor are you most comfortable working with?"}),s.jsx(Ml,{name:"step5.vendorMaturity",control:e,render:({field:t,fieldState:n})=>s.jsxs(s.Fragment,{children:[s.jsx(ho,{onValueChange:t.onChange,value:t.value,children:s.jsx("div",{className:"space-y-3",children:IK.map(r=>s.jsx(K,{className:`cursor-pointer transition-all ${t.value===r.value?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ga,{value:r.value,id:`maturity-${r.value}`,className:"mt-1 border-gray-600 text-cyan-600"}),s.jsxs("label",{htmlFor:`maturity-${r.value}`,className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-white",children:r.label}),t.value===r.value&&s.jsx(xn,{className:"h-4 w-4 text-cyan-400"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.description})]})]})})},r.value))})}),n.error&&s.jsx("p",{className:"text-sm text-red-500",children:n.error.message})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Geographic Coverage Requirements ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What level of geographic presence do you need from your vendor?"}),s.jsx(Ml,{name:"step5.geographicRequirements",control:e,render:({field:t,fieldState:n})=>s.jsxs(s.Fragment,{children:[s.jsx(ho,{onValueChange:t.onChange,value:t.value,children:s.jsx("div",{className:"space-y-3",children:DK.map(r=>s.jsx(K,{className:`cursor-pointer transition-all ${t.value===r.value?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ga,{value:r.value,id:`geo-${r.value}`,className:"mt-1 border-gray-600 text-cyan-600"}),s.jsxs("label",{htmlFor:`geo-${r.value}`,className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-white",children:r.label}),t.value===r.value&&s.jsx(xn,{className:"h-4 w-4 text-cyan-400"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.description})]})]})})},r.value))})}),n.error&&s.jsx("p",{className:"text-sm text-red-500",children:n.error.message})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Support Model Preference ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"What level of vendor support do you require?"}),s.jsx(Ml,{name:"step5.supportModel",control:e,render:({field:t,fieldState:n})=>s.jsxs(s.Fragment,{children:[s.jsx(ho,{onValueChange:t.onChange,value:t.value,children:s.jsx("div",{className:"space-y-3",children:$K.map(r=>s.jsx(K,{className:`cursor-pointer transition-all ${t.value===r.value?"bg-cyan-900/30 border-cyan-600":"bg-gray-800/50 border-gray-700 hover:bg-gray-800/70"}`,children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ga,{value:r.value,id:`support-${r.value}`,className:"mt-1 border-gray-600 text-cyan-600"}),s.jsxs("label",{htmlFor:`support-${r.value}`,className:"flex-1 cursor-pointer",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-medium text-white",children:r.label}),t.value===r.value&&s.jsx(xn,{className:"h-4 w-4 text-cyan-400"})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:r.description})]})]})})},r.value))})}),n.error&&s.jsx("p",{className:"text-sm text-red-500",children:n.error.message})]})})]})]})}function BUe({id:e,factor:t,description:n,rank:r}){const{attributes:a,listeners:i,setNodeRef:o,transform:l,transition:c,isDragging:u}=dG({id:e}),d={transform:qf.Transform.toString(l),transition:c,opacity:u?.5:1},f=m=>m===1?"bg-yellow-900/30 text-yellow-400 border-yellow-600":m===2?"bg-gray-600/30 text-gray-300 border-gray-500":m===3?"bg-orange-900/30 text-orange-400 border-orange-600":"bg-cyan-900/30 text-cyan-400 border-cyan-600";return s.jsxs("div",{ref:o,style:d,className:`flex items-start space-x-3 rounded-lg p-4 border transition-all ${r<=3?"bg-gray-800 border-gray-600":"bg-gray-800/70 border-gray-700"}`,children:[s.jsx("div",{...a,...i,className:"cursor-grab active:cursor-grabbing mt-1",children:s.jsx(uA,{className:"h-5 w-5 text-gray-500"})}),s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsxs("div",{className:`px-3 py-1 rounded-full border font-medium text-sm ${f(r)}`,children:["#",r]}),r<=3&&s.jsx(zF,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-white",children:t}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:n})]})]})]})}function VUe(){const{watch:e,setValue:t}=Li(),n=e("step6.decisionFactorRanking")||[],[r,a]=y.useState([]),i=VK(G0(dj),G0(uj,{coordinateGetter:fG}));y.useEffect(()=>{if(n.length===0){const c=nP.map(u=>u.id);a(c),o(c)}else{const c=n.sort((u,d)=>u.rank-d.rank).map(u=>u.factor);a(c)}},[]);const o=c=>{const u=c.map((d,f)=>({factor:d,rank:f+1}));t("step6.decisionFactorRanking",u,{shouldValidate:!0})},l=c=>{const{active:u,over:d}=c;if(d&&u.id!==d.id){const f=r.indexOf(u.id),m=r.indexOf(d.id),h=hj(r,f,m);a(h),o(h)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Decision Factor Ranking"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Rank the following factors in order of importance for your vendor selection decision. Drag and drop to reorder."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(te,{className:"text-white",children:["Rank Your Decision Factors ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"#1 is the most important factor. Drag factors to reorder them."}),s.jsx(sG,{sensors:i,collisionDetection:qK,onDragEnd:l,children:s.jsx(cG,{items:r,strategy:iG,children:s.jsx("div",{className:"space-y-2",children:r.map((c,u)=>{const d=nP.find(f=>f.id===c);return d?s.jsx(BUe,{id:c,factor:d.factor,description:d.description,rank:u+1},c):null})})})})]}),s.jsxs("div",{className:"bg-cyan-900/20 border border-cyan-700 rounded-lg p-4",children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Why This Matters"}),s.jsx("p",{className:"text-sm text-gray-300",children:"Your ranking will help us prioritize vendor recommendations and highlight the solutions that best align with your decision-making criteria. The top 3 factors will have the greatest influence on our recommendations."})]})]})}function UUe({data:e,onEdit:t,onSubmit:n,isSubmitting:r}){var o,l,c,u,d,f,m,h,g,p,x,v,b,w,N,j,S,C,P;const a=(A,T)=>{var E;return((E=T.find(k=>k.value===A))==null?void 0:E.label)||A},i=(A,T)=>A.map(E=>a(E,T));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Review Your Priorities"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Review your responses below. Click Edit to make changes to any section, or Submit to save your priorities."})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"1. Organizational Context"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(1),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Company Size"}),s.jsx("p",{className:"text-white",children:a(((o=e.step1)==null?void 0:o.companySize)||"",XBe)})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Annual Revenue"}),s.jsx("p",{className:"text-white",children:a(((l=e.step1)==null?void 0:l.annualRevenue)||"",QBe)})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Compliance Team Size"}),s.jsx("p",{className:"text-white",children:a(((c=e.step1)==null?void 0:c.complianceTeamSize)||"",ZBe)})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Operating Jurisdictions"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i(((u=e.step1)==null?void 0:u.jurisdictions)||[],TK).map((A,T)=>s.jsx(le,{variant:"outline",className:"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:A},T))})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Existing Systems"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i(((d=e.step1)==null?void 0:d.existingSystems)||[],OK).map((A,T)=>s.jsx(le,{variant:"outline",className:"bg-gray-700 text-gray-300 border-gray-600",children:A},T))})]})]})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"2. Goals & Timeline"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(2),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Primary Goal"}),s.jsx("p",{className:"text-white font-medium",children:(f=eP.find(A=>{var T;return A.value===((T=e.step2)==null?void 0:T.primaryGoal)}))==null?void 0:f.label}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:(m=eP.find(A=>{var T;return A.value===((T=e.step2)==null?void 0:T.primaryGoal)}))==null?void 0:m.description})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Implementation Urgency"}),s.jsx(le,{variant:"outline",className:"bg-cyan-900/30 text-cyan-400 border-cyan-600 mt-1",children:tP[(((h=e.step2)==null?void 0:h.implementationUrgency)||2)-1]})]})]})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"3. Use Case Prioritization"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(3),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Top 3 Prioritized Use Cases"}),s.jsx("div",{className:"space-y-2",children:(((g=e.step3)==null?void 0:g.prioritizedUseCases)||[]).sort((A,T)=>A.rank-T.rank).map((A,T)=>s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsxs(le,{variant:"outline",className:"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:["#",A.rank]}),s.jsx("span",{className:"text-white",children:A.category})]},T))})]})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"4. Solution Requirements"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(4),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Budget Range"}),s.jsx("p",{className:"text-white",children:a(((p=e.step4)==null?void 0:p.budgetRange)||"",_K)})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Deployment Preference"}),s.jsx("p",{className:"text-white",children:(x=RK.find(A=>{var T;return A.value===((T=e.step4)==null?void 0:T.deploymentPreference)}))==null?void 0:x.label})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Must-Have Features (",((b=(v=e.step4)==null?void 0:v.mustHaveFeatures)==null?void 0:b.length)||0,"/5)"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i(((w=e.step4)==null?void 0:w.mustHaveFeatures)||[],MK).map((A,T)=>s.jsx(le,{variant:"outline",className:"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:A},T))})]}),((N=e.step4)==null?void 0:N.criticalIntegrations)&&e.step4.criticalIntegrations.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Critical Integrations"}),s.jsx("p",{className:"text-gray-300 text-sm",children:e.step4.criticalIntegrations.join(", ")})]})]})]})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"5. Vendor Preferences"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(5),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Vendor Maturity"}),s.jsx("p",{className:"text-white",children:(j=IK.find(A=>{var T;return A.value===((T=e.step5)==null?void 0:T.vendorMaturity)}))==null?void 0:j.label})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Geographic Requirements"}),s.jsx("p",{className:"text-white",children:(S=DK.find(A=>{var T;return A.value===((T=e.step5)==null?void 0:T.geographicRequirements)}))==null?void 0:S.label})]}),s.jsx(At,{className:"bg-gray-800"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Support Model"}),s.jsx("p",{className:"text-white",children:(C=$K.find(A=>{var T;return A.value===((T=e.step5)==null?void 0:T.supportModel)}))==null?void 0:C.label})]})]})]}),s.jsxs(K,{className:"bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsx(pe,{className:"text-lg text-white",children:"6. Decision Factor Ranking"}),s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>t(6),className:"text-cyan-400 hover:text-cyan-300 hover:bg-cyan-900/20",children:[s.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]})]}),s.jsxs(X,{children:[s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Decision Factors (in priority order)"}),s.jsx("div",{className:"space-y-2",children:(((P=e.step6)==null?void 0:P.decisionFactorRanking)||[]).sort((A,T)=>A.rank-T.rank).map((A,T)=>{const E=nP.find(k=>k.id===A.factor);return s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsxs(le,{variant:"outline",className:A.rank===1?"bg-yellow-900/30 text-yellow-400 border-yellow-600":A.rank===2?"bg-gray-600/30 text-gray-300 border-gray-500":A.rank===3?"bg-orange-900/30 text-orange-400 border-orange-600":"bg-cyan-900/30 text-cyan-400 border-cyan-600",children:["#",A.rank]}),s.jsx("span",{className:"text-white",children:E==null?void 0:E.factor})]},T)})})]})]}),s.jsx(K,{className:"bg-gradient-to-br from-cyan-900/20 to-blue-900/20 border-cyan-700",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx(at,{className:"h-6 w-6 text-cyan-400 mt-1"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Ready to Submit?"}),s.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"By submitting your priorities, we'll generate personalized vendor recommendations based on your specific needs and preferences. You can update these priorities at any time."}),s.jsx(F,{onClick:()=>n(e),disabled:r,size:"lg",className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-5 w-5 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(at,{className:"mr-2 h-5 w-5"}),"Submit Priorities"]})})]})]})})})]})}Mr({companySize:ot().optional(),annualRevenue:ot().optional(),complianceTeamSize:ot().optional(),jurisdictions:Eo(ot()).min(1,"Select at least one jurisdiction"),existingSystems:Eo(ot()).min(1,"Select at least one option")});Mr({primaryGoal:ot().min(1,"Primary goal is required"),implementationUrgency:Ub().min(1).max(4)});Mr({prioritizedUseCases:Eo(Mr({category:ot(),rank:Ub()})).min(3,"Select and rank at least 3 use cases").max(3)});Mr({budgetRange:ot().min(1,"Budget range is required"),deploymentPreference:ot().min(1,"Deployment preference is required"),mustHaveFeatures:Eo(ot()).max(5,"Select at most 5 features"),criticalIntegrations:Eo(ot())});Mr({vendorMaturity:ot().min(1,"Vendor maturity is required"),geographicRequirements:ot().min(1,"Geographic requirements are required"),supportModel:ot().min(1,"Support model is required")});Mr({decisionFactorRanking:Eo(Mr({factor:ot(),rank:Ub()})).length(6)});const zUe={enter:e=>({x:e>0?300:-300,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?300:-300,opacity:0})};function WUe({assessmentId:e,onComplete:t,onCancel:n}){const[r,a]=y.useState(1),[i,o]=y.useState(0),l=Rt(),c=wt(),u=7,d=Fi({mode:"onChange",defaultValues:{step1:{jurisdictions:[],existingSystems:[]},step2:{primaryGoal:"",implementationUrgency:2},step3:{prioritizedUseCases:[]},step4:{budgetRange:"",deploymentPreference:"",mustHaveFeatures:[],criticalIntegrations:[]},step5:{vendorMaturity:"",geographicRequirements:"",supportModel:""},step6:{decisionFactorRanking:[]}}}),{watch:f,trigger:m}=d;y.useEffect(()=>{const w=f(N=>{const j={...N};if(j.step1){const{companySize:C,annualRevenue:P,complianceTeamSize:A,...T}=j.step1;j.step1=T}const S={assessmentId:e,currentStep:r,data:j,lastSaved:new Date().toISOString()};localStorage.setItem(`priorities-draft-${e}`,JSON.stringify(S))});return()=>w.unsubscribe()},[f,e,r]),y.useEffect(()=>{var N,j,S,C,P,A,T,E;const w=localStorage.getItem(`priorities-draft-${e}`);if(w)try{const k=JSON.parse(w);if(((j=(N=k.data.step1)==null?void 0:N.annualRevenue)==null?void 0:j.includes("BETWEEN_"))||((S=k.data.step1)==null?void 0:S.complianceTeamSize)==="SMALL"||((C=k.data.step1)==null?void 0:C.complianceTeamSize)==="MEDIUM"||((P=k.data.step1)==null?void 0:P.complianceTeamSize)==="LARGE"||((T=(A=k.data.step4)==null?void 0:A.budgetRange)==null?void 0:T.includes("BETWEEN_"))||((E=k.data.step5)==null?void 0:E.vendorMaturity)==="GROWTH"){console.warn("Old localStorage data detected, clearing..."),localStorage.removeItem(`priorities-draft-${e}`),Ae({title:"Form Reset",description:"Your previous session data was incompatible and has been cleared. Please fill out the form again.",variant:"default"});return}if(k.data.step1){const{companySize:I,annualRevenue:D,complianceTeamSize:B,...V}=k.data.step1;k.data.step1=V}d.reset(k.data),a(k.currentStep),Ae({title:"Progress Restored",description:"Your previous session has been restored."})}catch(k){console.error("Failed to restore draft:",k),localStorage.removeItem(`priorities-draft-${e}`)}},[e,d]);const h=it({mutationFn:async w=>{console.log("[PrioritiesQuestionnaire] Submitting payload:",JSON.stringify(w,null,2));const N=await Wt.submitPriorities(e,w);return console.log("[PrioritiesQuestionnaire] Submission result:",N),N},onSuccess:w=>{console.log("[PrioritiesQuestionnaire] Success! Data received:",w),localStorage.removeItem(`priorities-draft-${e}`),c.invalidateQueries({queryKey:["assessments",e,"vendor-matches"]}),c.invalidateQueries({queryKey:["assessments",e,"priorities"]}),c.invalidateQueries({queryKey:["assessments"]}),Ae({title:"Priorities Saved",description:"Your priorities have been saved successfully."}),t?t():l(`/marketplace?assessmentId=${e}`)},onError:w=>{var C,P,A,T,E;console.error("[PrioritiesQuestionnaire] Submission error:",w),console.error("[PrioritiesQuestionnaire] Error details:",((C=w.response)==null?void 0:C.data)||w);const N=((A=(P=w.response)==null?void 0:P.data)==null?void 0:A.code)||w.code,j=(T=w.response)==null?void 0:T.data;if(N==="INCOMPLETE_BUSINESS_PROFILE"){const k=((E=j==null?void 0:j.details)==null?void 0:E.missingFields)||[],R={companySize:"Company Size",annualRevenue:"Annual Revenue",complianceTeamSize:"Compliance Team Size"},I=k.map(D=>R[D]||D).join(", ");Ae({title:"Business Profile Incomplete",description:`Please complete your business profile first. Missing: ${I}`,variant:"destructive",action:s.jsx(ZF,{altText:"Complete Profile",onClick:()=>l("/settings/organization"),children:"Complete Profile"})});return}let S=w.message;j!=null&&j.details?S=JSON.stringify(j.details,null,2):j!=null&&j.error?S=j.error:j!=null&&j.message&&(S=j.message),Ae({title:"Submission Failed",description:S,variant:"destructive"})}}),g=async()=>{const w=`step${r}`;if(!await m(w)){Ae({title:"Validation Error",description:"Please complete all required fields before proceeding.",variant:"destructive"});return}o(1),a(j=>Math.min(j+1,u))},p=()=>{o(-1),a(w=>Math.max(w-1,1))},x=w=>{o(w>r?1:-1),a(w)},v=w=>{var B,V,O,_,z,ne,Y,Q,ie,ae,ge,$,J,Z,L,ce,H,Se;console.log("[handleSubmit] Raw form data:",JSON.stringify(w,null,2));const j=["IMMEDIATE","PLANNED","STRATEGIC","LONG_TERM"][(((B=w.step2)==null?void 0:B.implementationUrgency)||1)-1]||"PLANNED",S=((V=w.step3)==null?void 0:V.prioritizedUseCases)||[],P=[...S].sort((U,re)=>U.rank-re.rank).slice(0,3).map(U=>U.category),A=S.map(U=>U.category),E=[...((O=w.step6)==null?void 0:O.decisionFactorRanking)||[]].sort((U,re)=>U.rank-re.rank),k=[{id:"1",factor:"Total Cost of Ownership"},{id:"2",factor:"Implementation Speed"},{id:"3",factor:"Feature Completeness"},{id:"4",factor:"Vendor Reputation & Stability"},{id:"5",factor:"Integration Capabilities"},{id:"6",factor:"Scalability & Future-readiness"}],R=E.map(U=>{const re=k.find(me=>me.id===U.factor);return(re==null?void 0:re.factor)||U.factor}),I={jurisdictions:((_=w.step1)==null?void 0:_.jurisdictions)||[],existingSystems:((z=w.step1)==null?void 0:z.existingSystems)||[],primaryGoal:((ne=w.step2)==null?void 0:ne.primaryGoal)||"",implementationUrgency:j,selectedUseCases:A,rankedPriorities:P,budgetRange:((Y=w.step4)==null?void 0:Y.budgetRange)||"",deploymentPreference:((Q=w.step4)==null?void 0:Q.deploymentPreference)||"",mustHaveFeatures:((ie=w.step4)==null?void 0:ie.mustHaveFeatures)||[],criticalIntegrations:((ae=w.step4)==null?void 0:ae.criticalIntegrations)||[],vendorMaturity:((ge=w.step5)==null?void 0:ge.vendorMaturity)||"",geographicRequirements:(($=w.step5)==null?void 0:$.geographicRequirements)||"",supportModel:((J=w.step5)==null?void 0:J.supportModel)||"",decisionFactorRanking:R};console.log("[handleSubmit] Step4 data:",{budgetRange:(Z=w.step4)==null?void 0:Z.budgetRange,deploymentPreference:(L=w.step4)==null?void 0:L.deploymentPreference,mustHaveFeatures:(ce=w.step4)==null?void 0:ce.mustHaveFeatures,criticalIntegrations:(H=w.step4)==null?void 0:H.criticalIntegrations});const D=[];if(I.jurisdictions.length===0&&D.push("Jurisdictions"),I.primaryGoal||D.push("Primary Goal"),I.selectedUseCases.length<3&&D.push("At least 3 Use Cases"),I.rankedPriorities.length!==3&&D.push("3 Ranked Priorities"),I.budgetRange||D.push("Budget Range"),I.deploymentPreference||D.push("Deployment Preference"),I.vendorMaturity||D.push("Vendor Maturity"),I.geographicRequirements||D.push("Geographic Requirements"),I.supportModel||D.push("Support Model"),I.decisionFactorRanking.length!==6&&D.push("6 Decision Factors"),D.length>0){console.log("[handleSubmit] Validation failed. Payload:",I),console.log("[handleSubmit] Missing fields:",D),Ae({title:"Incomplete Form",description:`Missing: ${D.join(", ")}. Check step 4 (budgetRange: "${((Se=w.step4)==null?void 0:Se.budgetRange)||"EMPTY"}")`,variant:"destructive"});return}h.mutate(I)},b=r/u*100;return s.jsx(tU,{...d,children:s.jsx("div",{className:"min-h-screen bg-gray-950 py-8 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Priorities Questionnaire"}),s.jsx("p",{className:"text-gray-400",children:"Help us understand your needs to find the best vendor matches"})]}),s.jsx(K,{className:"mb-8 bg-gray-900 border-gray-800",children:s.jsxs(X,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["Step ",r," of ",u]}),s.jsxs("span",{className:"text-sm font-medium text-cyan-400",children:[Math.round(b),"%"]})]}),s.jsx(Wr,{value:b,className:"h-2"}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:r<7?"Complete all fields to continue":"Review and submit"})]})}),s.jsx(gde,{mode:"wait",custom:i,children:s.jsx(xs.div,{custom:i,variants:zUe,initial:"enter",animate:"center",exit:"exit",transition:{duration:.3,ease:"easeInOut"},children:s.jsx(K,{className:"bg-gray-900 border-gray-800",children:s.jsxs(X,{className:"p-8",children:[r===1&&s.jsx(JBe,{}),r===2&&s.jsx(eVe,{}),r===3&&s.jsx(DUe,{assessmentId:e}),r===4&&s.jsx(LUe,{}),r===5&&s.jsx(FUe,{}),r===6&&s.jsx(VUe,{}),r===7&&s.jsx(UUe,{data:f(),onEdit:x,onSubmit:v,isSubmitting:h.isPending})]})})},r)}),r<7&&s.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[s.jsxs(F,{variant:"outline",onClick:r===1&&n?n:p,disabled:r===1&&!n,className:"border-gray-700 text-gray-300 hover:bg-gray-800",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),r===1&&n?"Cancel":"Back"]}),s.jsxs(F,{onClick:g,className:"bg-cyan-600 hover:bg-cyan-700 text-white",children:[r===6?"Review":"Next",r===6?s.jsx(xn,{className:"ml-2 h-4 w-4"}):s.jsx(Er,{className:"ml-2 h-4 w-4"})]})]})]})})})}function qUe(){const{assessmentId:e}=Pb(),t=Rt(),{data:n,isLoading:r,error:a}=$e({queryKey:Je.assessment(e),queryFn:()=>Wt.getAssessment(e),enabled:!!e}),i=()=>{t(`/marketplace?assessmentId=${e}`)},o=()=>{t(`/assessments/${e}/results`)};return r?s.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ye,{className:"h-12 w-12 text-cyan-400 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading assessment..."})]})}):a||!n?s.jsx("div",{className:"min-h-screen bg-gray-950 p-8",children:s.jsx(K,{className:"max-w-2xl mx-auto bg-red-900/20 border-red-800",children:s.jsxs(X,{className:"p-8 text-center",children:[s.jsx(Pt,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-red-400 mb-2",children:"Assessment Not Found"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"The assessment you're looking for doesn't exist or you don't have permission to access it."}),s.jsx(F,{variant:"outline",onClick:()=>t("/assessment-templates"),className:"border-gray-700 text-gray-300",children:"Back to Assessments"})]})})}):s.jsx(WUe,{assessmentId:e,onComplete:i,onCancel:o})}const HUe=()=>{const e=Xs();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},KUe=({tier:e})=>s.jsxs(K,{className:se("relative flex flex-col h-full",e.highlighted&&"border-primary border-2 shadow-lg md:scale-105"),children:[e.badge&&s.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:s.jsxs(le,{className:"bg-primary text-primary-foreground px-4 py-1","aria-label":`${e.badge} plan indicator`,children:[s.jsx(Ul,{className:"h-4 w-4 mr-1 inline","aria-hidden":"true"}),e.badge]})}),s.jsxs(de,{className:"text-center pb-8 pt-8",children:[s.jsx(pe,{className:"text-2xl mb-2",children:e.name}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{className:"text-4xl font-bold block",children:e.price}),e.priceSubtext&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:e.priceSubtext})]}),s.jsx(Ve,{className:"mt-4",children:e.description})]}),s.jsx(X,{className:"flex-1",children:s.jsx("ul",{className:"space-y-3",role:"list",children:e.features.map((t,n)=>s.jsxs("li",{className:"flex items-start gap-3",children:[t.included?s.jsx(xn,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5","aria-hidden":"true"}):s.jsx(kr,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5","aria-hidden":"true"}),s.jsxs("span",{className:se("text-sm",!t.included&&"text-muted-foreground line-through"),children:[t.text,t.note&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",t.note,")"]})]})]},n))})}),s.jsx(sm,{className:"pt-6",children:s.jsx(F,{className:"w-full",variant:e.cta.variant||"default",onClick:e.cta.action,disabled:e.cta.disabled||e.currentPlan,"aria-label":e.currentPlan?`${e.name} is your current plan`:e.cta.text,children:e.currentPlan?"Current Plan":e.cta.text})})]});function GUe(){var c;const e=Rt(),{data:t,isLoading:n}=$e({queryKey:["public-plans"],queryFn:async()=>await hre.listPlans()}),{data:r,isLoading:a}=$e({queryKey:["subscription","billing-info"],queryFn:async()=>{const u=mv();if(!u)return null;try{const d=await fetch(`/v1/subscriptions/${u}/billing-info`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});return d.ok?d.json():null}catch(d){return console.warn("Failed to fetch billing info:",d),null}},enabled:!!localStorage.getItem("token"),retry:!1}),i=((c=r==null?void 0:r.data)==null?void 0:c.plan)||null,o=(t==null?void 0:t.data)||[],l=o.map(u=>{const d=u.slug==="freemium",f=u.slug==="premium",m=u.slug==="enterprise";let h="Free",g;if(u.monthlyPrice>0){if(h=`€${u.monthlyPrice}`,u.annualPrice>0){const v=((u.monthlyPrice*12-u.annualPrice)/(u.monthlyPrice*12)*100).toFixed(0);g=`per month, or €${u.annualPrice}/year (save ${v}%)`}}else m&&(h="Custom");const p=(u.features||[]).map(v=>({text:v,included:!v.includes("Blurred"),note:v.includes("Blurred")?"Blurred":void 0}));let x;return d?x={text:"Get Started",action:()=>e("/register"),variant:"outline"}:f?x={text:"Upgrade to Premium",action:()=>e(`/checkout?plan=${u.slug}&cycle=monthly`)}:x={text:"Contact Sales",action:()=>window.location.href="mailto:sales@heliolus.com",variant:"outline"},{name:u.name,price:h,priceSubtext:g,description:u.description||"",features:p,cta:x,highlighted:f,badge:f?"Most Popular":void 0,currentPlan:i===u.slug.toUpperCase()}});return n||a?s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading pricing information..."})}):!o||o.length===0?s.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No pricing plans available at this time."})}):s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Select the perfect plan for your compliance needs. Upgrade or downgrade anytime."})]}),s.jsx("div",{className:"flex justify-center px-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 w-full max-w-6xl",children:l.map(u=>s.jsx(KUe,{tier:u},u.name))})}),s.jsx("div",{className:"mt-16 flex justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Need More Assessments?"}),s.jsx("p",{className:"text-muted-foreground",children:"Premium users can purchase additional assessments on demand"})]}),s.jsxs(K,{className:"border-2 border-cyan-500/50 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-500/20 to-transparent rounded-bl-full"}),s.jsxs(de,{className:"text-center pb-8 pt-8 relative",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-cyan-500/20 mx-auto mb-4",children:s.jsx(jo,{className:"h-6 w-6 text-cyan-500"})}),s.jsx(pe,{className:"text-2xl mb-2",children:"Additional Assessment"}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("span",{className:"text-4xl font-bold block",children:"€299"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"One-time purchase"})]}),s.jsx(Ve,{className:"mt-4",children:"Perfect for Premium users who need extra assessments beyond their monthly quota"})]}),s.jsx(X,{className:"relative",children:s.jsxs("ul",{className:"space-y-3",role:"list",children:[s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:"50 credits for one additional assessment"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:"Full AI-powered risk assessment and analysis"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:"Access to all Premium features"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:"Gap analysis and strategy matrix"})]}),s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-500 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-sm",children:"No expiration - use when you need it"})]})]})}),s.jsx(sm,{className:"pt-6 relative",children:s.jsx(F,{className:"w-full bg-cyan-600 hover:bg-cyan-700",onClick:()=>{if(!localStorage.getItem("token")){e("/login");return}if(i!=="PREMIUM"){e("/checkout?plan=premium&cycle=monthly");return}e("/dashboard?purchase=true")},"data-testid":"button-purchase-additional-assessment",children:localStorage.getItem("token")?i!=="PREMIUM"?"Upgrade to Premium First":"Purchase Additional Assessment":"Sign In to Purchase"})})]})]})}),s.jsxs("div",{className:"mt-20 max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"What's included in the Freemium plan?"}),s.jsx("p",{className:"text-muted-foreground",children:"The Freemium plan allows you to create up to 2 compliance assessments for free. You'll see your compliance score and can browse vendors, but gap analysis and strategy matrix features are restricted."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Can I upgrade at any time?"}),s.jsx("p",{className:"text-muted-foreground",children:"Yes! You can upgrade from Freemium to Premium at any time. Your assessments and data will be preserved, and you'll immediately gain access to all Premium features."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"What if I need more than 2 assessments per month?"}),s.jsx("p",{className:"text-muted-foreground",children:"Premium users can purchase additional assessments for €299 each. Alternatively, consider our Enterprise plan for unlimited assessments."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"How does annual billing work?"}),s.jsx("p",{className:"text-muted-foreground",children:"By choosing annual billing, you pay €6,490 upfront (instead of €7,188 for 12 monthly payments), saving 10%. Your plan renews automatically each year."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-2",children:"What's included in Enterprise support?"}),s.jsx("p",{className:"text-muted-foreground",children:"Enterprise customers get a dedicated account manager, priority email and phone support, custom integrations, and flexible billing arrangements tailored to your organization's needs."})]})]})]})]})})}const YUe={MONTHLY:599,ANNUAL:6490},a1={percentage:10,amount:698.8};function XUe(){var u;const e=Rt(),[t]=ic();wt();const n=((u=t.get("cycle"))==null?void 0:u.toUpperCase())||"MONTHLY",[r,a]=y.useState(n),i=it({mutationFn:async()=>{const d=await fetch("/v1/subscriptions/checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({plan:"PREMIUM"})});if(!d.ok){const f=await d.json();throw new Error(f.message||"Failed to create checkout session")}return d.json()},onSuccess:d=>{if(d.url)Ae({title:"Redirecting to Stripe...",description:"You will be redirected to complete your payment securely."}),window.location.href=d.url;else throw new Error("No checkout URL received")},onError:d=>{Ae({title:"Checkout Failed",description:d.message,variant:"destructive"})}}),o=()=>{i.mutate()},l=YUe[r],c=r==="ANNUAL";return s.jsx("div",{className:"min-h-screen bg-gray-950 py-12",children:s.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(F,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-gray-400",children:"Choose your billing cycle and complete your upgrade"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{className:"bg-gray-900/50 border-gray-800",children:[s.jsxs(de,{children:[s.jsx(pe,{className:"text-white",children:"Select Billing Cycle"}),s.jsx(Ve,{children:"Choose how you'd like to be billed"})]}),s.jsx(X,{children:s.jsx(ho,{value:r,onValueChange:d=>a(d),children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`relative flex items-center space-x-3 rounded-lg border-2 p-4 cursor-pointer transition-all ${r==="MONTHLY"?"border-cyan-500 bg-cyan-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>a("MONTHLY"),children:[s.jsx(Ga,{value:"MONTHLY",id:"monthly"}),s.jsx(te,{htmlFor:"monthly",className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:"Monthly"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Billed every month"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-white",children:"€599"}),s.jsx("p",{className:"text-xs text-gray-400",children:"per month"})]})]})})]}),s.jsxs("div",{className:`relative flex items-center space-x-3 rounded-lg border-2 p-4 cursor-pointer transition-all ${r==="ANNUAL"?"border-cyan-500 bg-cyan-500/10":"border-gray-700 hover:border-gray-600"}`,onClick:()=>a("ANNUAL"),children:[s.jsx(Ga,{value:"ANNUAL",id:"annual"}),s.jsx(te,{htmlFor:"annual",className:"flex-1 cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold text-white",children:"Annual"}),s.jsxs(le,{className:"bg-green-500/20 text-green-400 border-green-500/50",children:["Save ",a1.percentage,"%"]})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Billed once per year"}),s.jsxs("p",{className:"text-xs text-green-400 mt-1",children:["Save €",a1.amount.toFixed(2),"/year"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-bold text-white",children:"€6,490"}),s.jsx("p",{className:"text-xs text-gray-400",children:"per year"})]})]})})]})]})})})]}),s.jsxs(K,{className:"bg-gradient-to-br from-cyan-900/20 to-pink-900/20 border-cyan-800/50",children:[s.jsx(de,{children:s.jsxs(pe,{className:"text-white flex items-center gap-2",children:[s.jsx($t,{className:"h-5 w-5 text-yellow-400"}),"Premium Features"]})}),s.jsx(X,{className:"space-y-3",children:["Unlimited assessments per month","Full gap analysis & strategy matrix","AI-powered vendor matching","Downloadable PDF reports","Lead tracking & RFP management","Priority email support","Advanced analytics & insights"].map((d,f)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(xn,{className:"h-5 w-5 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300",children:d})]},f))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(K,{className:"bg-gray-900/50 border-gray-800",children:[s.jsx(de,{children:s.jsx(pe,{className:"text-white",children:"Order Summary"})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Plan"}),s.jsx("span",{className:"text-white font-semibold",children:"Premium"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Billing Cycle"}),s.jsx("span",{className:"text-white font-semibold",children:r==="MONTHLY"?"Monthly":"Annual"})]}),c&&s.jsxs("div",{className:"flex justify-between text-green-400",children:[s.jsx("span",{children:"Annual Savings"}),s.jsxs("span",{className:"font-semibold",children:["-€",a1.amount.toFixed(2)]})]})]}),s.jsx(At,{className:"bg-gray-700"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-lg font-semibold text-white",children:"Total"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-white",children:["€",l.toLocaleString()]}),c&&s.jsxs("p",{className:"text-xs text-gray-400",children:["€",(l/12).toFixed(2),"/month"]})]})]}),s.jsx(At,{className:"bg-gray-700"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rv,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Secure Payment via Stripe"})]}),s.jsx("p",{className:"text-xs text-gray-400",children:"You'll be redirected to Stripe's secure checkout page to complete your payment."})]}),s.jsx(F,{onClick:o,disabled:i.isPending,className:"w-full bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700",size:"lg",children:i.isPending?"Redirecting to Stripe...":s.jsxs(s.Fragment,{children:[s.jsx(qs,{className:"mr-2 h-4 w-4"}),"Continue to Payment - €",l.toLocaleString()]})}),s.jsxs("p",{className:"text-xs text-center text-gray-400",children:["By continuing, you agree to our"," ",s.jsx(Tv,{type:"TERMS_OF_SERVICE",className:"text-primary hover:underline"})," ","and"," ",s.jsx(Tv,{type:"PRIVACY_POLICY",className:"text-primary hover:underline"})]})]})]})]}),s.jsxs("div",{className:"text-center text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(qs,{className:"h-3 w-3"}),s.jsx("span",{children:"Secure Checkout"})]}),s.jsx("p",{children:"Your payment information is encrypted and secure"})]})]})]})]})})}const QUe=()=>{const[e]=ic(),t=Rt(),n=e.get("session_id"),[r,a]=y.useState(!0);return $e({queryKey:["verify-checkout",n],queryFn:async()=>{if(!n)return null;const i=await fetch(`/v1/subscriptions/verify-checkout/${n}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok)throw new Error("Failed to verify checkout session");return i.json()},enabled:!!n,retry:3,retryDelay:1e3}),y.useEffect(()=>{const i=setTimeout(()=>{a(!1)},3e3);return()=>clearTimeout(i)},[]),n?r?s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5 animate-spin"}),"Processing Your Subscription"]}),s.jsx(Ve,{children:"Please wait while we confirm your payment..."})]}),s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"This should only take a moment."})})]})}):s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(at,{className:"h-16 w-16 text-green-500"})}),s.jsx(pe,{className:"text-3xl",children:"Subscription Activated!"}),s.jsx(Ve,{className:"text-lg",children:"Thank you for subscribing to Heliolus"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-6 space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"What happens next?"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"Your subscription is now active"}),s.jsx("li",{children:"Assessment credits have been added to your account"}),s.jsx("li",{children:"You can start creating assessments immediately"}),s.jsx("li",{children:"A confirmation email has been sent to your email address"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{onClick:()=>t("/dashboard"),className:"flex-1",children:"Go to Dashboard"}),s.jsx(F,{onClick:()=>t("/assessment-templates"),variant:"outline",className:"flex-1",children:"Start Assessment"})]})]})]})}):s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{className:"text-destructive",children:"Invalid Session"}),s.jsx(Ve,{children:"No checkout session ID was provided."})]}),s.jsx(X,{children:s.jsx(F,{onClick:()=>t("/pricing"),children:"Return to Pricing"})})]})})},ZUe=()=>{const e=Rt();return s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Io,{className:"h-16 w-16 text-orange-500"})}),s.jsx(pe,{className:"text-3xl",children:"Checkout Cancelled"}),s.jsx(Ve,{className:"text-lg",children:"Your subscription checkout was cancelled"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-6 space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"What happened?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You cancelled the checkout process before completing your payment. No charges have been made to your account."})]}),s.jsxs("div",{className:"bg-muted rounded-lg p-6 space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Need help?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"If you experienced any issues during checkout or have questions about our pricing plans, please don't hesitate to contact our support team."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{onClick:()=>e("/pricing"),className:"flex-1",children:"View Pricing Plans"}),s.jsx(F,{onClick:()=>e("/dashboard"),variant:"outline",className:"flex-1",children:"Go to Dashboard"})]})]})]})})},JUe=()=>{const[e]=ic(),t=Rt(),n=wt(),r=e.get("session_id"),[a,i]=y.useState(!0);return y.useEffect(()=>{n.invalidateQueries({queryKey:["subscription","billing-info"]}),n.invalidateQueries({queryKey:["user","assessment-quota"]});const o=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(o)},[n]),r?a?s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Ye,{className:"h-5 w-5 animate-spin"}),"Processing Your Purchase"]}),s.jsx(Ve,{children:"Please wait while we confirm your payment..."})]}),s.jsx(X,{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"This should only take a moment."})})]})}):s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500 to-pink-500 rounded-full blur-lg opacity-50"}),s.jsx("div",{className:"relative bg-gray-900 rounded-full p-4 border-2 border-cyan-500/50",children:s.jsx(at,{className:"h-16 w-16 text-green-500"})})]})}),s.jsxs(pe,{className:"text-3xl flex items-center justify-center gap-2",children:[s.jsx($t,{className:"h-6 w-6 text-yellow-400"}),"Purchase Complete!"]}),s.jsx(Ve,{className:"text-lg pt-2",children:"50 assessment credits have been added to your account"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/20 to-pink-900/20 border border-cyan-800/50 rounded-lg p-6",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"What's included:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"1 complete assessment with all features"}),s.jsx("li",{children:"Full gap analysis and risk assessment"}),s.jsx("li",{children:"AI-powered vendor recommendations"}),s.jsx("li",{children:"Strategy matrix and action plan"}),s.jsx("li",{children:"Downloadable PDF report"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{onClick:()=>t("/dashboard"),className:"flex-1",variant:"outline",children:"Go to Dashboard"}),s.jsx(F,{onClick:()=>t("/assessment-templates"),className:"flex-1 bg-gradient-to-r from-cyan-600 to-pink-600 hover:from-cyan-700 hover:to-pink-700",children:"Start New Assessment"})]})]})]})}):s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{className:"text-destructive",children:"Invalid Session"}),s.jsx(Ve,{children:"No checkout session ID was provided."})]}),s.jsx(X,{children:s.jsx(F,{onClick:()=>t("/dashboard"),children:"Return to Dashboard"})})]})})},e8e=()=>{const e=Rt();return s.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:s.jsxs(K,{children:[s.jsxs(de,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(Io,{className:"h-16 w-16 text-orange-500"})}),s.jsx(pe,{className:"text-3xl",children:"Purchase Cancelled"}),s.jsx(Ve,{className:"text-lg",children:"Your credit purchase was cancelled"})]}),s.jsxs(X,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted rounded-lg p-6 space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"What happened?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"You cancelled the checkout process before completing your payment. No charges have been made to your account."})]}),s.jsxs("div",{className:"bg-muted rounded-lg p-6 space-y-2",children:[s.jsx("h3",{className:"font-semibold",children:"Need help?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"If you experienced any issues during checkout or have questions, please don't hesitate to contact our support team."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{onClick:()=>e("/dashboard"),className:"flex-1",children:"Go to Dashboard"}),s.jsx(F,{onClick:()=>e("/pricing"),variant:"outline",className:"flex-1",children:"View Pricing"})]})]})]})})},t8e=Mr({email:ot().email("Invalid email address"),password:ot().min(1,"Password is required")}),n8e=({onClose:e,returnTo:t})=>{var b;const[n,r]=y.useState(!1),[a,i]=y.useState(!1),[o,l]=y.useState(null),c=Rt(),u=Xs(),{login:d,isAuthenticated:f,isAdmin:m}=Cs(),h=t||((b=u.state)==null?void 0:b.from)||"/admin";y.useEffect(()=>{f&&m()&&c(h,{replace:!0})},[f,m,c,h]);const{register:g,handleSubmit:p,formState:{errors:x}}=Fi({resolver:lc(t8e)}),v=async w=>{i(!0),l(null);try{const N=await fetch("/v1/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w)}),j=await N.json();N.ok?j.user&&j.user.role==="ADMIN"?d(j.token,j.user):l("Access denied. Administrator privileges required."):l(j.message||"Login failed")}catch{l("Network error. Please try again.")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto bg-primary/10 rounded-full p-4 w-fit",children:s.jsx(tn,{className:"h-8 w-8 text-primary"})}),s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Administrator Access"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter your administrator credentials to continue"})]}),s.jsx(K,{children:s.jsxs("form",{onSubmit:p(v),children:[s.jsxs(X,{className:"pt-6 space-y-4",children:[o&&s.jsx(Ft,{variant:"destructive","data-testid":"alert-error",children:s.jsx(Bt,{children:o})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"admin-email",children:"Administrator Email"}),s.jsx(ye,{id:"admin-email",type:"email",placeholder:"admin@company.com",...g("email"),disabled:a,"data-testid":"input-admin-email"}),x.email&&s.jsx("p",{className:"text-sm text-destructive",children:x.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"admin-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ye,{id:"admin-password",type:n?"text":"password",...g("password"),disabled:a,"data-testid":"input-admin-password"}),s.jsx(F,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),disabled:a,"data-testid":"button-toggle-password",children:n?s.jsx(sf,{className:"h-4 w-4"}):s.jsx(Ws,{className:"h-4 w-4"})})]}),x.password&&s.jsx("p",{className:"text-sm text-destructive",children:x.password.message})]})]}),s.jsxs(sm,{className:"flex flex-col space-y-4",children:[s.jsxs(F,{type:"submit",className:"w-full",disabled:a,"data-testid":"button-admin-login",children:[a&&s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Access Admin Panel"]}),!1,s.jsxs("div",{className:"flex space-x-2 w-full",children:[s.jsxs(F,{type:"button",variant:"outline",className:"flex-1",disabled:a,onClick:()=>e?e():c("/"),"data-testid":"button-cancel",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsx(F,{type:"button",variant:"secondary",className:"flex-1",disabled:a,onClick:()=>c("/login"),"data-testid":"button-user-login",children:"User Login"})]})]})]})}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Only users with administrator privileges can access this area."}),s.jsxs("p",{children:["For regular user access, use the"," ",s.jsx("button",{onClick:()=>c("/login"),className:"text-primary hover:underline font-medium","data-testid":"link-user-login",children:"standard login page"}),"."]})]})]})})},r8e=[{title:"Dashboard",href:"/admin",icon:oZ},{title:"Vendor Management",href:"/admin/vendors",icon:Bl},{title:"User Management",href:"/admin/users",icon:Hr},{title:"Leads",href:"/admin/leads",icon:_r},{title:"Templates",href:"/admin/templates",icon:ft},{title:"Plans",href:"/admin/plans",icon:cZ},{title:"Revenue Reports",href:"/admin/reports",icon:iZ},{title:"Subscriptions",href:"/admin/subscriptions",icon:Ul},{title:"Legal Documents",href:"/admin/legal-documents",icon:wZ}],Vs=({children:e})=>{const t=Rt(),n=Xs(),[r,a]=y.useState(!1);return s.jsxs("div",{className:"flex h-screen bg-background",children:[s.jsx("div",{className:se("border-r border-border bg-card transition-all duration-300 ease-in-out",r?"w-16":"w-64"),children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"p-6 border-b border-border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:!r&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-lg font-semibold gradient-text",children:"Admin Panel"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Heliolus Control Center"})]})}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>a(!r),className:"hover:bg-accent",children:s.jsx(lA,{className:se("h-4 w-4 transition-transform duration-300",r&&"rotate-180")})})]})}),s.jsx(Sp,{className:"flex-1 px-3 py-4",children:s.jsx("nav",{className:"space-y-1",children:r8e.map(i=>{const o=i.icon,l=n.pathname===i.href;return s.jsxs(F,{variant:l?"secondary":"ghost",className:se("w-full",r?"justify-center px-2":"justify-start",l&&"bg-primary/10 text-primary hover:bg-primary/20"),onClick:()=>t(i.href),title:r?i.title:void 0,children:[s.jsx(o,{className:se("h-4 w-4",!r&&"mr-3")}),!r&&s.jsxs(s.Fragment,{children:[i.title,i.badge&&s.jsx("span",{className:"ml-auto bg-primary/20 text-primary text-xs px-2 py-0.5 rounded-full",children:i.badge})]})]},i.href)})})})]})}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsx(Sp,{className:"flex-1",children:s.jsx("div",{className:"container mx-auto p-6",children:e})})})]})},s8e=e=>{if(e<1)return"< 1 min";if(e<60)return`${Math.round(e)} min`;const t=Math.floor(e/60),n=Math.round(e%60);return n===0?`${t} hr`:`${t} hr ${n} min`},ny=()=>s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-4 w-4 bg-muted animate-pulse rounded"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"h-8 w-20 bg-muted animate-pulse rounded mb-2"}),s.jsx("div",{className:"h-3 w-40 bg-muted animate-pulse rounded"})]})]}),sh=()=>s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx("div",{className:"h-5 w-48 bg-muted animate-pulse rounded mb-2"}),s.jsx("div",{className:"h-4 w-64 bg-muted animate-pulse rounded"})]}),s.jsx(X,{children:s.jsx("div",{className:"h-[300px] bg-muted animate-pulse rounded"})})]}),a8e=({trend:e})=>e==="up"?s.jsx(_r,{className:"h-4 w-4 text-green-500"}):e==="down"?s.jsx(xb,{className:"h-4 w-4 text-red-500"}):s.jsx(hZ,{className:"h-4 w-4 text-gray-500"}),i8e=()=>{var b,w,N,j,S,C;const{data:e,isLoading:t,error:n,refetch:r}=$e({queryKey:["admin-analytics-assessments"],queryFn:()=>al.getAssessmentAnalytics(),refetchInterval:3e5,staleTime:6e4,retry:3}),{data:a,isLoading:i,error:o,refetch:l}=$e({queryKey:["admin-analytics-vendors"],queryFn:()=>al.getVendorAnalytics(),refetchInterval:3e5,staleTime:6e4,retry:3}),{data:c,isLoading:u,error:d,refetch:f}=$e({queryKey:["admin-analytics-users"],queryFn:()=>al.getUserAnalytics(),refetchInterval:3e5,staleTime:6e4,retry:3}),m=t||i||u,h=n||o||d,g=e?[{name:"Started Assessment",value:e.started,fill:"#3BE2E9"},{name:"Completed Questions",value:e.completed,fill:"#3BE2E9"},{name:"Viewed Results",value:e.completed,fill:"#3BE2E9"},{name:"Contacted Vendor",value:(a==null?void 0:a.totalContacts)||0,fill:"#F345B8"},{name:"Converted",value:((b=c==null?void 0:c.conversionFunnel)==null?void 0:b.upgradedToPremium)||0,fill:"#F345B8"}]:[],p=((w=e==null?void 0:e.trend)==null?void 0:w.slice(-7).map(P=>{var A,T;return{day:new Date(P.date).toLocaleDateString("en-US",{weekday:"short"}),assessments:P.started,completed:P.completed,vendors:((T=(A=a==null?void 0:a.trend)==null?void 0:A.find(E=>E.date===P.date))==null?void 0:T.contacts)||0}}))||[],x=((N=e==null?void 0:e.byTemplate)==null?void 0:N.slice(0,5).map((P,A)=>({name:P.templateName,value:P.percentage,color:["#3BE2E9","#F345B8","#939393","#4ade80","#f59e0b"][A]||"#939393"})))||[];if(e!=null&&e.byTemplate&&e.byTemplate.length>5){const A=e.byTemplate.slice(5).reduce((T,E)=>T+E.percentage,0);A>0&&x.push({name:"Other",value:A,color:"#94a3b8"})}const v=((j=a==null?void 0:a.topVendors)==null?void 0:j.slice(0,5).map(P=>({name:P.companyName,clicks:P.clicks,trend:P.trendDirection,id:P.vendorId})))||[];return h?s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Admin Dashboard"}),s.jsxs(Ft,{variant:"destructive",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs(Bt,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Failed to load analytics:"," ",(n==null?void 0:n.message)||(o==null?void 0:o.message)||(d==null?void 0:d.message)]}),s.jsx(F,{variant:"outline",size:"sm",onClick:()=>{r(),l(),f()},children:"Retry"})]})]})]})}):s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Real-time overview of platform metrics and activity"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:m?s.jsxs(s.Fragment,{children:[s.jsx(ny,{}),s.jsx(ny,{}),s.jsx(ny,{}),s.jsx(ny,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Assessments"}),s.jsx(HO,{className:"h-4 w-4 text-primary"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(e==null?void 0:e.total)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsxs("span",{className:"text-green-500 inline-flex items-center",children:[s.jsx(rS,{className:"h-3 w-3 mr-1"}),"+",(e==null?void 0:e.started)||0]})," ","started this period"]})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Completion Rate"}),s.jsx(at,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((S=e==null?void 0:e.completionRate)==null?void 0:S.toFixed(1))||0,"%"]}),s.jsx(Wr,{value:(e==null?void 0:e.completionRate)||0,className:"mt-2"})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Vendor Clicks"}),s.jsx(pZ,{className:"h-4 w-4 text-secondary"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalClicks)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsxs("span",{className:"text-green-500 inline-flex items-center",children:[s.jsx(rS,{className:"h-3 w-3 mr-1"}),((C=a==null?void 0:a.clickThroughRate)==null?void 0:C.toFixed(1))||0,"%"]})," ","click-through rate"]})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Vendor Contacts"}),s.jsx(dA,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.totalContacts)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",(a==null?void 0:a.activeVendors)||0," active vendors"]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m?s.jsx(sh,{}):s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Assessment Conversion Funnel"}),s.jsx(Ve,{children:"Drop-off tracking through assessment journey"})]}),s.jsx(X,{children:g.length>0?s.jsx(ou,{width:"100%",height:300,children:s.jsxs(m6e,{children:[s.jsx(Fr,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelStyle:{color:"#fff"}}),s.jsx(wc,{dataKey:"value",data:g,isAnimationActive:!0,children:s.jsx(Ka,{position:"center",fill:"#fff"})})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tl,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No funnel data available"})]})})})]}),m?s.jsx(sh,{}):s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Weekly Activity Trend"}),s.jsx(Ve,{children:"Assessments and vendor interactions"})]}),s.jsx(X,{children:p.length>0?s.jsx(ou,{width:"100%",height:300,children:s.jsxs(RH,{data:p,children:[s.jsx(ex,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(vc,{dataKey:"day",stroke:"#999"}),s.jsx(bc,{stroke:"#999"}),s.jsx(Fr,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelStyle:{color:"#fff"}}),s.jsx(Oi,{type:"monotone",dataKey:"assessments",stroke:"#3BE2E9",strokeWidth:2,dot:{fill:"#3BE2E9"},name:"Started"}),s.jsx(Oi,{type:"monotone",dataKey:"completed",stroke:"#4ade80",strokeWidth:2,dot:{fill:"#4ade80"},name:"Completed"}),s.jsx(Oi,{type:"monotone",dataKey:"vendors",stroke:"#F345B8",strokeWidth:2,dot:{fill:"#F345B8"},name:"Vendor Contacts"})]})}):s.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Tl,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No trend data available"})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m?s.jsx(sh,{}):s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Assessment Types"}),s.jsx(Ve,{children:"Distribution by compliance framework"})]}),s.jsx(X,{children:x.length>0?s.jsxs(s.Fragment,{children:[s.jsx(ou,{width:"100%",height:200,children:s.jsxs(IH,{children:[s.jsx(Ui,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:x.map((P,A)=>s.jsx(hc,{fill:P.color},`cell-${A}`))}),s.jsx(Fr,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelStyle:{color:"#fff"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:x.map(P=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:P.color}}),s.jsx("span",{className:"text-sm",children:P.name})]}),s.jsxs("span",{className:"text-sm font-medium",children:[P.value.toFixed(1),"%"]})]},P.name))})]}):s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(HO,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No template data available"})]})})})]}),m?s.jsx(sh,{}):s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Active Sessions"}),s.jsx(Ve,{children:"Real-time assessment activity"})]}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tl,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Currently Active"})]}),s.jsx("span",{className:"text-2xl font-bold text-green-500",children:(c==null?void 0:c.activeUsers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{children:"In Progress"})]}),s.jsx("span",{className:"text-2xl font-bold text-yellow-500",children:(e==null?void 0:e.inProgress)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xb,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{children:"Abandoned"})]}),s.jsx("span",{className:"text-2xl font-bold text-red-500",children:(e==null?void 0:e.abandoned)||0})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Avg Duration"}),s.jsx("span",{className:"font-medium",children:s8e((e==null?void 0:e.avgCompletionTime)||0)})]})})]})})]}),m?s.jsx(sh,{}):s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Top Vendors"}),s.jsx(Ve,{children:"By engagement this week"})]}),s.jsx(X,{children:v.length>0?s.jsx("div",{className:"space-y-3",children:v.map((P,A)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:A+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:P.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.clicks," clicks"]})]})]}),s.jsx(a8e,{trend:P.trend})]},P.id||P.name))}):s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bl,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No vendor data available"})]})})})]})]})]})})},ei=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));ei.displayName="Table";const ti=y.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));ti.displayName="TableHeader";const ni=y.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));ni.displayName="TableBody";const o8e=y.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));o8e.displayName="TableFooter";const Dt=y.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dt.displayName="TableRow";const ze=y.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ze.displayName="TableHead";const Ee=y.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ee.displayName="TableCell";const l8e=y.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));l8e.displayName="TableCaption";const c8e=[{id:"1",name:"SecurePoint Solutions",description:"Enterprise-grade security compliance and risk management platform",status:"APPROVED",riskTags:["SOC 2","ISO 27001","HIPAA"],pricing:{model:"subscription",startingPrice:999,currency:"USD"},deployment:"cloud",contact:{email:"sales@securepoint.com",phone:"+1-555-0123",website:"https://securepoint.com",representative:"John Smith"},metrics:{assessments:145,clicks:342,contacts:45,conversionRate:13.2}},{id:"2",name:"ComplianceHub Pro",description:"Automated compliance management for growing businesses",status:"APPROVED",riskTags:["GDPR","CCPA","SOC 2"],pricing:{model:"usage-based",startingPrice:299,currency:"USD"},deployment:"hybrid",contact:{email:"info@compliancehub.io",phone:"+1-555-0124",website:"https://compliancehub.io",representative:"Sarah Johnson"},metrics:{assessments:98,clicks:289,contacts:38,conversionRate:13.1}}],C5=e=>{const t=["KYC_AML","TRANSACTION_MONITORING","SANCTIONS_SCREENING","TRADE_SURVEILLANCE","RISK_ASSESSMENT","COMPLIANCE_TRAINING","REGULATORY_REPORTING","DATA_GOVERNANCE"],n={AML:"KYC_AML",KYC:"KYC_AML","KYC/AML":"KYC_AML","Transaction Monitoring":"TRANSACTION_MONITORING",Sanctions:"SANCTIONS_SCREENING","Sanctions Screening":"SANCTIONS_SCREENING",Trade:"TRADE_SURVEILLANCE","Trade Surveillance":"TRADE_SURVEILLANCE","Risk Assessment":"RISK_ASSESSMENT","Risk Management":"RISK_ASSESSMENT",Training:"COMPLIANCE_TRAINING","Compliance Training":"COMPLIANCE_TRAINING",Reporting:"REGULATORY_REPORTING","Regulatory Reporting":"REGULATORY_REPORTING","Data Governance":"DATA_GOVERNANCE","Data Privacy":"DATA_GOVERNANCE"};return e.map(r=>t.includes(r)?r:n[r]||"RISK_ASSESSMENT").filter(Boolean)},P5=y.memo(({formData:e,onFormDataChange:t})=>{var n;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Basic Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"companyName",children:"Company Name"}),s.jsx(ye,{id:"companyName",value:e.companyName||"",onChange:r=>t({...e,companyName:r.target.value}),placeholder:"Enter company name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"status",children:"Status"}),s.jsxs(vt,{value:e.status,onValueChange:r=>t({...e,status:r}),children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"APPROVED",children:"Approved"}),s.jsx(ue,{value:"PENDING",children:"Pending"}),s.jsx(ue,{value:"REJECTED",children:"Rejected"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"website",children:"Website"}),s.jsx(ye,{id:"website",value:e.website||"",onChange:r=>t({...e,website:r.target.value}),placeholder:"https://company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"headquarters",children:"Headquarters"}),s.jsx(ye,{id:"headquarters",value:e.headquarters||"",onChange:r=>t({...e,headquarters:r.target.value}),placeholder:"e.g., London, UK"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"logo",children:"Logo URL"}),s.jsx(ye,{id:"logo",value:e.logo||"",onChange:r=>t({...e,logo:r.target.value}),placeholder:"https://company.com/logo.png"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Product & Capabilities"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"primaryProduct",children:"Primary Product"}),s.jsx(ye,{id:"primaryProduct",value:e.primaryProduct||"",onChange:r=>t({...e,primaryProduct:r.target.value}),placeholder:"e.g., Iris, Continuum Platform"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"aiCapabilities",children:"AI Capabilities"}),s.jsx(vn,{id:"aiCapabilities",value:e.aiCapabilities||"",onChange:r=>t({...e,aiCapabilities:r.target.value}),placeholder:"e.g., Agentic AI + NLP for alert adjudication; explainable decisions",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"deploymentOptions",children:"Deployment Options"}),s.jsx(ye,{id:"deploymentOptions",value:e.deploymentOptions||"",onChange:r=>t({...e,deploymentOptions:r.target.value}),placeholder:"e.g., SaaS; API; on-prem (enterprise)"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Business Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"integrations",children:"Integrations"}),s.jsx(vn,{id:"integrations",value:e.integrations||"",onChange:r=>t({...e,integrations:r.target.value}),placeholder:"e.g., Core banking / case mgmt (various)",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"dataCoverage",children:"Data Coverage"}),s.jsx(vn,{id:"dataCoverage",value:e.dataCoverage||"",onChange:r=>t({...e,dataCoverage:r.target.value}),placeholder:"e.g., Sanctions, PEP/adverse media (via partners)",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"customerSegments",children:"Customer Segments"}),s.jsx(ye,{id:"customerSegments",value:e.customerSegments||"",onChange:r=>t({...e,customerSegments:r.target.value}),placeholder:"e.g., Banks; global FIs"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maturityAssessment",children:"Maturity Assessment"}),s.jsx(ye,{id:"maturityAssessment",value:e.maturityAssessment||"",onChange:r=>t({...e,maturityAssessment:r.target.value}),placeholder:"e.g., Scale-up / Enterprise"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Marketing & Awards"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"benefitsSnapshot",children:"Benefits Snapshot"}),s.jsx(vn,{id:"benefitsSnapshot",value:e.benefitsSnapshot||"",onChange:r=>t({...e,benefitsSnapshot:r.target.value}),placeholder:"e.g., Cut false positives and investigation time with explainable decisions",rows:2})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"awards",children:"Awards & Trust Signals"}),s.jsx(vn,{id:"awards",value:e.awards||"",onChange:r=>t({...e,awards:r.target.value}),placeholder:"e.g., Used by global banks; focus on explainability",rows:2})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Solution Categories"}),s.jsx(ye,{placeholder:"Enter categories separated by commas (e.g., KYC_AML, SANCTIONS_SCREENING)",value:((n=e.categories)==null?void 0:n.join(", "))||"",onChange:r=>t({...e,categories:r.target.value.split(",").map(a=>a.trim()).filter(a=>a)})})]})]}),s.jsxs("div",{className:"border-t pt-3 space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactEmail",children:"Contact Email"}),s.jsx(ye,{id:"contactEmail",type:"email",value:e.contactEmail||"",onChange:r=>t({...e,contactEmail:r.target.value}),placeholder:"contact@company.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactPhone",children:"Contact Phone"}),s.jsx(ye,{id:"contactPhone",value:e.contactPhone||"",onChange:r=>t({...e,contactPhone:r.target.value}),placeholder:"+1-555-0123"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"contactName",children:"Contact Name"}),s.jsx(ye,{id:"contactName",value:e.contactName||"",onChange:r=>t({...e,contactName:r.target.value}),placeholder:"John Smith"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"salesEmail",children:"Sales Email"}),s.jsx(ye,{id:"salesEmail",type:"email",value:e.salesEmail||"",onChange:r=>t({...e,salesEmail:r.target.value}),placeholder:"sales@company.com"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"verified",checked:e.verified||!1,onChange:r=>t({...e,verified:r.target.checked})}),s.jsx(te,{htmlFor:"verified",children:"Verified Vendor"})]})]})]})}),u8e=()=>{var H,Se;const{toast:e}=Ys(),t=wt(),{data:n,isLoading:r,isError:a}=$e({queryKey:["admin-vendors"],queryFn:async()=>{const U=localStorage.getItem("authToken")||localStorage.getItem("token"),re=await fetch("/v1/admin/vendors?page=1&limit=100&sortBy=createdAt&sortOrder=desc",{headers:{Authorization:U?`Bearer ${U}`:"","Content-Type":"application/json"}});if(re.status===401)return null;if(!re.ok)throw new Error(`Failed to fetch vendors: ${re.status}`);return re.json()}}),i=((Se=(H=n==null?void 0:n.data)==null?void 0:H.data)==null?void 0:Se.map(U=>{var re,me;return{id:U.id,userId:U.userId,companyName:U.companyName,website:U.website||"",logo:U.logo,description:U.benefitsSnapshot||U.primaryProduct||"No description available",shortDescription:((re=U.benefitsSnapshot)==null?void 0:re.substring(0,150))||((me=U.primaryProduct)==null?void 0:me.substring(0,150))||"No description available",categories:U.categories||[],headquarters:U.headquarters||"",primaryProduct:U.primaryProduct||"",aiCapabilities:U.aiCapabilities||"",deploymentOptions:U.deploymentOptions||"",integrations:U.integrations||"",dataCoverage:U.dataCoverage||"",awards:U.awards||"",customerSegments:U.customerSegments||"",benefitsSnapshot:U.benefitsSnapshot||"",maturityAssessment:U.maturityAssessment||"",contactEmail:U.contactEmail||"contact@vendor.com",contactPhone:U.contactPhone||"",contactName:U.contactName||"",salesEmail:U.salesEmail||"",featured:U.featured||!1,verified:U.verified||!1,rating:U.rating||0,reviewCount:U.reviewCount||0,status:U.status||"PENDING",approvedAt:U.approvedAt,approvedBy:U.approvedBy,createdAt:U.createdAt,updatedAt:U.updatedAt,name:U.companyName,riskTags:U.categories||[]}}))||[],o=!r&&n===null?c8e.map(U=>{var re,me,Fe,ut,mt,q;return{id:U.id,companyName:U.name,website:((re=U.contact)==null?void 0:re.website)||"",description:U.description,shortDescription:U.description.substring(0,100)+"...",categories:U.riskTags||[],contactEmail:((me=U.contact)==null?void 0:me.email)||"contact@vendor.com",contactPhone:(Fe=U.contact)==null?void 0:Fe.phone,contactName:(ut=U.contact)==null?void 0:ut.representative,salesEmail:(mt=U.contact)==null?void 0:mt.email,featured:U.status==="APPROVED",verified:U.status==="APPROVED",rating:Math.random()*5,reviewCount:((q=U.metrics)==null?void 0:q.assessments)||0,status:U.status==="APPROVED"?"APPROVED":"PENDING",name:U.name,riskTags:U.riskTags||[]}}):[],l=i.length>0?i:o,[c,u]=y.useState(""),[d,f]=y.useState("all"),[m,h]=y.useState(!1),[g,p]=y.useState(null),[x,v]=y.useState({isOpen:!1,vendorId:"",vendorName:""}),[b,w]=y.useState(!1),[N,j]=y.useState(!1),[S,C]=y.useState(null),P=y.useRef(null),A=y.useRef(null),T=y.useRef(0),[E,k]=y.useState(null),[R,I]=y.useState(!1),[D,B]=y.useState({companyName:"",website:"",logo:"",description:"",shortDescription:"",categories:[],contactEmail:"",contactPhone:"",contactName:"",salesEmail:"",featured:!1,verified:!1,rating:0,reviewCount:0,status:"PENDING"}),V=l.filter(U=>{var Fe,ut;const re=(((Fe=U==null?void 0:U.companyName)==null?void 0:Fe.toLowerCase())||"").includes((c||"").toLowerCase())||(((ut=U==null?void 0:U.description)==null?void 0:ut.toLowerCase())||"").includes((c||"").toLowerCase()),me=d==="all"||((U==null?void 0:U.categories)||[]).some(mt=>((mt==null?void 0:mt.toLowerCase())||"").includes((d||"").toLowerCase()));return re&&me}),O=it({mutationFn:async U=>{const re=localStorage.getItem("authToken")||localStorage.getItem("token"),me=await fetch("/v1/admin/vendors",{method:"POST",headers:{Authorization:re?`Bearer ${re}`:"","Content-Type":"application/json"},body:JSON.stringify({companyName:U.companyName,description:U.description,shortDescription:U.shortDescription,website:U.website,logo:U.logo,categories:C5(U.categories||[]),contactEmail:U.contactEmail,contactPhone:U.contactPhone,contactName:U.contactName,salesEmail:U.salesEmail,featured:U.featured||!1,verified:U.verified||!1,rating:U.rating||0,reviewCount:U.reviewCount||0,status:U.status||"PENDING"})});if(!me.ok)throw new Error("Failed to add vendor");return me.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-vendors"]}),e({title:"Success",description:"Vendor added successfully"}),h(!1),$()},onError:U=>{e({title:"Error",description:U.message||"Failed to add vendor",variant:"destructive"})}}),_=()=>{O.mutate(D)},z=U=>{p(U);const re=U;console.log("Editing vendor data:",U),B({id:U.id,companyName:U.companyName||"",website:U.website||"",logo:U.logo||"",description:U.description||"",shortDescription:U.shortDescription||"",categories:U.categories||[],contactEmail:U.contactEmail||"",contactPhone:U.contactPhone||"",contactName:U.contactName||"",salesEmail:U.salesEmail||"",featured:U.featured||!1,verified:U.verified||!1,rating:U.rating||0,reviewCount:U.reviewCount||0,status:U.status||"PENDING",headquarters:re.headquarters||"",primaryProduct:re.primaryProduct||"",aiCapabilities:re.aiCapabilities||"",deploymentOptions:re.deploymentOptions||"",integrations:re.integrations||"",dataCoverage:re.dataCoverage||"",awards:re.awards||"",customerSegments:re.customerSegments||"",benefitsSnapshot:re.benefitsSnapshot||"",maturityAssessment:re.maturityAssessment||""})},ne=it({mutationFn:async({id:U,vendorData:re})=>{const me=localStorage.getItem("authToken")||localStorage.getItem("token"),Fe=await fetch(`/v1/admin/vendors/${U}`,{method:"PUT",headers:{Authorization:me?`Bearer ${me}`:"","Content-Type":"application/json"},body:JSON.stringify({companyName:re.companyName,description:re.description,shortDescription:re.shortDescription,website:re.website,logo:re.logo,categories:C5(re.categories||[]),contactEmail:re.contactEmail,contactPhone:re.contactPhone,contactName:re.contactName,salesEmail:re.salesEmail,featured:re.featured||!1,verified:re.verified||!1,rating:re.rating||0,reviewCount:re.reviewCount||0,status:re.status||"PENDING",headquarters:re.headquarters||"",primaryProduct:re.primaryProduct||"",aiCapabilities:re.aiCapabilities||"",deploymentOptions:re.deploymentOptions||"",integrations:re.integrations||"",dataCoverage:re.dataCoverage||"",awards:re.awards||"",customerSegments:re.customerSegments||"",benefitsSnapshot:re.benefitsSnapshot||"",maturityAssessment:re.maturityAssessment||""})});if(!Fe.ok)throw new Error("Failed to update vendor");return Fe.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-vendors"]}),e({title:"Success",description:"Vendor updated successfully"}),p(null),$()},onError:U=>{e({title:"Error",description:U.message||"Failed to update vendor",variant:"destructive"})}}),Y=()=>{g&&ne.mutate({id:g.id,vendorData:D})},Q=it({mutationFn:async U=>{const re=localStorage.getItem("authToken")||localStorage.getItem("token"),me=await fetch(`/v1/admin/vendors/${U}`,{method:"DELETE",headers:{Authorization:re?`Bearer ${re}`:""}});if(!me.ok)throw new Error("Failed to delete vendor");return me.json()},onMutate:async U=>{await t.cancelQueries({queryKey:["admin-vendors"]});const re=t.getQueryData(["admin-vendors"]);return t.setQueryData(["admin-vendors"],me=>!me||!me.data||!me.data.data?me:{...me,data:{...me.data,data:me.data.data.filter(Fe=>Fe.id!==U)}}),{previousVendors:re,deletedId:U}},onSuccess:()=>{e({title:"Success",description:"Vendor deleted successfully"})},onError:(U,re,me)=>{me!=null&&me.previousVendors&&t.setQueryData(["admin-vendors"],me.previousVendors),e({title:"Error",description:U.message||"Failed to delete vendor",variant:"destructive"})},onSettled:()=>{t.invalidateQueries({queryKey:["admin-vendors"]})}}),ie=U=>{const re=i.find(me=>me.id===U);v({isOpen:!0,vendorId:U,vendorName:(re==null?void 0:re.companyName)||"Unknown Vendor"})},ae=()=>{Q.mutate(x.vendorId),v({isOpen:!1,vendorId:"",vendorName:""})},ge=()=>{v({isOpen:!1,vendorId:"",vendorName:""})},$=()=>{B({companyName:"",website:"",logo:"",description:"",shortDescription:"",categories:[],contactEmail:"",contactPhone:"",contactName:"",salesEmail:"",featured:!1,verified:!1,rating:0,reviewCount:0,status:"PENDING",headquarters:"",primaryProduct:"",aiCapabilities:"",deploymentOptions:"",integrations:"",dataCoverage:"",awards:"",customerSegments:"",benefitsSnapshot:"",maturityAssessment:""})};y.useEffect(()=>{if(A.current&&T.current>0){const U=setTimeout(()=>{A.current&&(A.current.scrollTop=T.current)},0);return()=>clearTimeout(U)}},[D]);const J=y.useCallback(U=>{A.current&&(T.current=A.current.scrollTop),B(U)},[]),Z=async U=>{j(!0),C(null);try{const re=new FormData;re.append("file",U);const me=await je("/admin/vendors/bulk-upload",{method:"POST",body:re});if(me.success)C(me.data),t.invalidateQueries({queryKey:["admin-vendors"]}),e({title:"Upload Complete",description:`Processed ${me.data.processed} vendors. ${me.data.success} successful, ${me.data.errors} errors.`});else throw new Error(me.error||"Upload failed")}catch(re){console.error("Bulk upload error:",re),C({processed:0,success:0,errors:1,results:[{row:1,status:"error",error:re.message||"Upload failed"}]}),e({title:"Upload Failed",description:re.message||"Failed to upload CSV file",variant:"destructive"})}finally{j(!1)}},L=U=>{var me;const re=(me=U.target.files)==null?void 0:me[0];if(re){if(re.type!=="text/csv"&&!re.name.endsWith(".csv")){alert("Please select a CSV file");return}Z(re)}},ce=()=>{const re=[["Vendor Name","Website","HQ (if known)","Solution Category / Tags","AI Capabilities (short)","Compliance & Trust Signals (awards/partners/certs)","Data Coverage (lists/datasets/signals)","Solution Description (1–2 lines)","Maturity Assessment","Benefits Snapshot","Contact (email or page)"],["Silent Eight","https://www.silenteight.com","Singapore / New York","Sanctions & Name Screening, AML Investigations","Agentic AI + NLP for alert adjudication; explainable decisions","Used by global banks","Sanctions, PEP, Adverse Media","Iris platform delivers end-to-end name & transaction screening.","Scale-up / Enterprise","Cuts investigation time and false positives","info@silenteight.com | https://silenteight.com/contact"],["Napier AI","https://www.napier.ai","London, UK","AML Transaction Monitoring, Screening, KYC/CDD","Explainable AI models; risk scoring","Continuum Live/API deployments","Transactions, Sanctions, PEP","Continuum configurable AML TM and screening.","Scale-up / Enterprise","Lower TCO, reduced false positives","info@napier.ai | https://napier.ai/contact"]].map(mt=>mt.map(q=>`"${q}"`).join(",")).join(`
`),me=new Blob([re],{type:"text/csv"}),Fe=window.URL.createObjectURL(me),ut=document.createElement("a");ut.href=Fe,ut.download="vendor_upload_sample.csv",ut.click(),window.URL.revokeObjectURL(Fe)};return s.jsxs(Vs,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Vendor Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage vendor profiles, pricing, and integrations"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Jt,{open:b,onOpenChange:w,children:[s.jsx(bv,{asChild:!0,children:s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(qa,{className:"h-4 w-4 mr-2"}),"Bulk Upload"]})}),s.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs(Yt,{className:"flex-shrink-0",children:[s.jsx(Xt,{children:"Bulk Upload Vendors"}),s.jsx(Qt,{children:"Upload a CSV file to add multiple vendors at once. Download the sample CSV to see the required format."})]}),s.jsx("div",{className:"overflow-y-auto flex-1 space-y-4",children:S?s.jsx("div",{className:"space-y-4",children:s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[S.errors===0?s.jsx(at,{className:"h-5 w-5 text-green-500"}):s.jsx(Pt,{className:"h-5 w-5 text-yellow-500"}),"Upload Results"]})}),s.jsxs(X,{children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:S.processed}),s.jsx("div",{className:"text-sm text-gray-600",children:"Processed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.success}),s.jsx("div",{className:"text-sm text-gray-600",children:"Success"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.errors}),s.jsx("div",{className:"text-sm text-gray-600",children:"Errors"})]})]}),S.results&&S.results.length>0&&s.jsx("div",{className:"border rounded-lg",children:s.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Row"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Vendor"}),s.jsx(ze,{children:"Details"})]})}),s.jsx(ni,{children:S.results.map((U,re)=>{var me;return s.jsxs(Dt,{children:[s.jsx(Ee,{children:U.row}),s.jsx(Ee,{children:s.jsxs(le,{variant:U.status==="success"?"default":"destructive",className:U.status==="success"?"bg-green-500/20 text-green-500":"",children:[U.status==="success"&&s.jsx(at,{className:"h-3 w-3 mr-1"}),U.status==="error"&&s.jsx(Io,{className:"h-3 w-3 mr-1"}),U.status]})}),s.jsx(Ee,{children:((me=U.vendor)==null?void 0:me.companyName)||"-"}),s.jsx(Ee,{children:U.error||"Created successfully"})]},re)})})]})})})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[s.jsx(qa,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Upload CSV File"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Select a CSV file containing vendor information to upload."}),s.jsxs("div",{className:"flex justify-center gap-2",children:[s.jsx(F,{onClick:()=>{var U;return(U=P.current)==null?void 0:U.click()},disabled:N,className:"bg-primary hover:bg-primary/90",children:N?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(qa,{className:"h-4 w-4 mr-2"}),"Select CSV File"]})}),s.jsxs(F,{variant:"outline",onClick:ce,children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Download Sample"]})]}),s.jsx("input",{ref:P,type:"file",accept:".csv",onChange:L,className:"hidden"})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsx(pe,{className:"text-sm",children:"Required CSV Columns"})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{children:"• Vendor Name"}),s.jsx("div",{children:"• Website"}),s.jsx("div",{children:"• HQ (if known)"}),s.jsx("div",{children:"• Solution Category / Tags"}),s.jsx("div",{children:"• AI Capabilities (short)"}),s.jsx("div",{children:"• Compliance & Trust Signals"}),s.jsx("div",{children:"• Data Coverage"}),s.jsx("div",{children:"• Solution Description"}),s.jsx("div",{children:"• Maturity Assessment"}),s.jsx("div",{children:"• Benefits Snapshot"}),s.jsx("div",{children:"• Contact (email or page)"})]})})]})]})}),s.jsx(pn,{className:"flex-shrink-0",children:S?s.jsx(F,{onClick:()=>{C(null),w(!1)},children:"Close"}):s.jsx(F,{variant:"outline",onClick:()=>w(!1),children:"Cancel"})})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-end",children:s.jsxs(Jt,{open:m,onOpenChange:h,children:[s.jsx(bv,{asChild:!0,children:s.jsxs(F,{className:"bg-primary hover:bg-primary/90",children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Add Vendor"]})}),s.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs(Yt,{className:"flex-shrink-0",children:[s.jsx(Xt,{children:"Add New Vendor"}),s.jsx(Qt,{children:"Enter vendor details to add them to the marketplace"})]}),s.jsx("div",{className:"overflow-y-auto flex-1 -mx-6 px-6",children:s.jsx(P5,{formData:D,onFormDataChange:J})}),s.jsxs(pn,{className:"flex-shrink-0",children:[s.jsx(F,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),s.jsx(F,{onClick:_,children:"Add Vendor"})]})]})]})}),s.jsx(K,{children:s.jsx(de,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search vendors...",value:c,onChange:U=>u(U.target.value),className:"pl-10"})]}),s.jsxs(vt,{value:d,onValueChange:f,children:[s.jsx(gt,{className:"w-[180px]",children:s.jsx(bt,{placeholder:"Filter by tag"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Tags"}),s.jsx(ue,{value:"SOC 2",children:"SOC 2"}),s.jsx(ue,{value:"ISO 27001",children:"ISO 27001"}),s.jsx(ue,{value:"HIPAA",children:"HIPAA"}),s.jsx(ue,{value:"GDPR",children:"GDPR"}),s.jsx(ue,{value:"CCPA",children:"CCPA"})]})]}),s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(zl,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})})}),s.jsx(K,{children:s.jsx(X,{className:"p-0",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Vendor"}),s.jsx(ze,{children:"Categories"}),s.jsx(ze,{children:"Contact"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:r?Array.from({length:5}).map((U,re)=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded animate-pulse w-3/4"})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-16"}),s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-12"})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-32"}),s.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-800 rounded animate-pulse w-24"})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-20"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded animate-pulse w-8"})]})})]},`loading-${re}`)):V.length>0?V.map(U=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:U.companyName}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:U.description})]})}),s.jsx(Ee,{children:s.jsx("div",{className:"flex flex-wrap gap-1",children:U.categories.map(re=>s.jsx(le,{variant:"outline",className:"text-xs",children:re},re))})}),s.jsx(Ee,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:U.contactEmail}),U.contactPhone&&s.jsx("p",{className:"text-muted-foreground",children:U.contactPhone})]})}),s.jsx(Ee,{className:"text-right",children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsxs(F,{variant:"outline",size:"sm",onClick:()=>{k(U),I(!0)},"data-testid":`button-view-details-${U.id}`,children:[s.jsx(Ws,{className:"h-4 w-4 mr-2"}),"View Details"]}),s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsxs(F,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(gu,{className:"h-4 w-4"})]})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsxs(yn,{onClick:()=>z(U),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit Vendor"]}),s.jsx(Gl,{}),s.jsxs(yn,{className:"text-red-500",onClick:()=>ie(U.id),children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]},U.id)):s.jsx(Dt,{children:s.jsx(Ee,{colSpan:4,className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[s.jsx(Bl,{className:"h-8 w-8"}),s.jsx("p",{children:"No vendors found"}),s.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]})})})})]})})}),s.jsx(Jt,{open:!!g,onOpenChange:()=>p(null),children:s.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs(Yt,{className:"flex-shrink-0",children:[s.jsx(Xt,{children:"Edit Vendor"}),s.jsx(Qt,{children:"Update vendor details"})]}),s.jsx("div",{ref:A,className:"overflow-y-auto flex-1 -mx-6 px-6",onScroll:U=>{T.current=U.target.scrollTop},children:s.jsx(P5,{formData:D,onFormDataChange:J})}),s.jsxs(pn,{className:"flex-shrink-0",children:[s.jsx(F,{variant:"outline",onClick:()=>p(null),children:"Cancel"}),s.jsx(F,{onClick:Y,children:"Update Vendor"})]})]})}),s.jsx(Jt,{open:R,onOpenChange:I,children:s.jsxs(Gt,{className:"max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs(Yt,{className:"flex-shrink-0 border-b pb-4",children:[s.jsxs(Xt,{className:"text-2xl flex items-center gap-3",children:[s.jsx(Bl,{className:"h-6 w-6 text-primary"}),"Vendor Details"]}),s.jsxs(Qt,{children:["Complete information for ",E==null?void 0:E.companyName]})]}),E&&s.jsxs("div",{className:"overflow-y-auto flex-1 py-6 space-y-6",children:[s.jsx(K,{className:"bg-gradient-to-br from-primary/5 to-primary/10",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[E.logo&&s.jsx("img",{src:E.logo,alt:E.companyName,className:"w-20 h-20 rounded-lg object-cover border-2 border-primary/20"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-2xl font-bold",children:E.companyName}),s.jsxs("div",{className:"flex gap-2",children:[E.featured&&s.jsx(le,{variant:"default",className:"bg-gradient-to-r from-yellow-500 to-orange-500",children:"⭐ Featured"}),E.verified&&s.jsxs(le,{variant:"secondary",className:"bg-green-500/20 text-green-600",children:[s.jsx(at,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]}),s.jsx("p",{className:"text-lg text-muted-foreground mb-3",children:E.shortDescription}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[E.website&&s.jsxs("a",{href:E.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-primary hover:underline",children:[s.jsx(fa,{className:"h-4 w-4"}),"Visit Website"]}),E.rating&&E.rating>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-500",children:"⭐"}),s.jsx("span",{className:"font-medium",children:E.rating.toFixed(1)}),s.jsxs("span",{className:"text-muted-foreground",children:["(",E.reviewCount," reviews)"]})]})]})]})]})})}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"h-4 w-4"}),"Solution Categories"]})}),s.jsx(X,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:E.categories&&E.categories.length>0?E.categories.map(U=>s.jsx(le,{variant:"outline",className:"px-3 py-1 text-sm",children:U.replace(/_/g," ")},U)):s.jsx("p",{className:"text-muted-foreground",children:"No categories specified"})})})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4"}),"Full Description"]})}),s.jsx(X,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:E.description||"No description available"})}),E.aiCapabilities&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"AI Capabilities"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.aiCapabilities})]}),E.deploymentOptions&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Deployment Options"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.deploymentOptions})]}),E.integrations&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Integrations"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.integrations})]}),E.awards&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Awards & Trust Signals"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.awards})]}),E.customerSegments&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Customer Segments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:E.customerSegments})]})]})})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Si,{className:"h-4 w-4"}),"Contact Information"]})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Primary Contact"}),s.jsxs("div",{className:"space-y-1",children:[E.contactName&&s.jsx("p",{className:"font-medium",children:E.contactName}),s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(Si,{className:"h-3 w-3"}),E.contactEmail]}),E.contactPhone&&s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(dA,{className:"h-3 w-3"}),E.contactPhone]})]})]})}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sales Contact"}),s.jsx("div",{className:"space-y-1",children:E.salesEmail&&s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(Si,{className:"h-3 w-3"}),E.salesEmail]})})]})})]})})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-4 w-4"}),"Additional Information"]})}),s.jsx(X,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Created Date"}),s.jsx("p",{children:E.createdAt?new Date(E.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Last Updated"}),s.jsx("p",{children:E.updatedAt?new Date(E.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]}),E.approvedAt&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Approved Date"}),s.jsx("p",{children:new Date(E.approvedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),E.approvedBy&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Approved By"}),s.jsx("p",{children:E.approvedBy})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Vendor ID"}),s.jsx("p",{className:"font-mono text-xs",children:E.id})]}),E.userId&&s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"User ID"}),s.jsx("p",{className:"font-mono text-xs",children:E.userId})]})]})})]})]}),s.jsxs(pn,{className:"flex-shrink-0 border-t pt-4",children:[s.jsxs(F,{variant:"outline",onClick:()=>{z(E),I(!1)},children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit Vendor"]}),s.jsx(F,{onClick:()=>I(!1),children:"Close"})]})]})})]})]}),s.jsx(mE,{open:x.isOpen,onOpenChange:U=>!U&&ge(),children:s.jsxs(Kb,{"data-testid":"dialog-delete-confirmation",children:[s.jsxs(Gb,{children:[s.jsx(Xb,{children:"Delete Vendor"}),s.jsxs(Qb,{children:["Are you sure you want to delete ",s.jsx("strong",{children:x.vendorName}),"? This action cannot be undone and will permanently remove the vendor from the system."]})]}),s.jsxs(Yb,{children:[s.jsx(Jb,{onClick:ge,"data-testid":"button-cancel-delete",disabled:Q.isPending,children:"Cancel"}),s.jsx(Zb,{onClick:ae,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-delete",disabled:Q.isPending,children:Q.isPending?"Deleting...":"Delete Vendor"})]})]})})]})},d8e=eE,f8e=tE,hG=y.forwardRef(({className:e,...t},n)=>s.jsx($g,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));hG.displayName=$g.displayName;const m8e=Xf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),pG=y.forwardRef(({side:e="right",className:t,children:n,...r},a)=>s.jsxs(f8e,{children:[s.jsx(hG,{}),s.jsxs(Lg,{ref:a,className:se(m8e({side:e}),t),...r,children:[n,s.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(kr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pG.displayName=Lg.displayName;const gG=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});gG.displayName="SheetHeader";const xG=y.forwardRef(({className:e,...t},n)=>s.jsx(Fg,{ref:n,className:se("text-lg font-semibold text-foreground",e),...t}));xG.displayName=Fg.displayName;const yG=y.forwardRef(({className:e,...t},n)=>s.jsx(Bg,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));yG.displayName=Bg.displayName;function h8e({user:e,open:t,onOpenChange:n}){const r=wt(),{register:a,handleSubmit:i,reset:o,formState:{errors:l}}=Fi(),{data:c,isLoading:u}=$e({queryKey:["admin","credits",e==null?void 0:e.id],queryFn:async()=>{if(!(e!=null&&e.id))return null;const v=await fetch(`/v1/admin/users/${e.id}/credits`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!v.ok)throw new Error("Failed to fetch credit history");return v.json()},enabled:!!(e!=null&&e.id)&&t}),d=it({mutationFn:async v=>{if(!(e!=null&&e.id))throw new Error("No user selected");const b=await fetch(`/v1/admin/users/${e.id}/credits`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({amount:parseInt(v.amount),reason:v.reason})});if(!b.ok){const w=await b.json();throw new Error(w.message||"Failed to grant credits")}return b.json()},onSuccess:()=>{Ae({title:"Credits Granted",description:"Credits have been successfully added to the user account."}),r.invalidateQueries({queryKey:["admin","credits",e==null?void 0:e.id]}),r.invalidateQueries({queryKey:["admin","users"]}),o()},onError:v=>{Ae({title:"Failed to Grant Credits",description:v.message,variant:"destructive"})}}),f=v=>{d.mutate(v)},m=v=>new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=v=>{switch(v){case"GRANT":case"PURCHASE":case"ALLOCATION":return s.jsx(nZ,{className:"h-4 w-4 text-green-400"});case"DEDUCTION":case"USAGE":return s.jsx(tZ,{className:"h-4 w-4 text-red-400"});default:return s.jsx(nv,{className:"h-4 w-4 text-gray-400"})}},g=v=>{switch(v){case"GRANT":return"default";case"PURCHASE":return"secondary";case"ALLOCATION":return"outline";case"DEDUCTION":case"USAGE":return"destructive";default:return"secondary"}};if(!e)return null;const p=(c==null?void 0:c.data)||[],x=p.length>0?p[0].balance:0;return s.jsx(d8e,{open:t,onOpenChange:n,children:s.jsxs(pG,{className:"sm:max-w-[600px] overflow-y-auto",children:[s.jsxs(gG,{children:[s.jsxs(xG,{className:"flex items-center gap-2",children:[s.jsx(nv,{className:"h-5 w-5 text-yellow-400"}),"Manage Credits"]}),s.jsxs(yG,{children:[e.firstName," ",e.lastName," (",e.email,")"]})]}),s.jsxs("div",{className:"mt-6 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-cyan-900/20 to-purple-900/20 border border-cyan-800/50 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Current Credit Balance"}),s.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:x})]})}),s.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"amount",children:"Amount (credits)"}),s.jsx(ye,{id:"amount",type:"number",min:"1",placeholder:"Enter amount",...a("amount",{required:"Amount is required",min:{value:1,message:"Amount must be at least 1"}})}),l.amount&&s.jsx("p",{className:"text-sm text-red-400",children:l.amount.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"reason",children:"Reason"}),s.jsx(vn,{id:"reason",placeholder:"Enter reason for granting credits",rows:3,...a("reason",{required:"Reason is required",minLength:{value:1,message:"Reason cannot be empty"}})}),l.reason&&s.jsx("p",{className:"text-sm text-red-400",children:l.reason.message})]}),s.jsx(F,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?"Granting...":"Grant Credits"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[s.jsx(cr,{className:"h-4 w-4"}),"Transaction History (Last 10)"]}),u?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading history..."}):p.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No transactions yet"}):s.jsx("div",{className:"border border-gray-800 rounded-lg overflow-hidden",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Date"}),s.jsx(ze,{children:"Type"}),s.jsx(ze,{className:"text-right",children:"Amount"}),s.jsx(ze,{className:"text-right",children:"Balance"})]})}),s.jsx(ni,{children:p.slice(0,10).map(v=>s.jsxs(Dt,{children:[s.jsx(Ee,{className:"text-xs",children:m(v.createdAt)}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[h(v.type),s.jsx(le,{variant:g(v.type),children:v.type})]})}),s.jsx(Ee,{className:"text-right font-mono",children:s.jsxs("span",{className:v.amount>0?"text-green-400":"text-red-400",children:[v.amount>0?"+":"",v.amount]})}),s.jsx(Ee,{className:"text-right font-mono font-semibold",children:v.balance})]},v.id))})]})})]}),p.length>0&&s.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[s.jsxs("p",{children:["Last updated: ",m(p[0].createdAt)]}),s.jsxs("p",{children:["Showing ",Math.min(10,p.length)," of ",p.length," total transactions"]})]})]})]})})}const p8e=async e=>{const t=new URLSearchParams;e.page&&t.set("page",e.page.toString()),e.limit&&t.set("limit",e.limit.toString()),e.role&&e.role!=="all"&&t.set("role",e.role),e.status&&e.status!=="all"&&t.set("status",e.status),e.search&&t.set("search",e.search);const n=await fetch(`/v1/admin/users?${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to fetch users");return n.json()},g8e=async(e,t)=>{const n=await fetch(`/v1/admin/users/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({firstName:t.firstName,lastName:t.lastName,email:t.email,role:t.role,status:t.status})});if(!n.ok)throw new Error("Failed to update user");return(await n.json()).data},x8e=async e=>{if(!(await fetch(`/v1/admin/users/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete user")},y8e=async e=>{if(!(await fetch(`/v1/admin/users/${e}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to send password reset")},v8e=()=>{var B,V;const e=wt(),[t,n]=y.useState(1),[r,a]=y.useState(""),[i,o]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState(null),[p,x]=y.useState(null),{data:v,isLoading:b,error:w}=$e({queryKey:["admin-users",t,r,i,l],queryFn:()=>p8e({page:t,limit:20,role:i,status:l,search:r||void 0})}),N=it({mutationFn:O=>g8e(O.userId,O.userData),onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),d(null)}}),j=it({mutationFn:x8e,onSuccess:()=>{e.invalidateQueries({queryKey:["admin-users"]}),g(null)}}),S=it({mutationFn:y8e,onSuccess:()=>{m(null)}}),C=(v==null?void 0:v.data)||[],P=((B=v==null?void 0:v.pagination)==null?void 0:B.total)||0,A=O=>{d(O)},T=()=>{u&&N.mutate({userId:u.id,userData:u})},E=O=>{j.mutate(O.id)},k=O=>{S.mutate(O.id)},R=O=>{const _=O.status==="SUSPENDED"?"ACTIVE":"SUSPENDED";N.mutate({userId:O.id,userData:{...O,status:_}})},I=O=>{switch(O){case"ADMIN":return"bg-red-500/20 text-red-500";case"VENDOR":return"bg-purple-500/20 text-purple-500";default:return"bg-blue-500/20 text-blue-500"}},D=O=>{switch(O){case"ACTIVE":return s.jsx(at,{className:"h-3 w-3 text-green-500"});case"SUSPENDED":return s.jsx(sS,{className:"h-3 w-3 text-red-500"});default:return s.jsx(cr,{className:"h-3 w-3 text-yellow-500"})}};return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"User Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage user accounts, permissions, and access control"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Export Users"]}),s.jsxs(F,{className:"bg-primary hover:bg-primary/90",children:[s.jsx(SZ,{className:"h-4 w-4 mr-2"}),"Invite User"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Total Users"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:b?"...":P}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All registered accounts"})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Active Users"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:b?"...":C.filter(O=>O.status==="ACTIVE").length}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(Tl,{className:"h-3 w-3"}),"Available for login"]})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Verified"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:b?"...":C.filter(O=>O.emailVerified).length}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[b?"...":C.filter(O=>!O.emailVerified).length," pending verification"]})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Roles"})}),s.jsx(X,{children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsxs(le,{variant:"secondary",children:[b?"...":C.filter(O=>O.role==="ADMIN").length," Admin"]}),s.jsxs(le,{variant:"secondary",children:[b?"...":C.filter(O=>O.role==="USER").length," Users"]}),s.jsxs(le,{variant:"secondary",children:[b?"...":C.filter(O=>O.role==="VENDOR").length," Vendors"]})]})})]})]}),s.jsx(K,{children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-sm",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search users...",value:r,onChange:O=>a(O.target.value),className:"pl-10"})]}),s.jsxs(vt,{value:i,onValueChange:o,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{placeholder:"All Roles"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Roles"}),s.jsx(ue,{value:"ADMIN",children:"Admin"}),s.jsx(ue,{value:"USER",children:"User"}),s.jsx(ue,{value:"VENDOR",children:"Vendor"})]})]}),s.jsxs(vt,{value:l,onValueChange:c,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{placeholder:"All Status"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Status"}),s.jsx(ue,{value:"ACTIVE",children:"Active"}),s.jsx(ue,{value:"SUSPENDED",children:"Suspended"}),s.jsx(ue,{value:"DELETED",children:"Deleted"})]})]})]})})}),s.jsx(K,{children:s.jsx(X,{className:"p-0",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"User"}),s.jsx(ze,{children:"Role"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Organization"}),s.jsx(ze,{children:"Plan"}),s.jsx(ze,{children:"Credits"}),s.jsx(ze,{children:"Last Login"}),s.jsx(ze,{children:"Joined"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:b?Array.from({length:5}).map((O,_)=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-muted animate-pulse"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-4 w-32 bg-muted animate-pulse rounded"}),s.jsx("div",{className:"h-3 w-24 bg-muted animate-pulse rounded"})]})]})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-6 w-16 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-4 w-24 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-4 w-20 bg-muted animate-pulse rounded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"h-8 w-8 bg-muted animate-pulse rounded"})})]},_)):w?s.jsx(Dt,{children:s.jsx(Ee,{colSpan:9,className:"text-center py-8",children:s.jsxs("div",{className:"text-red-500",children:["Failed to load users: ",w.message]})})}):C.length===0?s.jsx(Dt,{children:s.jsx(Ee,{colSpan:9,className:"text-center py-8",children:s.jsx("div",{className:"text-muted-foreground",children:"No users found"})})}):C.map(O=>{var _,z,ne;return s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-medium",children:[O.firstName[0],O.lastName[0]]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[O.firstName," ",O.lastName]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Si,{className:"h-3 w-3"}),O.email,!O.emailVerified&&s.jsx(Pt,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),s.jsx(Ee,{children:s.jsxs(le,{className:I(O.role),children:[s.jsx(tn,{className:"h-3 w-3 mr-1"}),O.role]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[D(O.status),s.jsx("span",{className:"capitalize",children:O.status})]})}),s.jsx(Ee,{children:((_=O.organization)==null?void 0:_.name)||"-"}),s.jsx(Ee,{children:((z=O.subscription)==null?void 0:z.plan)||(O.role==="VENDOR"?"-":"FREE")}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(nv,{className:"h-3 w-3 text-yellow-500"}),((ne=O.subscription)==null?void 0:ne.creditsBalance)??0]})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-sm",children:O.lastLogin?new Date(O.lastLogin).toLocaleDateString():"Never"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(_i,{className:"h-3 w-3"}),new Date(O.createdAt).toLocaleDateString()]})}),s.jsx(Ee,{className:"text-right",children:s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsxs(F,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(gu,{className:"h-4 w-4"})]})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsxs(yn,{onClick:()=>A(O),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit User"]}),s.jsxs(yn,{onClick:()=>x(O),children:[s.jsx(nv,{className:"h-4 w-4 mr-2"}),"Manage Credits"]}),s.jsxs(yn,{onClick:()=>m(O),children:[s.jsx(lZ,{className:"h-4 w-4 mr-2"}),"Reset Password"]}),s.jsxs(yn,{onClick:()=>R(O),children:[s.jsx(sS,{className:"h-4 w-4 mr-2"}),O.status==="SUSPENDED"?"Activate":"Suspend"]}),s.jsx(Gl,{}),s.jsxs(yn,{className:"text-red-500",onClick:()=>g(O),children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Delete User"]})]})]})})]},O.id)})})]})})}),s.jsx(Jt,{open:!!u,onOpenChange:()=>d(null),children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Edit User"}),s.jsx(Qt,{children:"Update user details and permissions"})]}),u&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"First Name"}),s.jsx(ye,{value:u.firstName,onChange:O=>d({...u,firstName:O.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Last Name"}),s.jsx(ye,{value:u.lastName,onChange:O=>d({...u,lastName:O.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Email"}),s.jsx(ye,{type:"email",value:u.email,onChange:O=>d({...u,email:O.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Role"}),s.jsxs(vt,{value:u.role,onValueChange:O=>d({...u,role:O}),children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"ADMIN",children:"Admin"}),s.jsx(ue,{value:"USER",children:"User"}),s.jsx(ue,{value:"VENDOR",children:"Vendor"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Status"}),s.jsxs(vt,{value:u.status,onValueChange:O=>d({...u,status:O}),children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"ACTIVE",children:"Active"}),s.jsx(ue,{value:"SUSPENDED",children:"Suspended"}),s.jsx(ue,{value:"DELETED",children:"Deleted"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Organization"}),s.jsx(ye,{value:((V=u.organization)==null?void 0:V.name)||"",onChange:O=>d({...u,organization:u.organization?{...u.organization,name:O.target.value}:{id:"",name:O.target.value,verified:!1}})})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>d(null),disabled:N.isPending,children:"Cancel"}),s.jsx(F,{onClick:T,disabled:N.isPending,children:N.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(Jt,{open:!!f,onOpenChange:()=>m(null),children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Reset Password"}),s.jsx(Qt,{children:"Send a password reset link to the user"})]}),f&&s.jsxs(Ft,{children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs(Bt,{children:["A password reset link will be sent to ",s.jsx("strong",{children:f.email}),". The user will need to click the link to set a new password."]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>m(null),disabled:S.isPending,children:"Cancel"}),s.jsx(F,{onClick:()=>k(f),disabled:S.isPending,children:S.isPending?"Sending...":"Send Reset Link"})]})]})}),s.jsx(Jt,{open:!!h,onOpenChange:()=>g(null),children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Delete User"}),s.jsx(Qt,{children:"This action cannot be undone"})]}),h&&s.jsxs(Ft,{variant:"destructive",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs(Bt,{children:["You are about to permanently delete the user account for"," ",s.jsx("strong",{children:h.email}),". All associated data will be lost."]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>g(null),disabled:j.isPending,children:"Cancel"}),s.jsx(F,{variant:"destructive",onClick:()=>E(h),disabled:j.isPending,children:j.isPending?"Deleting...":"Delete User"})]})]})}),s.jsx(h8e,{user:p,open:!!p,onOpenChange:O=>!O&&x(null)})]})})};var pj="Switch",[b8e,T9e]=Zn(pj),[w8e,j8e]=b8e(pj),vG=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=y.useState(null),g=Ke(t,w=>h(w)),p=y.useRef(!1),x=m?d||!!m.closest("form"):!0,[v,b]=zs({prop:a,defaultProp:i??!1,onChange:u,caller:pj});return s.jsxs(w8e,{scope:n,checked:v,disabled:l,children:[s.jsx(Te.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":NG(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:be(e.onClick,w=>{b(N=>!N),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&s.jsx(jG,{control:m,bubbles:!p.current,name:r,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});vG.displayName=pj;var bG="SwitchThumb",wG=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=j8e(bG,n);return s.jsx(Te.span,{"data-state":NG(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});wG.displayName=bG;var N8e="SwitchBubbleInput",jG=y.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=Ug(n),u=_g(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const g=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(g)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jG.displayName=N8e;function NG(e){return e?"checked":"unchecked"}var SG=vG,S8e=wG;const po=y.forwardRef(({className:e,...t},n)=>s.jsx(SG,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(S8e,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));po.displayName=SG.displayName;const bn={all:["adminTemplates"],lists:()=>[...bn.all,"list"],list:e=>[...bn.lists(),{filters:e}],details:()=>[...bn.all,"detail"],detail:e=>[...bn.details(),e],stats:()=>[...bn.all,"stats"]};function C8e(){return $e({queryKey:bn.lists(),queryFn:async()=>(await si.getTemplates()).data,staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!0})}function P8e(){return $e({queryKey:bn.stats(),queryFn:async()=>(await si.getTemplateStats()).data,staleTime:5*60*1e3})}function A8e(){const e=wt();return it({mutationFn:t=>si.createTemplate(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.lists()}),Vt.success("Template created successfully")},onError:t=>{const n=t.code==="SLUG_EXISTS"?"Template slug already exists. Please choose a different slug.":`Failed to create template: ${t.message||"Unknown error"}`;Vt.error(n)}})}function E8e(){const e=wt();return it({mutationFn:({id:t,data:n})=>si.updateTemplate(t,n),onMutate:async({id:t,data:n})=>{await e.cancelQueries({queryKey:bn.lists()});const r=e.getQueryData(bn.lists());return e.setQueryData(bn.lists(),a=>a&&(Array.isArray(a)?a.map(i=>i.id===t?{...i,...n}:i):a)),{previousTemplates:r}},onError:(t,n,r)=>{r!=null&&r.previousTemplates&&e.setQueryData(bn.lists(),r.previousTemplates),Vt.error(`Failed to update template: ${t.message||"Unknown error"}`)},onSuccess:()=>{e.invalidateQueries({queryKey:bn.lists()}),Vt.success("Template updated successfully")}})}function k8e(){const e=wt();return it({mutationFn:t=>si.deleteTemplate(t),onMutate:async t=>{await e.cancelQueries({queryKey:bn.lists()});const n=e.getQueryData(bn.lists());return e.setQueryData(bn.lists(),r=>r&&(Array.isArray(r)?r.filter(a=>a.id!==t):r)),{previousTemplates:n}},onError:(t,n,r)=>{var i;r!=null&&r.previousTemplates&&e.setQueryData(bn.lists(),r.previousTemplates);const a=t.code==="TEMPLATE_IN_USE"?`Cannot delete template: ${((i=t.metadata)==null?void 0:i.assessmentCount)||"some"} assessments are using it`:`Failed to delete template: ${t.message||"Unknown error"}`;Vt.error(a)},onSuccess:()=>{e.invalidateQueries({queryKey:bn.lists()}),Vt.success("Template deleted successfully")}})}function T8e(){const e=wt();return it({mutationFn:({templateId:t,data:n})=>si.createSection(t,n),onSuccess:(t,n)=>{e.invalidateQueries({queryKey:bn.detail(n.templateId)}),Vt.success("Section created successfully")},onError:t=>{Vt.error(`Failed to create section: ${t.message||"Unknown error"}`)}})}function O8e(){const e=wt();return it({mutationFn:({id:t,data:n})=>si.updateSection(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:bn.all}),Vt.success("Section updated successfully")},onError:t=>{const n=t.code==="TEMPLATE_INACTIVE"?"Cannot modify inactive template":`Failed to update section: ${t.message||"Unknown error"}`;Vt.error(n)}})}function _8e(){const e=wt();return it({mutationFn:t=>si.deleteSection(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.all}),Vt.success("Section deleted successfully")},onError:t=>{Vt.error(`Failed to delete section: ${t.message||"Unknown error"}`)}})}function R8e(){const e=wt();return it({mutationFn:({sectionId:t,data:n})=>si.createQuestion(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:bn.all}),Vt.success("Question created successfully")},onError:t=>{Vt.error(`Failed to create question: ${t.message||"Unknown error"}`)}})}function M8e(){const e=wt();return it({mutationFn:({id:t,data:n})=>si.updateQuestion(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:bn.all}),Vt.success("Question updated successfully")},onError:t=>{const n=t.code==="TEMPLATE_INACTIVE"?"Cannot modify inactive template":`Failed to update question: ${t.message||"Unknown error"}`;Vt.error(n)}})}function I8e(){const e=wt();return it({mutationFn:t=>si.deleteQuestion(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.all}),Vt.success("Question deleted successfully")},onError:t=>{Vt.error(`Failed to delete question: ${t.message||"Unknown error"}`)}})}const D8e=()=>{var U,re,me,Fe,ut,mt,q,ee;const{data:e=[],isLoading:t,error:n}=C8e(),{data:r,isLoading:a}=P8e(),i=A8e(),o=E8e(),l=k8e(),c=T8e(),u=O8e(),d=_8e(),f=R8e(),m=M8e(),h=I8e(),[g,p]=y.useState(null),[x,v]=y.useState(null),[b,w]=y.useState(null),[N,j]=y.useState(null),[S,C]=y.useState([]),[P,A]=y.useState(new Map),[T,E]=y.useState(new Set),[k,R]=y.useState(!1),[I,D]=y.useState(!1),[B,V]=y.useState(!1),O=W=>{C(oe=>oe.includes(W)?oe.filter(fe=>fe!==W):[...oe,W])},_=()=>{v({id:Date.now().toString(),name:"",description:"",framework:"",status:"draft",sections:[],aiEnabled:!1,creditCost:50,createdDate:new Date().toISOString().split("T")[0],lastModified:new Date().toISOString().split("T")[0],usageCount:0}),R(!0)},z=W=>{v(W),R(!0)},ne=W=>{p(W),w({id:Date.now().toString(),name:"",description:"",order:W.sections.length+1,questions:[],weight:1}),D(!0)},Y=(W,oe)=>{p(W),w(oe),j({id:Date.now().toString(),question:"",type:"text",required:!0,aiPrompt:"",order:oe.questions.length+1,weight:1}),V(!0)},Q=(W,oe,fe)=>{p(W),w(oe),j(fe),V(!0)},ie=W=>{confirm("Are you sure you want to delete this template? This action cannot be undone.")&&l.mutate(W)},ae=(W,oe)=>{confirm("Are you sure you want to delete this section and all its questions?")&&d.mutate(oe)},ge=(W,oe,fe)=>{confirm("Are you sure you want to delete this question?")&&h.mutate(fe)},$=(W,oe)=>P.get(W)??oe,J=(W,oe,fe)=>{const xe=W.sections;if(xe.length<=1)return;const we=1-fe,Re=xe.length-1,Me=we/Re;A(et=>{const Ln=new Map(et);for(const Zt of xe){const Kr=Zt.id===oe?fe:Me;Ln.set(Zt.id,Math.max(.01,Math.min(.99,Kr)))}return Ln}),E(et=>new Set(et).add(oe))},Z=(W,oe,fe)=>{const xe=W.questions;if(xe.length<=1)return;const we=1-fe,Re=xe.length-1,Me=we/Re;A(et=>{const Ln=new Map(et);for(const Zt of xe){const Kr=Zt.id===oe?fe:Me;Ln.set(Zt.id,Math.max(.01,Math.min(.99,Kr)))}return Ln}),E(et=>new Set(et).add(W.id))},L=async(W,oe)=>{const fe=[],xe=P.get(oe.id);xe!==void 0&&fe.push(u.mutateAsync({id:oe.id,data:{weight:xe}}));for(const we of oe.questions){const Re=P.get(we.id);Re!==void 0&&fe.push(m.mutateAsync({id:we.id,data:{weight:Re}}))}if(fe.length>0)try{await Promise.all(fe),A(we=>{const Re=new Map(we);return Re.delete(oe.id),oe.questions.forEach(Me=>Re.delete(Me.id)),Re}),E(we=>{const Re=new Set(we);return Re.delete(oe.id),Re})}catch(we){console.error("Failed to save weights:",we)}},ce=W=>{A(oe=>{const fe=new Map(oe);return fe.delete(W.id),W.questions.forEach(xe=>fe.delete(xe.id)),fe}),E(oe=>{const fe=new Set(oe);return fe.delete(W.id),fe})},H=W=>{let oe=0;return P.has(W.id)&&oe++,W.questions.forEach(fe=>{P.has(fe.id)&&oe++}),oe},Se=W=>{switch(W){case"active":return"bg-green-500/20 text-green-500";case"draft":return"bg-yellow-500/20 text-yellow-500";case"archived":return"bg-gray-500/20 text-gray-500";default:return""}};return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Template Management"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Create and manage assessment templates with AI-powered questions"})]}),s.jsxs(F,{className:"bg-primary hover:bg-primary/90",onClick:_,disabled:t,children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}),n&&s.jsx(K,{className:"border-red-500/50 bg-red-500/10",children:s.jsxs(de,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pt,{className:"h-5 w-5 text-red-500"}),s.jsx(pe,{className:"text-red-500",children:"Error Loading Templates"})]}),s.jsx(Ve,{className:"text-red-400",children:"Failed to load templates. Please try refreshing the page."})]})}),t&&s.jsx(K,{children:s.jsx(X,{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading templates..."})]})})}),!t&&!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Total Templates"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":(r==null?void 0:r.totalTemplates)||e.length}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(r==null?void 0:r.activeTemplates)||e.filter(W=>W.status==="active").length," ","active"]})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Total Questions"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":e.reduce((W,oe)=>W+(oe.sections||[]).reduce((fe,xe)=>fe+(xe.questions||[]).length,0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all templates"})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"AI-Enabled"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":e.filter(W=>W.aiEnabled).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Templates with AI prompts"})]})]}),s.jsxs(K,{children:[s.jsx(de,{className:"pb-2",children:s.jsx(pe,{className:"text-sm font-medium",children:"Total Usage"})}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?"...":e.reduce((W,oe)=>W+(oe.usageCount||0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Assessments completed"})]})]})]}),s.jsx("div",{className:"space-y-4",children:e.map(W=>{const oe=S.includes(W.id);return s.jsxs(K,{className:"overflow-hidden",children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3 flex-1 cursor-pointer",onClick:()=>O(W.id),children:[s.jsx(F,{variant:"ghost",size:"sm",className:"p-0 h-auto",children:oe?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(sc,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ft,{className:"h-4 w-4 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold",children:W.name}),s.jsx(le,{className:Se(W.status),children:W.status}),W.aiEnabled&&s.jsxs(le,{className:"bg-purple-500/20 text-purple-500",children:[s.jsx($t,{className:"h-3 w-3 mr-1"}),"AI-Enabled"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:W.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Framework: ",W.framework]}),s.jsxs("span",{children:[(W.sections||[]).length," sections"]}),s.jsxs("span",{children:[(W.sections||[]).reduce((fe,xe)=>fe+(xe.questions||[]).length,0)," ","questions"]}),s.jsxs("span",{children:[W.creditCost," credits"]}),s.jsxs("span",{children:[W.usageCount||0," uses"]})]})]})]}),s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",children:s.jsx(gu,{className:"h-4 w-4"})})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsxs(yn,{onClick:()=>z(W),children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit Template"]}),s.jsxs(yn,{children:[s.jsx(aZ,{className:"h-4 w-4 mr-2"}),"Duplicate"]}),s.jsx(Gl,{}),s.jsxs(yn,{className:"text-red-500",onClick:()=>ie(W.id),children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})}),oe&&s.jsx(X,{className:"border-t bg-muted/20",children:s.jsxs("div",{className:"space-y-4 pt-4",children:[W.sections.map((fe,xe)=>{const we=H(fe),Re=we>0;return s.jsx("div",{className:"border rounded-lg bg-background",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(uA,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(Tg,{className:"h-4 w-4"}),"Section ",xe+1,": ",fe.name,Re&&s.jsxs(le,{variant:"outline",className:"bg-yellow-500/20 text-yellow-600 border-yellow-500/50",children:[we," unsaved"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:fe.description}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(fe.questions||[]).length," questions"]}),W.sections.length>1&&s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(te,{className:"text-xs",children:"Section Weight"}),s.jsx("span",{className:"text-xs font-medium",children:$(fe.id,fe.weight||1).toFixed(2)})]}),s.jsx(mg,{value:[$(fe.id,fe.weight||1)*100],onValueChange:Me=>J(W,fe.id,Me[0]/100),min:1,max:99,step:1,className:"w-full"})]}),Re&&s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsxs(F,{size:"sm",variant:"default",onClick:()=>L(W,fe),disabled:u.isPending||m.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(at,{className:"h-3 w-3 mr-1"}),"Save Weights"]}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>ce(fe),children:[s.jsx(Io,{className:"h-3 w-3 mr-1"}),"Discard"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(F,{variant:"ghost",size:"sm",onClick:()=>Y(W,fe),children:[s.jsx(Wa,{className:"h-4 w-4 mr-1"}),"Add Question"]}),s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",children:s.jsx(gu,{className:"h-4 w-4"})})}),s.jsxs(Po,{align:"end",children:[s.jsxs(yn,{children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit Section"]}),s.jsxs(yn,{className:"text-red-500",onClick:()=>ae(W.id,fe.id),children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})]}),fe.questions.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:fe.questions.map((Me,et)=>s.jsx("div",{className:"bg-muted/50 p-3 rounded-md",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Q",et+1]}),s.jsx(le,{variant:"outline",className:"text-xs",children:Me.type}),Me.required&&s.jsx(le,{variant:"outline",className:"text-xs",children:"Required"}),Me.aiPrompt&&s.jsxs(le,{className:"bg-purple-500/20 text-purple-500 text-xs",children:[s.jsx($t,{className:"h-3 w-3 mr-1"}),"AI"]}),s.jsxs(le,{variant:"secondary",className:`text-xs ${P.has(Me.id)?"bg-yellow-500/20 text-yellow-600 border-yellow-500/50":""}`,children:["Weight: ",$(Me.id,Me.weight||1).toFixed(2)]})]}),s.jsx("p",{className:"text-sm mt-1",children:Me.question}),fe.questions.length>1&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(te,{className:"text-xs",children:"Weight"}),s.jsx("span",{className:"text-xs font-medium",children:$(Me.id,Me.weight||1).toFixed(2)})]}),s.jsx(mg,{value:[$(Me.id,Me.weight||1)*100],onValueChange:Ln=>Z(fe,Me.id,Ln[0]/100),min:1,max:99,step:1,className:"w-full"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(F,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>Q(W,fe,Me),children:s.jsx(Vr,{className:"h-3 w-3"})}),s.jsx(F,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:()=>ge(W.id,fe.id,Me.id),children:s.jsx(Ol,{className:"h-3 w-3"})})]})]})},Me.id))})]})},fe.id)}),s.jsxs(F,{variant:"outline",className:"w-full",onClick:()=>ne(W),children:[s.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})})]},W.id)})})]}),s.jsx(Jt,{open:k,onOpenChange:R,children:s.jsxs(Gt,{className:"max-w-2xl",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:x&&e.some(W=>W.id===x.id)?"Edit Template":"Create New Template"}),s.jsx(Qt,{children:"Configure the assessment template details"})]}),x&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Template Name"}),s.jsx(ye,{value:x.name,onChange:W=>v({...x,name:W.target.value}),placeholder:"e.g., SOC 2 Readiness Assessment"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Description"}),s.jsx(vn,{value:x.description,onChange:W=>v({...x,description:W.target.value}),placeholder:"Describe what this assessment covers...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Credit Cost"}),s.jsx(ye,{type:"number",value:x.creditCost,onChange:W=>v({...x,creditCost:parseInt(W.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Status"}),s.jsxs(vt,{value:x.status,onValueChange:W=>v({...x,status:W}),children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"draft",children:"Draft"}),s.jsx(ue,{value:"active",children:"Active"}),s.jsx(ue,{value:"archived",children:"Archived"})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($t,{className:"h-5 w-5 text-purple-500"}),s.jsxs("div",{children:[s.jsx(te,{children:"Enable AI Analysis"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow AI-powered insights for responses"})]})]}),s.jsx(po,{checked:x.aiEnabled,onCheckedChange:W=>v({...x,aiEnabled:W})})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),s.jsxs(F,{disabled:i.isPending||o.isPending,onClick:()=>{if(!x)return;e.some(oe=>oe.id===x.id)?o.mutate({id:x.id,data:{name:x.name,description:x.description,category:x.framework||"DATA_PRIVACY",creditCost:x.creditCost,isActive:x.status==="active"}},{onSuccess:()=>{R(!1),v(null)}}):i.mutate({name:x.name,slug:x.name.toLowerCase().replace(/\s+/g,"-"),description:x.description,category:"DATA_PRIVACY",creditCost:x.creditCost,isActive:x.status==="active"},{onSuccess:()=>{R(!1),v(null)}})},children:[i.isPending||o.isPending?"Saving...":e.some(W=>W.id===(x==null?void 0:x.id))?"Update":"Create"," ","Template"]})]})]})}),s.jsx(Jt,{open:I,onOpenChange:D,children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Add Section"}),s.jsxs(Qt,{children:["Create a new section for ",g==null?void 0:g.name]})]}),b&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Section Name"}),s.jsx(ye,{value:b.name,onChange:W=>w({...b,name:W.target.value}),placeholder:"e.g., Security Controls"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Description"}),s.jsx(vn,{value:b.description,onChange:W=>w({...b,description:W.target.value}),placeholder:"What does this section assess?",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"section-weight",children:"Weight (0-100)"}),s.jsx(ye,{id:"section-weight",type:"number",min:"0",max:"100",step:"0.1",value:b.weight||1,onChange:W=>{const oe=parseFloat(W.target.value);!isNaN(oe)&&oe>=0&&oe<=100&&w({...b,weight:oe})},placeholder:"1.0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Importance weight for scoring (higher = more important). Sections should sum to 100."})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),s.jsx(F,{disabled:c.isPending,onClick:()=>{!b||!g||c.mutate({templateId:g.id,data:{title:b.name,description:b.description,order:b.order,weight:b.weight||1}},{onSuccess:()=>{D(!1),w(null),p(null)}})},children:c.isPending?"Adding...":"Add Section"})]})]})}),s.jsx(Jt,{open:B,onOpenChange:V,children:s.jsxs(Gt,{className:"max-w-2xl",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:(U=N==null?void 0:N.id)!=null&&U.startsWith("c")?"Edit Question":"Add Question"}),s.jsxs(Qt,{children:[(re=N==null?void 0:N.id)!=null&&re.startsWith("c")?"Update question in":"Add a question to"," ",b==null?void 0:b.name]})]}),N&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Question Text"}),s.jsx(vn,{value:N.question,onChange:W=>j({...N,question:W.target.value}),placeholder:"Enter your question...",rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Question Type"}),s.jsxs(vt,{value:N.type,onValueChange:W=>j({...N,type:W}),children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"text",children:"Text"}),s.jsx(ue,{value:"boolean",children:"Yes/No"}),s.jsx(ue,{value:"scale",children:"Scale (1-10)"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[s.jsx(po,{checked:N.required,onCheckedChange:W=>j({...N,required:W})}),s.jsxs("div",{children:[s.jsx(te,{children:"Required"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"User must answer this"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"question-weight",children:"Weight (0-100)"}),s.jsx(ye,{id:"question-weight",type:"number",min:"0",max:"100",step:"0.1",value:N.weight||1,onChange:W=>{const oe=parseFloat(W.target.value);!isNaN(oe)&&oe>=0&&oe<=100&&j({...N,weight:oe})},placeholder:"1.0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Importance weight for scoring (higher = more important). Questions should sum to 100."})]}),s.jsxs("div",{className:"space-y-2 p-4 bg-purple-500/10 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(te,{className:"flex items-center gap-2",children:[s.jsx($t,{className:"h-4 w-4 text-purple-500"}),"AI Analysis Prompt (Optional)"]}),s.jsxs("span",{className:`text-xs ${(((me=N.aiPrompt)==null?void 0:me.length)||0)>900?"text-red-500 font-medium":"text-muted-foreground"}`,children:[((Fe=N.aiPrompt)==null?void 0:Fe.length)||0," / 1000"]})]}),s.jsx(vn,{value:N.aiPrompt||"",onChange:W=>j({...N,aiPrompt:W.target.value}),maxLength:1e3,placeholder:"Describe what the AI should analyze about this response...",rows:3}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This prompt will guide the AI in analyzing user responses"}),(((ut=N.aiPrompt)==null?void 0:ut.length)||0)>900&&s.jsxs("p",{className:"text-xs text-red-500",children:["Approaching character limit (",1e3-(((mt=N.aiPrompt)==null?void 0:mt.length)||0)," ","remaining)"]})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),s.jsx(F,{disabled:f.isPending||m.isPending,onClick:()=>{var oe;if(!N||!b)return;((oe=N.id)==null?void 0:oe.startsWith("c"))?m.mutate({id:N.id,data:{text:N.question,type:N.type.toUpperCase(),order:N.order,required:N.required,aiPromptHint:N.aiPrompt,weight:N.weight||1}},{onSuccess:()=>{V(!1),j(null),w(null)}}):f.mutate({sectionId:b.id,data:{text:N.question,type:N.type.toUpperCase(),order:N.order,required:N.required,aiPromptHint:N.aiPrompt,weight:N.weight||1}},{onSuccess:()=>{V(!1),j(null),w(null)}})},children:f.isPending||m.isPending?(q=N==null?void 0:N.id)!=null&&q.startsWith("c")?"Updating...":"Adding...":(ee=N==null?void 0:N.id)!=null&&ee.startsWith("c")?"Update Question":"Add Question"})]})]})})]})})},$8e=()=>{var T,E,k;const[e,t]=y.useState("month"),[n,r]=y.useState("overview"),[a,i]=y.useState(!1),{data:o,isLoading:l,error:c}=$e({queryKey:["revenue-analytics","overview"],queryFn:()=>al.getRevenueAnalytics({view:"overview"}),refetchInterval:5*60*1e3}),{data:u,isLoading:d}=$e({queryKey:["revenue-analytics","trends"],queryFn:()=>al.getRevenueAnalytics({view:"trends"}),refetchInterval:5*60*1e3}),{data:f,isLoading:m}=$e({queryKey:["revenue-analytics","customers"],queryFn:()=>al.getRevenueAnalytics({view:"customers"}),refetchInterval:5*60*1e3}),{data:h,isLoading:g}=$e({queryKey:["revenue-analytics","breakdown"],queryFn:()=>al.getRevenueAnalytics({view:"breakdown"}),refetchInterval:5*60*1e3}),{data:p,isLoading:x}=$e({queryKey:["revenue-analytics","transactions"],queryFn:()=>al.getRevenueTransactions({limit:100}),refetchInterval:5*60*1e3}),v=((T=u==null?void 0:u.trends)==null?void 0:T.map(R=>({month:new Date(R.month+"-01").toLocaleDateString("en-US",{month:"short"}),revenue:R.revenue,mrr:R.mrr,arr:R.arr,invoiceCount:R.invoiceCount})))||[],b=((E=h==null?void 0:h.breakdown)==null?void 0:E.map((R,I)=>({name:`${R.plan} ${R.billingCycle}`,value:R.revenue,color:["#F345B8","#3BE2E9","#939393","#4ade80","#f59e0b"][I%5]})))||[],w=((k=f==null?void 0:f.customers)==null?void 0:k.slice(0,5).map(R=>({name:R.organizationName,revenue:R.revenue,invoiceCount:R.invoiceCount})))||[];if(l||d||m||g||x)return s.jsx(Vs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading revenue analytics..."})]})})});if(c)return s.jsx(Vs,{children:s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-500",children:"Failed to load revenue data"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:c instanceof Error?c.message:"Unknown error"})]})})});const N=(o==null?void 0:o.totalRevenue)||0,j=(o==null?void 0:o.revenueGrowth)||0,S=(o==null?void 0:o.currentMRR)||0,C=(o==null?void 0:o.payingCustomers)||0,P=(o==null?void 0:o.activeSubscriptions)||0,A=()=>{i(!0),setTimeout(()=>{i(!1),console.log("Downloading PDF report...")},2e3)};return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Revenue Reports"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive financial analytics and reporting"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(vt,{value:e,onValueChange:t,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"week",children:"This Week"}),s.jsx(ue,{value:"month",children:"This Month"}),s.jsx(ue,{value:"quarter",children:"This Quarter"}),s.jsx(ue,{value:"year",children:"This Year"}),s.jsx(ue,{value:"all",children:"All Time"})]})]}),s.jsx(F,{className:"bg-primary hover:bg-primary/90",onClick:A,disabled:a,children:a?s.jsx(s.Fragment,{children:"Generating..."}):s.jsxs(s.Fragment,{children:[s.jsx(ft,{className:"h-4 w-4 mr-2"}),"Export PDF"]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(Or,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["€",N.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[j>=0?s.jsxs("span",{className:"text-green-500 inline-flex items-center",children:[s.jsx(rS,{className:"h-3 w-3 mr-1"}),"+",j.toFixed(1),"%"]}):s.jsxs("span",{className:"text-red-500 inline-flex items-center",children:[s.jsx(ZQ,{className:"h-3 w-3 mr-1"}),j.toFixed(1),"%"]})," ","from previous period"]})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"MRR"}),s.jsx(_r,{className:"h-4 w-4 text-primary"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["€",S.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly Recurring Revenue"})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Paying Customers"}),s.jsx(Hr,{className:"h-4 w-4 text-secondary"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:C}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active organizations"})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Tg,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Current billing period"})]})]})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Revenue Trend"}),s.jsx(Ve,{children:"Monthly revenue breakdown by source"})]}),s.jsx(X,{children:s.jsx(ou,{width:"100%",height:350,children:s.jsxs(RH,{data:v,children:[s.jsx(ex,{strokeDasharray:"3 3",stroke:"#333"}),s.jsx(vc,{dataKey:"month",stroke:"#999"}),s.jsx(bc,{stroke:"#999"}),s.jsx(Fr,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelStyle:{color:"#fff"}}),s.jsx(iu,{}),s.jsx(Oi,{type:"monotone",dataKey:"revenue",stroke:"#3BE2E9",strokeWidth:3,dot:{fill:"#3BE2E9"},name:"Total Revenue (€)"}),s.jsx(Oi,{type:"monotone",dataKey:"mrr",stroke:"#F345B8",strokeWidth:2,dot:{fill:"#F345B8"},name:"MRR (€)"}),s.jsx(Oi,{type:"monotone",dataKey:"invoiceCount",stroke:"#4ade80",strokeWidth:2,dot:{fill:"#4ade80"},name:"Invoice Count"})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Revenue by Product"}),s.jsx(Ve,{children:"Distribution across different offerings"})]}),s.jsxs(X,{children:[s.jsx(ou,{width:"100%",height:250,children:s.jsxs(IH,{children:[s.jsx(Ui,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:5,dataKey:"value",children:b.map((R,I)=>s.jsx(hc,{fill:R.color},`cell-${I}`))}),s.jsx(Fr,{contentStyle:{backgroundColor:"#1a1a1a",border:"1px solid #333"},labelStyle:{color:"#fff"}})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:b.map(R=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:R.color}}),s.jsx("span",{className:"text-sm",children:R.name})]}),s.jsxs("span",{className:"text-sm font-medium",children:["$",R.value.toLocaleString()]})]},R.name))})]})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Top Customers"}),s.jsx(Ve,{children:"Highest revenue generating organizations"})]}),s.jsx(X,{children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Customer"}),s.jsx(ze,{className:"text-right",children:"Revenue"}),s.jsx(ze,{className:"text-right",children:"Invoices"})]})}),s.jsx(ni,{children:w.length>0?w.map((R,I)=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-muted-foreground",children:I+1}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:R.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.invoiceCount," invoices"]})]})]})}),s.jsxs(Ee,{className:"text-right font-medium",children:["€",R.revenue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx(Ee,{className:"text-right text-muted-foreground",children:R.invoiceCount})]},R.name)):s.jsx(Dt,{children:s.jsx(Ee,{colSpan:3,className:"text-center text-muted-foreground",children:"No customer data available"})})})]})})]})]}),s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pe,{children:"Detailed Revenue Breakdown"}),s.jsx(Ve,{children:"Transaction-level revenue details"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(vt,{value:n,onValueChange:r,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"overview",children:"Overview"}),s.jsx(ue,{value:"subscriptions",children:"Subscriptions"}),s.jsx(ue,{value:"credits",children:"Credits"}),s.jsx(ue,{value:"assessments",children:"Assessments"})]})]}),s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(zl,{className:"h-4 w-4 mr-2"}),"Filter"]}),s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]})}),s.jsx(X,{className:"p-0",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Date"}),s.jsx(ze,{children:"Organization"}),s.jsx(ze,{children:"Type"}),s.jsx(ze,{children:"Description"}),s.jsx(ze,{className:"text-right",children:"Amount"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:p!=null&&p.transactions&&p.transactions.length>0?p.transactions.map((R,I)=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(_i,{className:"h-3 w-3"}),R.date?new Date(R.date).toLocaleDateString():"N/A"]})}),s.jsx(Ee,{children:R.organization??"Unknown"}),s.jsx(Ee,{children:s.jsx(le,{variant:"outline",className:"capitalize",children:R.type??"N/A"})}),s.jsx(Ee,{children:R.description??"N/A"}),s.jsxs(Ee,{className:"text-right font-medium",children:["€",(R.amount??0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx(Ee,{children:s.jsx(le,{className:R.status==="paid"?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500",children:R.status??"pending"})}),s.jsx(Ee,{className:"text-right",children:s.jsx(F,{variant:"ghost",size:"sm",children:s.jsx(Ws,{className:"h-4 w-4"})})})]},R.id||I)):s.jsx(Dt,{children:s.jsx(Ee,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No transactions found"})})})]})})]})]})})},L8e=()=>{const[e,t]=y.useState([]),[n,r]=y.useState(!0),[a,i]=y.useState(null),[o,l]=y.useState(""),[c,u]=y.useState("all"),[d,f]=y.useState("all"),[m,h]=y.useState(null),[g,p]=y.useState(!1),[x,v]=y.useState("pause"),b=k=>{if(!k)return"-";const R=new Date(k);return isNaN(R.getTime())?"-":R.toISOString().split("T")[0]};y.useEffect(()=>{(async()=>{try{r(!0),i(null);const R=await pre.getSubscriptions();if(R.success&&R.data){const I=R.data.map(D=>({...D,startDate:b(D.startDate),nextBillingDate:b(D.nextBillingDate)}));t(I)}}catch(R){console.error("Failed to fetch subscriptions:",R),i(R.message||"Failed to load subscriptions")}finally{r(!1)}})()},[]);const w=e.filter(k=>{const R=k.organizationName.toLowerCase().includes(o.toLowerCase())||k.organizationId&&k.organizationId.toLowerCase().includes(o.toLowerCase()),I=c==="all"||k.status.toLowerCase()===c.toLowerCase(),D=d==="all"||k.plan.toLowerCase()===d.toLowerCase();return R&&I&&D}),N=e.filter(k=>k.status.toLowerCase()==="active").length,j=e.filter(k=>k.status.toLowerCase()==="active").reduce((k,R)=>k+(R.interval.toLowerCase()==="annual"?R.amount/12:R.amount),0),S=e.filter(k=>k.status.toLowerCase()==="canceled").length,C=N>0?j/N:0,P=(k,R)=>{h(k),v(R),p(!0)},A=()=>{m&&t(e.map(k=>{if(k.id===m.id){if(x==="cancel")return{...k,status:"cancelled"};if(x==="pause")return{...k,status:"paused"};if(x==="resume")return{...k,status:"active"}}return k})),p(!1),h(null)},T=k=>{switch(k){case"enterprise":return"bg-purple-500/20 text-purple-500";case"premium":return"bg-blue-500/20 text-blue-500";case"free":return"bg-gray-500/20 text-gray-500";default:return"bg-gray-500/20 text-gray-500"}},E=k=>{switch(k){case"active":return s.jsx(at,{className:"h-3 w-3 text-green-500"});case"trialing":return s.jsx(at,{className:"h-3 w-3 text-blue-500"});case"canceled":return s.jsx(Io,{className:"h-3 w-3 text-red-500"});case"past_due":return s.jsx(Pt,{className:"h-3 w-3 text-yellow-500"});case"unpaid":return s.jsx(Pt,{className:"h-3 w-3 text-orange-500"});default:return null}};return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Subscriptions"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage active subscriptions and billing"})]})}),a&&s.jsxs(Ft,{variant:"destructive",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Bt,{children:a})]}),n&&s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading subscriptions..."})]}),!n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Active Subscriptions"}),s.jsx(Ul,{className:"h-4 w-4 text-primary"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.jsxs("span",{className:"text-green-500 inline-flex items-center",children:[s.jsx(_r,{className:"h-3 w-3 mr-1"}),"+3"]})," ","this month"]})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"MRR"}),s.jsx(Or,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",j.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly recurring revenue"})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Avg Revenue"}),s.jsx(_r,{className:"h-4 w-4 text-secondary"})]}),s.jsxs(X,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",Math.round(C)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Per subscription"})]})]}),s.jsxs(K,{className:"card-hover",children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Churn"}),s.jsx(xb,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(X,{children:[s.jsx("div",{className:"text-2xl font-bold",children:S}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancelled this month"})]})]})]}),s.jsx(K,{children:s.jsx(de,{children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(ye,{placeholder:"Search organizations...",value:o,onChange:k=>l(k.target.value),className:"pl-10"})]}),s.jsxs(vt,{value:c,onValueChange:u,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{placeholder:"All Status"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Status"}),s.jsx(ue,{value:"active",children:"Active"}),s.jsx(ue,{value:"trialing",children:"Trialing"}),s.jsx(ue,{value:"past_due",children:"Past Due"}),s.jsx(ue,{value:"canceled",children:"Canceled"}),s.jsx(ue,{value:"unpaid",children:"Unpaid"})]})]}),s.jsxs(vt,{value:d,onValueChange:f,children:[s.jsx(gt,{className:"w-[150px]",children:s.jsx(bt,{placeholder:"All Plans"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"all",children:"All Plans"}),s.jsx(ue,{value:"enterprise",children:"Enterprise"}),s.jsx(ue,{value:"premium",children:"Premium"}),s.jsx(ue,{value:"free",children:"Free"})]})]}),s.jsxs(F,{variant:"outline",size:"sm",children:[s.jsx(zl,{className:"h-4 w-4 mr-2"}),"More Filters"]})]})})}),s.jsx(K,{children:s.jsx(X,{className:"p-0",children:s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Organization"}),s.jsx(ze,{children:"Plan"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Credits"}),s.jsx(ze,{children:"Billing"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:w.map(k=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.organizationName}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",k.id]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Since ",k.startDate]})]})}),s.jsx(Ee,{children:s.jsxs(le,{className:T(k.plan),children:[s.jsx(Ul,{className:"h-3 w-3 mr-1"}),k.plan]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[E(k.status),s.jsx("span",{className:"capitalize",children:k.status})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm font-medium",children:[k.credits.used," credits used"]}),k.credits.remaining>=0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.credits.remaining," remaining"]})]})}),s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.amount>0?s.jsxs(s.Fragment,{children:["€",k.amount,"/",k.interval==="annual"?"year":"mo"]}):k.plan==="enterprise"?"Custom":"Free"}),k.amount>0&&s.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:k.interval})]})}),s.jsx(Ee,{className:"text-right",children:s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsxs(F,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx(gu,{className:"h-4 w-4"})]})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsxs(yn,{children:[s.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Edit Subscription"]}),k.status==="active"&&s.jsxs(s.Fragment,{children:[s.jsxs(yn,{onClick:()=>P(k,"pause"),children:[s.jsx(gZ,{className:"h-4 w-4 mr-2"}),"Pause Subscription"]}),s.jsxs(yn,{className:"text-red-500",onClick:()=>P(k,"cancel"),children:[s.jsx(sS,{className:"h-4 w-4 mr-2"}),"Cancel Subscription"]})]}),k.status==="canceled"&&s.jsxs(yn,{children:[s.jsx(vZ,{className:"h-4 w-4 mr-2"}),"Reactivate"]})]})]})})]},k.id))})]})})})]}),s.jsx(Jt,{open:g,onOpenChange:p,children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsxs(Xt,{children:[x==="cancel"&&"Cancel Subscription",x==="pause"&&"Pause Subscription",x==="resume"&&"Resume Subscription"]}),s.jsx(Qt,{children:m==null?void 0:m.organizationName})]}),m&&s.jsxs(Ft,{children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsxs(Bt,{children:[x==="cancel"&&s.jsxs(s.Fragment,{children:["This will immediately cancel the subscription. The organization will lose access to premium features and their remaining"," ",m.credits.remaining," credits will be forfeited."]}),x==="pause"&&s.jsxs(s.Fragment,{children:["This will pause billing but maintain access to the service until the next billing date (",m.nextBillingDate,"). The subscription can be resumed at any time."]}),x==="resume"&&s.jsx(s.Fragment,{children:"This will resume the subscription and billing will continue on the regular schedule. Next billing date will be recalculated."})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsxs(F,{variant:x==="cancel"?"destructive":"default",onClick:A,children:[x==="cancel"&&"Cancel Subscription",x==="pause"&&"Pause Subscription",x==="resume"&&"Resume Subscription"]})]})]})})]})})},oo={all:["adminPlans"],lists:()=>[...oo.all,"list"],list:e=>[...oo.lists(),{filters:e}],details:()=>[...oo.all,"detail"],detail:e=>[...oo.details(),e]};function CG(e){return $e({queryKey:oo.list(e),queryFn:async()=>(await Ob.listPlans(e)).data,staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!0})}function F8e(){const e=wt();return it({mutationFn:t=>Ob.createPlan(t),onSuccess:()=>{e.invalidateQueries({queryKey:oo.lists()}),Vt.success("Plan created successfully")},onError:t=>{const n=t.code==="SLUG_EXISTS"?"Plan slug already exists. Please choose a different slug.":`Failed to create plan: ${t.message||"Unknown error"}`;Vt.error(n)}})}function B8e(){const e=wt();return it({mutationFn:({id:t,data:n})=>Ob.updatePlan(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:oo.lists()}),e.invalidateQueries({queryKey:oo.detail(t.data.id)}),Vt.success("Plan updated successfully")},onError:t=>{Vt.error(`Failed to update plan: ${t.message||"Unknown error"}`)}})}function V8e(){const e=wt();return it({mutationFn:t=>Ob.deletePlan(t),onSuccess:()=>{e.invalidateQueries({queryKey:oo.lists()}),Vt.success("Plan deleted successfully")},onError:t=>{Vt.error(`Failed to delete plan: ${t.message||"Unknown error"}`)}})}const U8e=()=>{const{data:e,isLoading:t,error:n}=CG(),r=F8e(),a=B8e(),i=V8e(),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null),[m,h]=y.useState({slug:"",name:"",description:"",monthlyPrice:0,annualPrice:0,currency:"USD",monthlyCredits:0,assessmentCredits:0,maxAssessments:0,maxUsers:1,features:[],trialDays:0,isActive:!0,isPublic:!0,displayOrder:0,createInStripe:!0}),[g,p]=y.useState(""),x=()=>{u(null),h({slug:"",name:"",description:"",monthlyPrice:0,annualPrice:0,currency:"USD",monthlyCredits:0,assessmentCredits:0,maxAssessments:0,maxUsers:1,features:[],trialDays:0,isActive:!0,isPublic:!0,displayOrder:0,createInStripe:!0}),p(""),l(!0)},v=j=>{u(j),h({slug:j.slug,name:j.name,description:j.description||"",monthlyPrice:Number(j.monthlyPrice),annualPrice:Number(j.annualPrice),currency:j.currency,monthlyCredits:j.monthlyCredits,assessmentCredits:j.assessmentCredits,maxAssessments:j.maxAssessments,maxUsers:j.maxUsers,features:j.features||[],trialDays:j.trialDays,isActive:j.isActive,isPublic:j.isPublic,displayOrder:j.displayOrder,createInStripe:!1}),p((j.features||[]).join(`
`)),l(!0)},b=async()=>{const j=g.split(`
`).map(C=>C.trim()).filter(C=>C.length>0),S={...m,features:j};try{if(c){const C={name:S.name,description:S.description,monthlyPrice:S.monthlyPrice,annualPrice:S.annualPrice,monthlyCredits:S.monthlyCredits,assessmentCredits:S.assessmentCredits,maxAssessments:S.maxAssessments,maxUsers:S.maxUsers,features:S.features,trialDays:S.trialDays,isActive:S.isActive,isPublic:S.isPublic,displayOrder:S.displayOrder,syncToStripe:m.createInStripe};await a.mutateAsync({id:c.id,data:C})}else await r.mutateAsync(S);l(!1)}catch(C){console.error("Failed to save plan:",C)}},w=async j=>{try{await i.mutateAsync(j),f(null)}catch(S){console.error("Failed to delete plan:",S)}},N=e||[];return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Plan Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage subscription plans and pricing"})]}),s.jsxs(F,{onClick:x,children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Add Plan"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Plans"}),s.jsx(Tg,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.length})})]}),s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Active Plans"}),s.jsx(at,{className:"h-4 w-4 text-green-600"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.filter(j=>j.isActive).length})})]}),s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Public Plans"}),s.jsx(Hr,{className:"h-4 w-4 text-blue-600"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:N.filter(j=>j.isPublic).length})})]})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Subscription Plans"}),s.jsx(Ve,{children:"Manage all subscription plans and Stripe integration"})]}),s.jsx(X,{children:t?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):n?s.jsxs(Ft,{variant:"destructive",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Bt,{children:"Failed to load plans"})]}):s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Plan"}),s.jsx(ze,{children:"Pricing"}),s.jsx(ze,{children:"Credits"}),s.jsx(ze,{children:"Limits"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Stripe"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:N.length===0?s.jsx(Dt,{children:s.jsx(Ee,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No plans found. Create your first plan to get started."})}):N.map(j=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:j.slug})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx(Or,{className:"inline w-3 h-3"}),j.monthlyPrice,"/mo"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(Or,{className:"inline w-3 h-3"}),j.annualPrice,"/yr"]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx(jo,{className:"inline w-3 h-3 mr-1"}),j.monthlyCredits," monthly"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.assessmentCredits," assessment"]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[j.maxAssessments," assessments"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[j.maxUsers," users"]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(le,{variant:j.isActive?"success":"secondary",children:j.isActive?"Active":"Inactive"}),j.isPublic&&s.jsx(le,{variant:"outline",children:"Public"})]})}),s.jsx(Ee,{children:j.stripeProductId?s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(at,{className:"w-3 h-3 text-green-600"}),s.jsx("span",{className:"text-muted-foreground",children:"Synced"})]}),s.jsxs("a",{href:`https://dashboard.stripe.com/products/${j.stripeProductId}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-600 hover:underline",children:[s.jsx(sv,{className:"w-3 h-3"}),"View"]})]}):s.jsx(le,{variant:"secondary",children:"Not synced"})}),s.jsx(Ee,{className:"text-right",children:s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",children:s.jsx(gu,{className:"w-4 h-4"})})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsx(Gl,{}),s.jsxs(yn,{onClick:()=>v(j),children:[s.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Edit Plan"]}),s.jsxs(yn,{onClick:()=>f(j.id),className:"text-red-600",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Delete Plan"]})]})]})})]},j.id))})]})})]}),s.jsx(Jt,{open:o,onOpenChange:l,children:s.jsxs(Gt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:c?"Edit Plan":"Create New Plan"}),s.jsx(Qt,{children:c?"Update plan details and sync with Stripe":"Create a new subscription plan with optional Stripe integration"})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"slug",children:"Slug *"}),s.jsx(ye,{id:"slug",value:m.slug,onChange:j=>h({...m,slug:j.target.value.toUpperCase()}),placeholder:"FREE, PREMIUM, ENTERPRISE",disabled:!!c})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"name",children:"Name *"}),s.jsx(ye,{id:"name",value:m.name,onChange:j=>h({...m,name:j.target.value}),placeholder:"Premium Plan"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"description",children:"Description"}),s.jsx(vn,{id:"description",value:m.description,onChange:j=>h({...m,description:j.target.value}),placeholder:"Plan description..."})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Pricing"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"monthlyPrice",children:"Monthly Price ($) *"}),s.jsx(ye,{id:"monthlyPrice",type:"number",step:"0.01",value:m.monthlyPrice,onChange:j=>h({...m,monthlyPrice:parseFloat(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"annualPrice",children:"Annual Price ($) *"}),s.jsx(ye,{id:"annualPrice",type:"number",step:"0.01",value:m.annualPrice,onChange:j=>h({...m,annualPrice:parseFloat(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currency",children:"Currency"}),s.jsx(ye,{id:"currency",value:m.currency,onChange:j=>h({...m,currency:j.target.value}),disabled:!!c})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Credits & Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"monthlyCredits",children:"Monthly Credits"}),s.jsx(ye,{id:"monthlyCredits",type:"number",value:m.monthlyCredits,onChange:j=>h({...m,monthlyCredits:parseInt(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"assessmentCredits",children:"Assessment Credits"}),s.jsx(ye,{id:"assessmentCredits",type:"number",value:m.assessmentCredits,onChange:j=>h({...m,assessmentCredits:parseInt(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maxAssessments",children:"Max Assessments"}),s.jsx(ye,{id:"maxAssessments",type:"number",value:m.maxAssessments,onChange:j=>h({...m,maxAssessments:parseInt(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maxUsers",children:"Max Users"}),s.jsx(ye,{id:"maxUsers",type:"number",value:m.maxUsers,onChange:j=>h({...m,maxUsers:parseInt(j.target.value)||1})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"features",children:"Features (one per line)"}),s.jsx(vn,{id:"features",value:g,onChange:j=>p(j.target.value),placeholder:`AI-powered assessments
Priority support
Custom branding`,rows:4})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"trialDays",children:"Trial Days"}),s.jsx(ye,{id:"trialDays",type:"number",value:m.trialDays,onChange:j=>h({...m,trialDays:parseInt(j.target.value)||0})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"displayOrder",children:"Display Order"}),s.jsx(ye,{id:"displayOrder",type:"number",value:m.displayOrder,onChange:j=>h({...m,displayOrder:parseInt(j.target.value)||0})})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"isActive",checked:m.isActive,onCheckedChange:j=>h({...m,isActive:j})}),s.jsx(te,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"isPublic",checked:m.isPublic,onCheckedChange:j=>h({...m,isPublic:j})}),s.jsx(te,{htmlFor:"isPublic",children:"Public"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"createInStripe",checked:m.createInStripe,onCheckedChange:j=>h({...m,createInStripe:j})}),s.jsx(te,{htmlFor:"createInStripe",children:c?"Sync to Stripe":"Create in Stripe"})]})]})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(F,{onClick:b,disabled:r.isPending||a.isPending,children:c?"Update Plan":"Create Plan"})]})]})}),s.jsx(Jt,{open:!!d,onOpenChange:()=>f(null),children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Delete Plan"}),s.jsx(Qt,{children:"Are you sure you want to delete this plan? This will deactivate the plan and remove it from Stripe if applicable."})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>f(null),children:"Cancel"}),s.jsx(F,{variant:"destructive",onClick:()=>d&&w(d),disabled:i.isPending,children:"Delete"})]})]})})]})})},lo={all:["adminCoupons"],lists:()=>[...lo.all,"list"],list:e=>[...lo.lists(),{filters:e}],details:()=>[...lo.all,"detail"],detail:e=>[...lo.details(),e]};function z8e(e){return $e({queryKey:lo.list(e),queryFn:async()=>(await _b.listCoupons(e)).data,staleTime:5*60*1e3,retry:3,refetchOnWindowFocus:!0})}function W8e(){const e=wt();return it({mutationFn:t=>_b.createCoupon(t),onSuccess:()=>{e.invalidateQueries({queryKey:lo.lists()}),Vt.success("Coupon created successfully")},onError:t=>{const n=t.code==="CODE_EXISTS"?"Coupon code already exists. Please choose a different code.":`Failed to create coupon: ${t.message||"Unknown error"}`;Vt.error(n)}})}function q8e(){const e=wt();return it({mutationFn:({id:t,data:n})=>_b.updateCoupon(t,n),onSuccess:t=>{e.invalidateQueries({queryKey:lo.lists()}),e.invalidateQueries({queryKey:lo.detail(t.data.id)}),Vt.success("Coupon updated successfully")},onError:t=>{Vt.error(`Failed to update coupon: ${t.message||"Unknown error"}`)}})}function H8e(){const e=wt();return it({mutationFn:t=>_b.deleteCoupon(t),onSuccess:()=>{e.invalidateQueries({queryKey:lo.lists()}),Vt.success("Coupon deleted successfully")},onError:t=>{Vt.error(`Failed to delete coupon: ${t.message||"Unknown error"}`)}})}function ui(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Eu(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const PG=6048e5,K8e=864e5;let G8e={};function gj(){return G8e}function xg(e,t){var l,c,u,d;const n=gj(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=ui(e),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Q0(e){return xg(e,{weekStartsOn:1})}function AG(e){const t=ui(e),n=t.getFullYear(),r=Eu(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const a=Q0(r),i=Eu(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Q0(i);return t.getTime()>=a.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function A5(e){const t=ui(e);return t.setHours(0,0,0,0),t}function E5(e){const t=ui(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Y8e(e,t){const n=A5(e),r=A5(t),a=+n-E5(n),i=+r-E5(r);return Math.round((a-i)/K8e)}function X8e(e){const t=AG(e),n=Eu(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Q0(n)}function Q8e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Z8e(e){if(!Q8e(e)&&typeof e!="number")return!1;const t=ui(e);return!isNaN(Number(t))}function J8e(e){const t=ui(e),n=Eu(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tze=(e,t,n)=>{let r;const a=eze[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function i1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aze={date:i1({formats:nze,defaultWidth:"full"}),time:i1({formats:rze,defaultWidth:"full"}),dateTime:i1({formats:sze,defaultWidth:"full"})},ize={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oze=(e,t,n,r)=>ize[e];function ah(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const lze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uze={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hze=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pze={ordinalNumber:hze,era:ah({values:lze,defaultWidth:"wide"}),quarter:ah({values:cze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ah({values:uze,defaultWidth:"wide"}),day:ah({values:dze,defaultWidth:"wide"}),dayPeriod:ah({values:fze,defaultWidth:"wide",formattingValues:mze,defaultFormattingWidth:"wide"})};function ih(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xze(l,f=>f.test(o)):gze(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function gze(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xze(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function yze(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const vze=/^(\d+)(th|st|nd|rd)?/i,bze=/\d+/i,wze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jze={any:[/^b/i,/^(a|c)/i]},Nze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Sze={any:[/1/i,/2/i,/3/i,/4/i]},Cze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Aze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Oze={ordinalNumber:yze({matchPattern:vze,parsePattern:bze,valueCallback:e=>parseInt(e,10)}),era:ih({matchPatterns:wze,defaultMatchWidth:"wide",parsePatterns:jze,defaultParseWidth:"any"}),quarter:ih({matchPatterns:Nze,defaultMatchWidth:"wide",parsePatterns:Sze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ih({matchPatterns:Cze,defaultMatchWidth:"wide",parsePatterns:Pze,defaultParseWidth:"any"}),day:ih({matchPatterns:Aze,defaultMatchWidth:"wide",parsePatterns:Eze,defaultParseWidth:"any"}),dayPeriod:ih({matchPatterns:kze,defaultMatchWidth:"any",parsePatterns:Tze,defaultParseWidth:"any"})},_ze={code:"en-US",formatDistance:tze,formatLong:aze,formatRelative:oze,localize:pze,match:Oze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rze(e){const t=ui(e);return Y8e(t,J8e(t))+1}function Mze(e){const t=ui(e),n=+Q0(t)-+X8e(t);return Math.round(n/PG)+1}function EG(e,t){var d,f,m,h;const n=ui(e),r=n.getFullYear(),a=gj(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((h=(m=a.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Eu(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=xg(o,t),c=Eu(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=xg(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Ize(e,t){var l,c,u,d;const n=gj(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=EG(e,t),i=Eu(e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),xg(i,t)}function Dze(e,t){const n=ui(e),r=+xg(n,t)-+Ize(n,t);return Math.round(r/PG)+1}function zt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ko={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return zt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):zt(n+1,2)},d(e,t){return zt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return zt(e.getHours()%12||12,t.length)},H(e,t){return zt(e.getHours(),t.length)},m(e,t){return zt(e.getMinutes(),t.length)},s(e,t){return zt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return zt(a,t.length)}},Yu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k5={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return Ko.y(e,t)},Y:function(e,t,n,r){const a=EG(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return zt(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):zt(i,t.length)},R:function(e,t){const n=AG(e);return zt(n,t.length)},u:function(e,t){const n=e.getFullYear();return zt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return zt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return zt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ko.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return zt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Dze(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):zt(a,t.length)},I:function(e,t,n){const r=Mze(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):zt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ko.d(e,t)},D:function(e,t,n){const r=Rze(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):zt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return zt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return zt(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return zt(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Yu.noon:r===0?a=Yu.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Yu.evening:r>=12?a=Yu.afternoon:r>=4?a=Yu.morning:a=Yu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ko.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ko.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):zt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ko.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ko.s(e,t)},S:function(e,t){return Ko.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return O5(r);case"XXXX":case"XX":return _c(r);case"XXXXX":case"XXX":default:return _c(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return O5(r);case"xxxx":case"xx":return _c(r);case"xxxxx":case"xxx":default:return _c(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+T5(r,":");case"OOOO":default:return"GMT"+_c(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+T5(r,":");case"zzzz":default:return"GMT"+_c(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return zt(r,t.length)},T:function(e,t,n){const r=e.getTime();return zt(r,t.length)}};function T5(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+zt(i,2)}function O5(e,t){return e%60===0?(e>0?"-":"+")+zt(Math.abs(e)/60,2):_c(e,t)}function _c(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=zt(Math.trunc(r/60),2),i=zt(r%60,2);return n+a+t+i}const _5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kG=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$ze=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return _5(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",_5(r,t)).replace("{{time}}",kG(a,t))},Lze={p:kG,P:$ze},Fze=/^D+$/,Bze=/^Y+$/,Vze=["D","DD","YY","YYYY"];function Uze(e){return Fze.test(e)}function zze(e){return Bze.test(e)}function Wze(e,t,n){const r=qze(e,t,n);if(console.warn(r),Vze.includes(e))throw new RangeError(r)}function qze(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hze=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kze=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gze=/^'([^]*?)'?$/,Yze=/''/g,Xze=/[a-zA-Z]/;function R5(e,t,n){var d,f,m,h;const r=gj(),a=r.locale??_ze,i=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,l=ui(e);if(!Z8e(l))throw new RangeError("Invalid time value");let c=t.match(Kze).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=Lze[p];return x(g,a.formatLong)}return g}).join("").match(Hze).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Qze(g)};if(k5[p])return{isToken:!0,value:g};if(p.match(Xze))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(zze(p)||Uze(p))&&Wze(p,t,String(e));const x=k5[p[0]];return x(l,p,a.localize,u)}).join("")}function Qze(e){const t=e.match(Gze);return t?t[1].replace(Yze,"'"):e}const Zze=()=>{const{data:e,isLoading:t,error:n}=z8e(),{data:r}=CG(),a=W8e(),i=q8e(),o=H8e(),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,m]=y.useState(null),[h,g]=y.useState({code:"",name:"",description:"",discountType:"PERCENTAGE",discountValue:0,currency:"USD",validFrom:new Date().toISOString().split("T")[0],validUntil:"",maxRedemptions:void 0,applicablePlans:[],minimumAmount:void 0,newCustomersOnly:!1,durationInMonths:void 0,isActive:!0,createInStripe:!0}),p=()=>{d(null),g({code:"",name:"",description:"",discountType:"PERCENTAGE",discountValue:0,currency:"USD",validFrom:new Date().toISOString().split("T")[0],validUntil:"",maxRedemptions:void 0,applicablePlans:[],minimumAmount:void 0,newCustomersOnly:!1,durationInMonths:void 0,isActive:!0,createInStripe:!0}),c(!0)},x=P=>{d(P),g({code:P.code,name:P.name||"",description:P.description||"",discountType:P.discountType,discountValue:Number(P.discountValue),currency:P.currency,validFrom:P.validFrom?new Date(P.validFrom).toISOString().split("T")[0]:"",validUntil:P.validUntil?new Date(P.validUntil).toISOString().split("T")[0]:"",maxRedemptions:P.maxRedemptions||void 0,applicablePlans:P.applicablePlans||[],minimumAmount:P.minimumAmount?Number(P.minimumAmount):void 0,newCustomersOnly:P.newCustomersOnly,durationInMonths:P.durationInMonths||void 0,isActive:P.isActive,createInStripe:!1}),c(!0)},v=async()=>{try{if(u){const P={name:h.name,description:h.description,validUntil:h.validUntil||void 0,maxRedemptions:h.maxRedemptions,isActive:h.isActive};await i.mutateAsync({id:u.id,data:P})}else{const P={...h,validFrom:h.validFrom?new Date(h.validFrom).toISOString():void 0,validUntil:h.validUntil?new Date(h.validUntil).toISOString():void 0};await a.mutateAsync(P)}c(!1)}catch(P){console.error("Failed to save coupon:",P)}},b=async P=>{try{await o.mutateAsync(P),m(null)}catch(A){console.error("Failed to delete coupon:",A)}},w=(e==null?void 0:e.data)||[],N=(r==null?void 0:r.data)||[],j=P=>P.discountType==="PERCENTAGE"?`${P.discountValue}%`:`$${P.discountValue}`,S=P=>P.validUntil?new Date(P.validUntil)<new Date:!1,C=P=>P.maxRedemptions?P.timesRedeemed>=P.maxRedemptions:!1;return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Coupon Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage discount coupons for subscription checkout"})]}),s.jsxs(F,{onClick:p,children:[s.jsx(Wa,{className:"w-4 h-4 mr-2"}),"Add Coupon"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Coupons"}),s.jsx(NZ,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:w.length})})]}),s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Active"}),s.jsx(at,{className:"h-4 w-4 text-green-600"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:w.filter(P=>P.isActive&&!S(P)).length})})]}),s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Expired"}),s.jsx(Io,{className:"h-4 w-4 text-red-600"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:w.filter(P=>S(P)).length})})]}),s.jsxs(K,{children:[s.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pe,{className:"text-sm font-medium",children:"Total Redemptions"}),s.jsx(is,{className:"h-4 w-4 text-blue-600"})]}),s.jsx(X,{children:s.jsx("div",{className:"text-2xl font-bold",children:w.reduce((P,A)=>P+A.timesRedeemed,0)})})]})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Discount Coupons"}),s.jsx(Ve,{children:"Manage all discount coupons and Stripe integration"})]}),s.jsx(X,{children:t?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):n?s.jsxs(Ft,{variant:"destructive",children:[s.jsx(Pt,{className:"h-4 w-4"}),s.jsx(Bt,{children:"Failed to load coupons"})]}):s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Code"}),s.jsx(ze,{children:"Discount"}),s.jsx(ze,{children:"Validity"}),s.jsx(ze,{children:"Redemptions"}),s.jsx(ze,{children:"Restrictions"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{className:"text-right",children:"Actions"})]})}),s.jsx(ni,{children:w.length===0?s.jsx(Dt,{children:s.jsx(Ee,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No coupons found. Create your first coupon to get started."})}):w.map(P=>s.jsxs(Dt,{children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium font-mono",children:P.code}),P.name&&s.jsx("div",{className:"text-sm text-muted-foreground",children:P.name})]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[P.discountType==="PERCENTAGE"?s.jsx(xZ,{className:"w-4 h-4 text-green-600"}):s.jsx(Or,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:j(P)})]}),P.durationInMonths&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[P.durationInMonths," months"]})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[P.validFrom&&s.jsxs("div",{className:"text-sm",children:["From: ",R5(new Date(P.validFrom),"MMM d, yyyy")]}),P.validUntil&&s.jsxs("div",{className:`text-sm ${S(P)?"text-red-600":"text-muted-foreground"}`,children:["Until: ",R5(new Date(P.validUntil),"MMM d, yyyy")]})]})}),s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium",children:[P.timesRedeemed,P.maxRedemptions&&` / ${P.maxRedemptions}`]}),C(P)&&s.jsx(le,{variant:"destructive",className:"text-xs",children:"Limit reached"})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[P.newCustomersOnly&&s.jsx(le,{variant:"outline",className:"text-xs",children:"New customers"}),P.minimumAmount&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Min: $",P.minimumAmount]}),P.applicablePlans.length>0&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[P.applicablePlans.length," plan(s)"]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[P.isActive?S(P)?s.jsx(le,{variant:"destructive",children:"Expired"}):C(P)?s.jsx(le,{variant:"destructive",children:"Full"}):s.jsx(le,{variant:"success",children:"Active"}):s.jsx(le,{variant:"secondary",children:"Inactive"}),P.stripeCouponId&&s.jsx("a",{href:`https://dashboard.stripe.com/coupons/${P.stripeCouponId}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.jsx(sv,{className:"w-3 h-3"})})]})}),s.jsx(Ee,{className:"text-right",children:s.jsxs(Hl,{children:[s.jsx(Kl,{asChild:!0,children:s.jsx(F,{variant:"ghost",size:"sm",children:s.jsx(gu,{className:"w-4 h-4"})})}),s.jsxs(Po,{align:"end",children:[s.jsx(oc,{children:"Actions"}),s.jsx(Gl,{}),s.jsxs(yn,{onClick:()=>x(P),children:[s.jsx(Vr,{className:"w-4 h-4 mr-2"}),"Edit Coupon"]}),s.jsxs(yn,{onClick:()=>m(P.id),className:"text-red-600",children:[s.jsx(Ol,{className:"w-4 h-4 mr-2"}),"Delete Coupon"]})]})]})})]},P.id))})]})})]}),s.jsx(Jt,{open:l,onOpenChange:c,children:s.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:u?"Edit Coupon":"Create New Coupon"}),s.jsx(Qt,{children:u?"Update coupon details (limited fields can be modified)":"Create a new discount coupon with optional Stripe integration"})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"code",children:"Code *"}),s.jsx(ye,{id:"code",value:h.code,onChange:P=>g({...h,code:P.target.value.toUpperCase()}),placeholder:"SAVE20",disabled:!!u,className:"font-mono"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"name",children:"Name"}),s.jsx(ye,{id:"name",value:h.name,onChange:P=>g({...h,name:P.target.value}),placeholder:"20% Off Promotion"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"description",children:"Description"}),s.jsx(vn,{id:"description",value:h.description,onChange:P=>g({...h,description:P.target.value}),placeholder:"Coupon description..."})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Discount"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"discountType",children:"Type *"}),s.jsxs(vt,{value:h.discountType,onValueChange:P=>g({...h,discountType:P}),disabled:!!u,children:[s.jsx(gt,{children:s.jsx(bt,{})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"PERCENTAGE",children:"Percentage"}),s.jsx(ue,{value:"FIXED_AMOUNT",children:"Fixed Amount"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(te,{htmlFor:"discountValue",children:["Value * ",h.discountType==="PERCENTAGE"?"(%)":"($)"]}),s.jsx(ye,{id:"discountValue",type:"number",step:h.discountType==="PERCENTAGE"?"1":"0.01",value:h.discountValue,onChange:P=>g({...h,discountValue:parseFloat(P.target.value)||0}),disabled:!!u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"durationInMonths",children:"Duration (months)"}),s.jsx(ye,{id:"durationInMonths",type:"number",value:h.durationInMonths||"",onChange:P=>g({...h,durationInMonths:parseInt(P.target.value)||void 0}),placeholder:"Forever",disabled:!!u})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Validity Period"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"validFrom",children:"Valid From"}),s.jsx(ye,{id:"validFrom",type:"date",value:h.validFrom,onChange:P=>g({...h,validFrom:P.target.value}),disabled:!!u})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"validUntil",children:"Valid Until"}),s.jsx(ye,{id:"validUntil",type:"date",value:h.validUntil,onChange:P=>g({...h,validUntil:P.target.value})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Restrictions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"maxRedemptions",children:"Max Redemptions"}),s.jsx(ye,{id:"maxRedemptions",type:"number",value:h.maxRedemptions||"",onChange:P=>g({...h,maxRedemptions:parseInt(P.target.value)||void 0}),placeholder:"Unlimited"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"minimumAmount",children:"Minimum Amount ($)"}),s.jsx(ye,{id:"minimumAmount",type:"number",step:"0.01",value:h.minimumAmount||"",onChange:P=>g({...h,minimumAmount:parseFloat(P.target.value)||void 0}),placeholder:"No minimum",disabled:!!u})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"applicablePlans",children:"Applicable Plans"}),s.jsxs(vt,{value:h.applicablePlans.join(","),onValueChange:P=>g({...h,applicablePlans:P?P.split(","):[]}),disabled:!!u,children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"All plans"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"",children:"All Plans"}),N.map(P=>s.jsx(ue,{value:P.slug,children:P.name},P.id))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Leave empty to apply to all plans"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold",children:"Settings"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"isActive",checked:h.isActive,onCheckedChange:P=>g({...h,isActive:P})}),s.jsx(te,{htmlFor:"isActive",children:"Active"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"newCustomersOnly",checked:h.newCustomersOnly,onCheckedChange:P=>g({...h,newCustomersOnly:P}),disabled:!!u}),s.jsx(te,{htmlFor:"newCustomersOnly",children:"New Customers Only"})]}),!u&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(po,{id:"createInStripe",checked:h.createInStripe,onCheckedChange:P=>g({...h,createInStripe:P})}),s.jsx(te,{htmlFor:"createInStripe",children:"Create in Stripe"})]})]})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(F,{onClick:v,disabled:a.isPending||i.isPending,children:u?"Update Coupon":"Create Coupon"})]})]})}),s.jsx(Jt,{open:!!f,onOpenChange:()=>m(null),children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Delete Coupon"}),s.jsx(Qt,{children:"Are you sure you want to delete this coupon? This will deactivate the coupon and remove it from Stripe if applicable."})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),s.jsx(F,{variant:"destructive",onClick:()=>f&&b(f),disabled:o.isPending,children:"Delete"})]})]})})]})})};function Jze(){const{toast:e}=Ys(),t=wt(),[n,r]=y.useState(!1),[a,i]=y.useState(null),[o,l]=y.useState("PRIVACY_POLICY"),[c,u]=y.useState("1.0"),[d,f]=y.useState(!1),[m,h]=y.useState(null),[g,p]=y.useState(!1),{data:x,isLoading:v}=$e({queryKey:["legal-documents","PRIVACY_POLICY"],queryFn:async()=>(await Jo.list("PRIVACY_POLICY")).data||[]}),{data:b,isLoading:w}=$e({queryKey:["legal-documents","TERMS_OF_SERVICE"],queryFn:async()=>(await Jo.list("TERMS_OF_SERVICE")).data||[]}),N=async()=>{if(!a){e({title:"Error",description:"Please select a PDF file",variant:"destructive"});return}if(a.type!=="application/pdf"){e({title:"Error",description:"Only PDF files are allowed",variant:"destructive"});return}p(!0);try{const T=await Jo.upload({type:o,filename:a.name,mimeType:a.type,fileSize:a.size,version:c});if(!T.success)throw new Error(T.message||"Failed to get upload URL");await Jo.uploadToS3(T.data.uploadUrl,T.data.fields,a),e({title:"Success",description:`${o==="PRIVACY_POLICY"?"Privacy Policy":"Terms of Service"} uploaded successfully`}),t.invalidateQueries({queryKey:["legal-documents",o]}),i(null),u("1.0"),r(!1)}catch(T){console.error("Upload error:",T),e({title:"Error",description:T instanceof Error?T.message:"Failed to upload document",variant:"destructive"})}finally{p(!1)}},j=it({mutationFn:T=>Jo.delete(T),onSuccess:()=>{e({title:"Success",description:"Document deleted successfully"}),t.invalidateQueries({queryKey:["legal-documents"]}),f(!1),h(null)},onError:T=>{e({title:"Error",description:T instanceof Error?T.message:"Failed to delete document",variant:"destructive"})}}),S=it({mutationFn:T=>Jo.activate(T),onSuccess:()=>{e({title:"Success",description:"Document version activated"}),t.invalidateQueries({queryKey:["legal-documents"]})},onError:T=>{e({title:"Error",description:T instanceof Error?T.message:"Failed to activate document",variant:"destructive"})}}),C=T=>T<1024?T+" B":T<1024*1024?(T/1024).toFixed(2)+" KB":(T/(1024*1024)).toFixed(2)+" MB",P=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=(T,E)=>E?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ye,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):!T||T.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(ft,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded yet"})]}):s.jsxs(ei,{children:[s.jsx(ti,{children:s.jsxs(Dt,{children:[s.jsx(ze,{children:"Filename"}),s.jsx(ze,{children:"Version"}),s.jsx(ze,{children:"Size"}),s.jsx(ze,{children:"Status"}),s.jsx(ze,{children:"Uploaded"}),s.jsx(ze,{children:"Actions"})]})}),s.jsx(ni,{children:T.map(k=>s.jsxs(Dt,{children:[s.jsx(Ee,{className:"font-medium",children:k.filename}),s.jsx(Ee,{children:k.version}),s.jsx(Ee,{children:C(k.fileSize)}),s.jsx(Ee,{children:k.isActive?s.jsxs(le,{variant:"default",className:"gap-1",children:[s.jsx(at,{className:"h-3 w-3"}),"Active"]}):s.jsxs(le,{variant:"secondary",className:"gap-1",children:[s.jsx(cr,{className:"h-3 w-3"}),"Inactive"]})}),s.jsx(Ee,{children:P(k.createdAt)}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[!k.isActive&&s.jsx(F,{size:"sm",variant:"outline",onClick:()=>S.mutate(k.id),disabled:S.isPending,children:"Activate"}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>{h(k.id),f(!0)},children:s.jsx(Ol,{className:"h-4 w-4"})})]})})]},k.id))})]});return s.jsxs(Vs,{children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Legal Documents"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage Privacy Policy and Terms of Service PDFs"})]}),s.jsxs(F,{onClick:()=>r(!0),children:[s.jsx(qa,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]}),s.jsxs(dc,{defaultValue:"privacy",className:"space-y-4",children:[s.jsxs(Lo,{children:[s.jsx(mn,{value:"privacy",children:"Privacy Policy"}),s.jsx(mn,{value:"terms",children:"Terms of Service"})]}),s.jsx(Un,{value:"privacy",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Privacy Policy Documents"}),s.jsx(Ve,{children:"Manage different versions of your Privacy Policy. Only one version can be active at a time."})]}),s.jsx(X,{children:A(x,v)})]})}),s.jsx(Un,{value:"terms",children:s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsx(pe,{children:"Terms of Service Documents"}),s.jsx(Ve,{children:"Manage different versions of your Terms of Service. Only one version can be active at a time."})]}),s.jsx(X,{children:A(b,w)})]})})]})]}),s.jsx(Jt,{open:n,onOpenChange:r,children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Upload Legal Document"}),s.jsx(Qt,{children:"Upload a new PDF for Privacy Policy or Terms of Service. The new version will automatically become active."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Document Type"}),s.jsxs("select",{className:"w-full px-3 py-2 border rounded-md",value:o,onChange:T=>l(T.target.value),children:[s.jsx("option",{value:"PRIVACY_POLICY",children:"Privacy Policy"}),s.jsx("option",{value:"TERMS_OF_SERVICE",children:"Terms of Service"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"version",children:"Version"}),s.jsx(ye,{id:"version",value:c,onChange:T=>u(T.target.value),placeholder:"1.0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"file",children:"PDF File"}),s.jsx(ye,{id:"file",type:"file",accept:"application/pdf",onChange:T=>{var E;return i(((E=T.target.files)==null?void 0:E[0])||null)}}),a&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",a.name," (",C(a.size),")"]})]})]}),s.jsxs(pn,{children:[s.jsx(F,{variant:"outline",onClick:()=>r(!1),disabled:g,children:"Cancel"}),s.jsxs(F,{onClick:N,disabled:!a||g,children:[g&&s.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Upload"]})]})]})}),s.jsx(mE,{open:d,onOpenChange:f,children:s.jsxs(Kb,{children:[s.jsxs(Gb,{children:[s.jsx(Xb,{children:"Are you sure?"}),s.jsx(Qb,{children:"This will permanently delete this legal document. This action cannot be undone."})]}),s.jsxs(Yb,{children:[s.jsx(Jb,{children:"Cancel"}),s.jsx(Zb,{onClick:()=>m&&j.mutate(m),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}function e9e(e){return $e({queryKey:["admin","leads",e],queryFn:()=>Rg.getLeads(e),staleTime:3e4})}function t9e(e,t,n=!0){return $e({queryKey:["admin","lead",e,t],queryFn:()=>Rg.getLead(e,t),enabled:n&&!!e&&!!t,staleTime:3e4})}function n9e(){return $e({queryKey:["admin","leads","analytics"],queryFn:Rg.getLeadAnalytics,staleTime:6e4})}function r9e(){const e=wt(),{toast:t}=Ys();return it({mutationFn:({leadId:n,leadType:r,status:a})=>Rg.updateLeadStatus(n,r,a),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:["admin","leads"]}),e.invalidateQueries({queryKey:["admin","lead",r.leadId]}),e.invalidateQueries({queryKey:["admin","leads","analytics"]}),t({title:"Lead status updated",description:`Status changed to ${r.status}`})},onError:n=>{t({title:"Failed to update lead status",description:n.message||"An error occurred while updating the lead",variant:"destructive"})}})}const M5=[{value:"NEW",label:"New",color:"bg-blue-500"},{value:"IN_PROGRESS",label:"In Progress",color:"bg-yellow-500"},{value:"QUALIFIED",label:"Qualified",color:"bg-purple-500"},{value:"CONVERTED",label:"Converted",color:"bg-green-500"},{value:"LOST",label:"Lost",color:"bg-red-500"}],s9e={DEMO_REQUEST:"Demo Request",INFO_REQUEST:"Information Request",RFP:"RFP Submission",PRICING:"Pricing Inquiry",GENERAL:"General Inquiry"};function a9e({open:e,onOpenChange:t,leadId:n,leadType:r}){var g,p;const{data:a,isLoading:i,isError:o}=t9e(n,r,e),l=r9e(),[c,u]=y.useState(null),d=async()=>{if(!(!c||!a))try{await l.mutateAsync({leadId:n,leadType:r,status:c}),t(!1)}catch{}},f=x=>new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=x=>{const v=M5.find(b=>b.value===x);return v?s.jsx(le,{className:`${v.color} text-white`,children:v.label}):null},h=x=>x==="PREMIUM"?s.jsx(le,{className:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white",children:"Premium RFP"}):s.jsx(le,{variant:"outline",className:"border-gray-500 text-gray-300",children:"Basic Contact"});return s.jsx(Jt,{open:e,onOpenChange:t,children:s.jsxs(Gt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Lead Details"}),s.jsx(Qt,{children:"View and manage lead information"})]}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Et,{className:"h-8 w-full"}),s.jsx(Et,{className:"h-24 w-full"}),s.jsx(Et,{className:"h-24 w-full"})]}),o&&s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-red-400",children:"Failed to load lead details"})}),a&&!i&&!o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[h(a.type),m(a.status)]}),s.jsxs("div",{className:"text-sm text-gray-400",children:["ID: ",a.id.slice(0,8),"..."]})]}),s.jsx(At,{}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(wo,{className:"h-4 w-4 text-cyan-400"}),"Organization"]}),s.jsx("p",{className:"text-white pl-6",children:a.companyName||"N/A"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(up,{className:"h-4 w-4 text-cyan-400"}),"User"]}),s.jsx("p",{className:"text-white pl-6",children:a.userName||"N/A"})]})]}),s.jsx(At,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(Tg,{className:"h-4 w-4 text-cyan-400"}),"Vendor"]}),s.jsx("p",{className:"text-white pl-6",children:((p=(g=a.vendors)==null?void 0:g[0])==null?void 0:p.name)||"Unknown Vendor"})]}),s.jsx(At,{}),a.type==="PREMIUM"&&a.rfpTitle&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(ft,{className:"h-4 w-4 text-cyan-400"}),"RFP Title"]}),s.jsx("p",{className:"text-white pl-6",children:a.rfpTitle})]}),s.jsx(At,{})]}),a.type==="BASIC"&&s.jsxs(s.Fragment,{children:[a.contactType&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(af,{className:"h-4 w-4 text-cyan-400"}),"Contact Type"]}),s.jsx("p",{className:"text-white pl-6",children:s9e[a.contactType]||a.contactType})]}),s.jsx(At,{})]}),a.message&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(Si,{className:"h-4 w-4 text-cyan-400"}),"Message"]}),s.jsx("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 mt-2",children:s.jsx("p",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:a.message})})]}),s.jsx(At,{})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(_i,{className:"h-4 w-4 text-cyan-400"}),"Submission Date"]}),s.jsx("p",{className:"text-white pl-6 text-sm",children:f(a.submissionDate)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:[s.jsx(Si,{className:"h-4 w-4 text-cyan-400"}),"Email"]}),s.jsx("p",{className:"text-white pl-6 text-sm",children:a.userEmail||"N/A"})]})]}),s.jsx(At,{}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-300",children:"Update Status"}),s.jsxs(vt,{value:c||a.status,onValueChange:x=>u(x),children:[s.jsx(gt,{className:"w-full",children:s.jsx(bt,{placeholder:"Select new status"})}),s.jsx(xt,{children:M5.map(x=>s.jsx(ue,{value:x.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${x.color}`}),x.label]})},x.value))})]})]})]}),s.jsxs(pn,{className:"flex gap-3 sm:gap-3",children:[s.jsxs(F,{onClick:()=>t(!1),variant:"outline",className:"flex-1",disabled:l.isPending,children:[s.jsx(kr,{className:"mr-2 h-4 w-4"}),"Close"]}),s.jsx(F,{onClick:d,disabled:!c||c===(a==null?void 0:a.status)||l.isPending,className:"flex-1",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Status"})]})]})})}const I5=[{value:"NEW",label:"New",color:"bg-blue-500/10 text-blue-300 border-blue-500/30"},{value:"IN_PROGRESS",label:"In Progress",color:"bg-yellow-500/10 text-yellow-300 border-yellow-500/30"},{value:"QUALIFIED",label:"Qualified",color:"bg-purple-500/10 text-purple-300 border-purple-500/30"},{value:"CONVERTED",label:"Converted",color:"bg-green-500/10 text-green-300 border-green-500/30"},{value:"LOST",label:"Lost",color:"bg-red-500/10 text-red-300 border-red-500/30"}];function i9e(){const{toast:e}=Ys(),[t,n]=y.useState(""),[r,a]=y.useState("ALL"),[i,o]=y.useState([]),[l,c]=y.useState(1),[u,d]=y.useState(null),f=20,{data:m,isLoading:h,isError:g,refetch:p}=e9e({type:r,status:i.length>0?i:void 0,page:l,limit:f}),{data:x}=n9e(),v=y.useMemo(()=>{if(!(m!=null&&m.leads))return[];if(!t)return m.leads;const C=t.toLowerCase();return m.leads.filter(P=>{var A,T,E,k,R,I;return((A=P.companyName)==null?void 0:A.toLowerCase().includes(C))||((T=P.userName)==null?void 0:T.toLowerCase().includes(C))||((R=(k=(E=P.vendors)==null?void 0:E[0])==null?void 0:k.name)==null?void 0:R.toLowerCase().includes(C))||((I=P.rfpTitle)==null?void 0:I.toLowerCase().includes(C))})},[m==null?void 0:m.leads,t]),b=C=>{o(P=>P.includes(C)?P.filter(A=>A!==C):[...P,C]),c(1)},w=async()=>{try{await Rg.exportLeads({type:r,status:i.length>0?i:void 0}),e({title:"Export successful",description:"Leads have been exported to CSV"})}catch{e({title:"Export failed",description:"Failed to export leads",variant:"destructive"})}},N=C=>{const P=I5.find(A=>A.value===C);return P?s.jsx(le,{variant:"outline",className:P.color,children:P.label}):null},j=C=>C==="PREMIUM"?s.jsx(le,{className:"bg-gradient-to-r from-cyan-500 to-pink-500 text-white border-0",children:"Premium"}):s.jsx(le,{variant:"outline",className:"border-gray-500 text-gray-300",children:"Basic"}),S=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsx(Vs,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(K,{className:"bg-gradient-to-r from-card/50 to-card/80 backdrop-blur-sm border-cyan-500/20",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Lead Management"}),s.jsx("p",{className:"text-gray-200",children:"Manage and track all vendor leads from RFPs and contact forms"})]}),s.jsxs(F,{onClick:w,variant:"outline",children:[s.jsx(Ri,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})})}),x&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Total Leads"}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:x.totalLeads})]}),s.jsx(Hr,{className:"h-8 w-8 text-cyan-400"})]})})}),s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Premium RFPs"}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:x.premiumLeads})]}),s.jsx(ft,{className:"h-8 w-8 text-pink-400"})]})})}),s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Basic Contacts"}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:x.basicLeads})]}),s.jsx(Si,{className:"h-8 w-8 text-blue-400"})]})})}),s.jsx(K,{className:"bg-card/80 backdrop-blur border-border/50",children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Conversion Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[x.conversionRate.toFixed(1),"%"]})]}),s.jsx(_r,{className:"h-8 w-8 text-green-400"})]})})})]}),s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[s.jsx("div",{className:"md:col-span-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ou,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(ye,{placeholder:"Search leads...",value:t,onChange:C=>n(C.target.value),className:"pl-9"})]})}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs(vt,{value:r,onValueChange:C=>{a(C),c(1)},children:[s.jsx(gt,{children:s.jsx(bt,{placeholder:"All Types"})}),s.jsxs(xt,{children:[s.jsx(ue,{value:"ALL",children:"All Types"}),s.jsx(ue,{value:"PREMIUM",children:"Premium RFPs"}),s.jsx(ue,{value:"BASIC",children:"Basic Contacts"})]})]})}),s.jsx("div",{className:"md:col-span-5 flex flex-wrap gap-2",children:I5.map(C=>s.jsx(F,{size:"sm",variant:i.includes(C.value)?"default":"outline",onClick:()=>b(C.value),className:i.includes(C.value)?C.color.replace("/10",""):"",children:C.label},C.value))})]})})}),h&&s.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>s.jsx(K,{children:s.jsx(X,{className:"p-6",children:s.jsx(Et,{className:"h-24 w-full"})})},C))}),g&&s.jsx(K,{className:"border-destructive",children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx("p",{className:"text-red-400",children:"Failed to load leads"}),s.jsxs(F,{onClick:()=>p(),className:"mt-4",children:[s.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Retry"]})]})}),!h&&!g&&v.length===0&&s.jsx(K,{children:s.jsxs(X,{className:"p-12 text-center",children:[s.jsx(zl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No leads found"}),s.jsx("p",{className:"text-gray-300",children:"Try adjusting your search criteria or filters"})]})}),!h&&!g&&v.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"space-y-4",children:v.map(C=>{var P,A;return s.jsx(K,{className:"hover:shadow-lg transition-shadow",children:s.jsx(X,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[j(C.type),N(C.status)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wo,{className:"h-4 w-4 text-cyan-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Organization"}),s.jsx("p",{className:"text-sm font-medium text-white",children:C.companyName||"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tg,{className:"h-4 w-4 text-pink-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Vendor"}),s.jsx("p",{className:"text-sm font-medium text-white",children:((A=(P=C.vendors)==null?void 0:P[0])==null?void 0:A.name)||"Unknown Vendor"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_i,{className:"h-4 w-4 text-blue-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Created"}),s.jsx("p",{className:"text-sm font-medium text-white",children:S(C.submissionDate)})]})]})]}),C.type==="PREMIUM"&&C.rfpTitle&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(ft,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"RFP:"}),s.jsx("span",{children:C.rfpTitle})]})]}),s.jsxs(F,{size:"sm",variant:"outline",onClick:()=>d({id:C.id,type:C.type}),children:[s.jsx(Ws,{className:"mr-2 h-4 w-4"}),"View Details"]})]})})},C.id)})}),m&&m.totalPages>1&&s.jsx(K,{children:s.jsx(X,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",(l-1)*f+1," to"," ",Math.min(l*f,m.total)," of ",m.total," leads"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",disabled:l===1,onClick:()=>c(C=>Math.max(1,C-1)),children:s.jsx(lA,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm text-gray-300",children:["Page ",l," of ",m.totalPages]}),s.jsx(F,{size:"sm",variant:"outline",disabled:l===m.totalPages,onClick:()=>c(C=>Math.min(m.totalPages,C+1)),children:s.jsx(sc,{className:"h-4 w-4"})})]})]})})})]}),u&&s.jsx(a9e,{open:!!u,onOpenChange:C=>!C&&d(null),leadId:u.id,leadType:u.type})]})})}const o9e=()=>{const{toast:e}=Ys(),{user:t}=Cs(),[n,r]=y.useState(!1),a=async()=>{if(!(t!=null&&t.email)){e({title:"Error",description:"No email address found for your account.",variant:"destructive"});return}r(!0);try{const i=await fetch("/v1/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email})});if(i.ok)e({title:"Password Reset Email Sent",description:"Please check your email for password reset instructions."});else{const o=await i.json();e({title:"Error",description:o.message||"Failed to send password reset email.",variant:"destructive"})}}catch(i){console.error("Error sending password reset:",i),e({title:"Error",description:"Failed to send password reset email. Please try again.",variant:"destructive"})}finally{r(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"To change your password, we'll send you a secure reset link via email."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current email: ",s.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})]})]}),s.jsx(F,{onClick:a,disabled:n,"data-testid":"button-send-reset-link",className:"w-full",children:n?"Sending Reset Link...":"Send Password Reset Link"})]})},l9e=()=>{const{toast:e}=Ys(),{user:t,login:n}=Cs(),{startTour:r}=$A(),a=Rt(),[i,o]=y.useState({firstName:"",lastName:"",email:"",jobTitle:""}),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,m]=y.useState(null),[h,g]=y.useState(!1),[p,x]=y.useState(""),[v,b]=y.useState(!1),[w,N]=y.useState(!1);y.useEffect(()=>{t&&o(E=>({...E,firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",jobTitle:E.jobTitle||""}))},[t]);const j=async()=>{if(!t){e({title:"Error",description:"You must be logged in to update your profile.",variant:"destructive"});return}c(!0);try{const E=await fetch("/v1/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({firstName:i.firstName,lastName:i.lastName,jobTitle:i.jobTitle})});if(E.ok){const k=await E.json();if(k.user){const R=localStorage.getItem("token");R&&n(R,k.user)}e({title:"Settings Updated",description:"Your user settings have been saved successfully."})}else{const k=await E.json();e({title:"Error",description:k.message||"Failed to update settings.",variant:"destructive"})}}catch(E){console.error("Error updating settings:",E),e({title:"Error",description:"Failed to update settings. Please try again.",variant:"destructive"})}finally{c(!1)}},S=(E,k)=>{o(R=>({...R,[E]:k}))},C=()=>{u||m(i),d(!u)},P=()=>{f&&o(f),d(!1),m(null)},A=async()=>{if(!p||!p.includes("@")){e({title:"Error",description:"Please enter a valid email address.",variant:"destructive"});return}if(p===(t==null?void 0:t.email)){e({title:"Error",description:"The new email address is the same as your current email.",variant:"destructive"});return}b(!0);try{const E=await fetch("/v1/auth/request-email-change",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({newEmail:p.trim()})});if(E.ok)e({title:"Verification Email Sent",description:`A verification email has been sent to ${p}. Please check your inbox and follow the instructions to complete the email change.`}),g(!1),x("");else{const k=await E.json();e({title:"Error",description:k.message||"Failed to send verification email.",variant:"destructive"})}}catch(E){console.error("Error requesting email change:",E),e({title:"Error",description:"Failed to request email change. Please try again.",variant:"destructive"})}finally{b(!1)}},T=async()=>{N(!0);try{const E=await fetch("/v1/subscriptions/customer-portal",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({returnUrl:window.location.href})});if(E.ok){const k=await E.json();k.url?window.location.href=k.url:e({title:"Error",description:"Failed to load subscription management portal.",variant:"destructive"})}else{const k=await E.json();k.code==="NO_STRIPE_CUSTOMER"?(e({title:"No Subscription",description:"You need to set up a paid subscription first. Redirecting to pricing..."}),setTimeout(()=>a("/pricing"),2e3)):e({title:"Error",description:k.message||"Failed to open subscription management portal.",variant:"destructive"})}}catch(E){console.error("Error opening Customer Portal:",E),e({title:"Error",description:"Failed to open subscription management portal. Please try again.",variant:"destructive"})}finally{N(!1)}};return s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(K,{children:[s.jsx(de,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(up,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(Ve,{children:"Update your personal information and contact details"})]}),s.jsxs(F,{variant:"outline",onClick:u?P:C,"data-testid":"button-edit-profile",className:"min-w-24",children:[s.jsx(GO,{className:"h-4 w-4 mr-2"}),u?"Cancel":"Edit Profile"]})]})}),s.jsxs(X,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"firstName",children:"First Name"}),s.jsx(ye,{id:"firstName",value:i.firstName,onChange:E=>S("firstName",E.target.value),disabled:!u,"data-testid":"input-firstName"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"lastName",children:"Last Name"}),s.jsx(ye,{id:"lastName",value:i.lastName,onChange:E=>S("lastName",E.target.value),disabled:!u,"data-testid":"input-lastName"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"email",children:"Email Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ye,{id:"email",type:"email",value:i.email,readOnly:!0,className:"flex-1","data-testid":"input-email-readonly"}),s.jsxs(F,{type:"button",variant:"outline",size:"sm",onClick:()=>g(!0),"data-testid":"button-change-email",children:[s.jsx(GO,{className:"h-4 w-4"}),"Change"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"jobTitle",children:"Job Title"}),s.jsx(ye,{id:"jobTitle",value:i.jobTitle,onChange:E=>S("jobTitle",E.target.value),disabled:!u,"data-testid":"input-jobTitle"})]})]})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(YO,{className:"h-5 w-5"}),"Preferences"]}),s.jsx(Ve,{children:"Configure your application preferences"})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{children:"Onboarding Tour"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Restart the interactive walkthrough to learn about platform features"}),s.jsxs(F,{variant:"outline",onClick:()=>{r(!0),a("/dashboard"),e({title:"Onboarding Tour Started",description:"The guided tour has begun on the Dashboard."})},className:"w-full",children:[s.jsx(YO,{className:"h-4 w-4 mr-2"}),"Restart Onboarding Tour"]})]})})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(rv,{className:"h-5 w-5"}),"Subscription & Billing"]}),s.jsx(Ve,{children:"Manage your subscription plan and billing"})]}),s.jsx(X,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs(F,{variant:"default",onClick:T,disabled:w,"data-testid":"button-manage-subscription",className:"w-full",children:[w?"Loading...":"Manage Subscription",!w&&s.jsx(Er,{className:"ml-2 h-4 w-4"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your subscription, payment methods, and billing history through Stripe's secure portal."})]})})]}),s.jsxs(K,{children:[s.jsxs(de,{children:[s.jsxs(pe,{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"h-5 w-5"}),"Security Settings"]}),s.jsx(Ve,{children:"Manage your account security"})]}),s.jsx(X,{className:"space-y-6",children:s.jsx(o9e,{})})]}),u&&s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(F,{variant:"outline",onClick:P,disabled:l,"data-testid":"button-cancel-changes",children:"Cancel"}),s.jsx(F,{onClick:j,className:"px-8",disabled:l,"data-testid":"button-save-settings",children:l?"Saving...":"Save Changes"})]}),s.jsx(Jt,{open:h,onOpenChange:g,children:s.jsxs(Gt,{children:[s.jsxs(Yt,{children:[s.jsx(Xt,{children:"Change Email Address"}),s.jsx(Qt,{children:"Enter your new email address. A verification email will be sent to confirm the change."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"currentEmail",children:"Current Email"}),s.jsx(ye,{id:"currentEmail",type:"email",value:(t==null?void 0:t.email)||"",readOnly:!0,className:"bg-muted","data-testid":"input-current-email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(te,{htmlFor:"newEmailAddress",children:"New Email Address"}),s.jsx(ye,{id:"newEmailAddress",type:"email",value:p,onChange:E=>x(E.target.value),placeholder:"Enter your new email address","data-testid":"input-new-email"})]})]}),s.jsxs(pn,{className:"flex gap-2",children:[s.jsx(F,{variant:"outline",onClick:()=>{g(!1),x("")},"data-testid":"button-cancel-email-change",children:"Cancel"}),s.jsx(F,{onClick:A,disabled:v||!p,"data-testid":"button-request-email-change",children:v?"Sending...":"Send Verification Email"})]})]})})]})};function c9e(){const[e]=ic(),t=Rt(),{toast:n}=Ys(),[r,a]=y.useState("loading"),[i,o]=y.useState("");return y.useEffect(()=>{(async()=>{const c=e.get("token");if(!c){a("error"),o("Invalid verification link. No token provided.");return}try{const u=await fetch("/v1/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:c})}),d=await u.json();u.ok?(a("success"),o(d.message||"Email verified successfully!"),n({title:"Email Verified",description:"Your email has been successfully verified. You can now access all features."}),setTimeout(()=>{t("/login")},3e3)):(a("error"),o(d.message||"Email verification failed. The link may be invalid or expired."),n({title:"Verification Failed",description:d.message||"The verification link is invalid or has expired.",variant:"destructive"}))}catch(u){console.error("Email verification error:",u),a("error"),o("An error occurred during verification. Please try again."),n({title:"Error",description:"Failed to verify email. Please try again.",variant:"destructive"})}})()},[e,t,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950 px-4",children:s.jsxs(K,{className:"w-full max-w-md bg-gray-900 border-gray-800",children:[s.jsxs(de,{className:"text-center",children:[s.jsx(pe,{className:"text-2xl font-bold text-white",children:"Email Verification"}),s.jsx(Ve,{className:"text-gray-400",children:"Verifying your email address..."})]}),s.jsx(X,{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[r==="loading"&&s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"h-16 w-16 text-cyan-500 animate-spin mb-4"}),s.jsx("p",{className:"text-gray-300 text-center",children:"Please wait while we verify your email..."})]}),r==="success"&&s.jsxs(s.Fragment,{children:[s.jsx(ev,{className:"h-16 w-16 text-green-500 mb-4"}),s.jsx("p",{className:"text-gray-300 text-center font-medium mb-2",children:i}),s.jsx("p",{className:"text-gray-400 text-sm text-center",children:"Redirecting you to login..."})]}),r==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(Io,{className:"h-16 w-16 text-red-500 mb-4"}),s.jsx("p",{className:"text-gray-300 text-center font-medium mb-4",children:i}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(F,{onClick:()=>t("/login"),className:"bg-cyan-600 hover:bg-cyan-700","data-testid":"button-go-to-login",children:"Go to Login"}),s.jsx(F,{onClick:()=>t("/"),variant:"outline",className:"border-gray-700 hover:bg-gray-800","data-testid":"button-go-home",children:"Go Home"})]})]})]})})]})})}y.lazy(()=>Promise.resolve({default:()=>s.jsx("div",{children:"Not available in production"})}));const u9e=new Qte,d9e=()=>s.jsx(Zte,{client:u9e,children:s.jsx(fre,{children:s.jsx(xre,{children:s.jsx(cJ,{attribute:"class",defaultTheme:"dark",enableSystem:!1,disableTransitionOnChange:!0,children:s.jsxs(O6,{children:[s.jsx(aJ,{}),s.jsx(VJ,{}),s.jsxs(lre,{children:[s.jsx(Bre,{}),s.jsx(bie,{}),s.jsx("div",{className:"pt-16 w-full min-w-0 max-w-none",children:s.jsxs(ere,{children:[s.jsx(jt,{path:"/",element:s.jsx(_ie,{})}),s.jsx(jt,{path:"/login",element:s.jsx(Ooe,{})}),s.jsx(jt,{path:"/admin/login",element:s.jsx(n8e,{})}),s.jsx(jt,{path:"/register",element:s.jsx(Voe,{})}),s.jsx(jt,{path:"/forgot-password",element:s.jsx(zoe,{})}),s.jsx(jt,{path:"/reset-password",element:s.jsx(qoe,{})}),s.jsx(jt,{path:"/verify-email",element:s.jsx(c9e,{})}),!1,s.jsx(jt,{path:"/dashboard",element:s.jsx(Qs,{children:s.jsx(Hle,{})})}),s.jsx(jt,{path:"/settings",element:s.jsx(Qs,{children:s.jsx(l9e,{})})}),s.jsx(jt,{path:"/marketplace",element:s.jsx(R6e,{})}),s.jsx(jt,{path:"/pricing",element:s.jsx(GUe,{})}),s.jsx(jt,{path:"/checkout",element:s.jsx(Qs,{children:s.jsx(XUe,{})})}),s.jsx(jt,{path:"/subscription/success",element:s.jsx(Qs,{children:s.jsx(QUe,{})})}),s.jsx(jt,{path:"/subscription/cancel",element:s.jsx(Qs,{children:s.jsx(ZUe,{})})}),s.jsx(jt,{path:"/credits/success",element:s.jsx(Qs,{children:s.jsx(JUe,{})})}),s.jsx(jt,{path:"/credits/cancel",element:s.jsx(Qs,{children:s.jsx(e8e,{})})}),s.jsx(jt,{path:"/reports",element:s.jsx(Qs,{children:s.jsx(V8,{})})}),s.jsx(jt,{path:"/admin",element:s.jsx(fi,{children:s.jsx(i8e,{})})}),s.jsx(jt,{path:"/admin/vendors",element:s.jsx(fi,{children:s.jsx(u8e,{})})}),s.jsx(jt,{path:"/admin/users",element:s.jsx(fi,{children:s.jsx(v8e,{})})}),s.jsx(jt,{path:"/admin/templates",element:s.jsx(fi,{children:s.jsx(D8e,{})})}),s.jsx(jt,{path:"/admin/reports",element:s.jsx(fi,{children:s.jsx($8e,{})})}),s.jsx(jt,{path:"/admin/subscriptions",element:s.jsx(fi,{children:s.jsx(L8e,{})})}),s.jsx(jt,{path:"/admin/plans",element:s.jsx(fi,{children:s.jsx(U8e,{})})}),s.jsx(jt,{path:"/admin/coupons",element:s.jsx(fi,{children:s.jsx(Zze,{})})}),s.jsx(jt,{path:"/admin/legal-documents",element:s.jsx(fi,{children:s.jsx(Jze,{})})}),s.jsx(jt,{path:"/admin/leads",element:s.jsx(fi,{children:s.jsx(i9e,{})})}),s.jsx(jt,{path:"/assessment-flow",element:s.jsx(jBe,{})}),s.jsx(jt,{path:"/assessment-templates",element:s.jsx(ABe,{})}),s.jsx(jt,{path:"/assessment/execute/:templateId",element:s.jsx(Qs,{children:s.jsx(VBe,{})})}),s.jsx(jt,{path:"/assessment/journey/:assessmentId",element:s.jsx(Qs,{children:s.jsx(Ale,{})})}),s.jsx(jt,{path:"/assessment/results/:assessmentId",element:s.jsx(Qs,{children:s.jsx(YBe,{})})}),s.jsx(jt,{path:"/assessments/:assessmentId/priorities",element:s.jsx(Qs,{children:s.jsx(qUe,{})})}),s.jsx(jt,{path:"*",element:s.jsx(HUe,{})})]})})]})]})})})})});iF(document.getElementById("root")).render(s.jsx(d9e,{}));
